{"version":3,"sources":["media/content-background.jpg","Config.js","Utils.js","Communicator.js","components/NoticationBar.js","components/Dropdown.js","components/Modal.js","components/LoadDialog.js","components/RegisterPage.js","components/Profile.js","components/ContentPage.js","components/RightMenu.js","components/ModeratorPage.js","components/PostPage.js","components/LeftMenu.js","App.js","components/Post.js","components/MainPage.js","index.js"],"names":["module","exports","User","createContext","Page","PageProvider","props","setPage","tag","setState","state","item","tags","includes","push","currentTags","popPage","length","pop","setTags","searchTerm","Provider","value","this","children","Component","UserProvider","editUser","details","username","followingSports","undefined","followingSport","followingTeams","followingCompetitions","followers","following","rank","moderatedTags","editTeams","team","type","fTeams","i","splice","editCompetitions","competition","fComps","addFollowing","set","Set","Array","from","removeFollowing","delete","isMod","token","isAuthenticated","document","cookie","EmbedLink","link","viewType","match","controls","src","className","alt","getToken","split","logOut","multiple","key","removeCookies","window","location","reload","isEmptyOrSpaces","str","endPoint","Login","password","a","axios","post","toLowerCase","res","data","GetSelfInfo","GetUserInfo","Register","SubmitPost","title","body","isEmbed","file","ext","time","arrayBuffer","buffer","arr","Uint8Array","DeletePost","id","postId","GetPosts","filter","GetPostsByUser","DoVote","voteType","commentId","GetTeams","get","GetLeagues","GetFixturesInLeague","leagueId","GetFixturesInLeagueByName","name","leagueName","GetFixtureDetails","fixtureId","GetTeamMatches","FollowUser","user","FollowTag","isAdded","MakeComment","description","isChild","GetPostComments","QuickSearch","term","PageSearch","FlagPost","MuteUser","person","muteDuration","BanUser","GetLogs","page","RemoveLog","logId","CheckIfPostExists","PromoteToMod","DemoteToUser","ChangeSocial","socialType","socialLink","message","changeNotificationVisibility","NotificationBar","useState","visible","setVisibility","showNotification","mssg","callback","setTimeout","Dropdown","contentClass","setContentClass","setTitle","dropdown","useRef","documentClick","e","current","contains","target","useEffect","addEventListener","removeEventListener","onClick","stopPropagation","style","width","expanded","zIndex","ref","choices","map","choice","action","changeVisibility","modalSpecList","ModalSpec","modalName","modalFunc","additionalInfo","Run","visibility","LoginModal","setUsername","setPassword","setModalVisibility","onChange","event","Consumer","status","now","Date","getTime","setTime","toUTCString","followedSports","followedCompetitions","followedTeams","FeedbackModal","setText","topic","setTopic","margin","CreatePostModal","setBody","selectedTab","setFile","placeholder","accept","files","submitPost","MuteUserModal","hours","setHours","minutes","setMinutes","convertTime","marginTop","parseInt","defaultValue","isNaN","find","SingleTextModal","text","buttonText","HelpModal","spec","LoadScreen","setLoadScreen","isOn","selectedItems","sports","competitions","teams","confirmPass","RegisterPage","leagues","setLeagues","setTeams","league","itemsToArray","result","InitialPage","enabled","items","clicked","captchaPassed","setCaptchaPassed","sitekey","click","TileHolder","Tile","setStyle","add","currentUser","ProfileDesktop","socialLinks","userInfo","setUserInfo","postsPromise","userPromise","Promise","allSettled","then","results","posts","console","log","totalVotes","dateJoined","SocialLink","instagram","logo","youtube","twitter","facebook","reddit","pinterest","updatedInfo","setLink","currentMatch","MatchAttribute","team1","value1","team2","value2","ShowContentPage","_currentMatch","ContentPage","updateFixtures","updateTab","changeContentPage","fixtureDetails","setFixtureDetails","fixture_id","isActivated","GetDetails","date","parse","event_date","background","toLocaleDateString","homeTeam","team_name","goalsHomeTeam","goalsAwayTeam","awayTeam","venue","score","halftime","home","away","profileUsername","backButtonListenerStack","addToBackButtonStack","count","level","fixture","lastTab","showUserProfile","RightMenuContent","setContentPageVisibility","selectFixtureTab","fixtureTabClicked","tab","setTab","fixtureTab","isContentPageVisible","fixtures","Tabs","setContent","NavigationBody","tabClick","currentPage","teamFixtures","setTeamFixtures","competitionFixtureResolver","statusArray","icon","filtered","statusShort","InfoTile","teamFixtureResolver","lastTag","secondLastTab","countryCode","_id","teamId","selectedCompetition","RightMenu","_setLogs","setFixtures","tabNumber","previousTab","res_team","res_league","getData","display","activated","currentPost","PostPage","input","setInput","CommentInput","typedComment","textInput","commentFilter","setCommentFilter","tree","commentArray","commentDictionary","transformToObject","parentId","isLeaf","votes","search","childrenIds","childrenTree","rowStack","firstRow","childId","row","newChildRow","child","branch","unshift","renderTree","sort","b","forEach","x","setDivision","embedUrl","FilterBar","root","Comment","replySelected","setReplySelected","reply","setReply","vote","setVotes","tArea","voteComment","CommentDropdown","dropdownVisibility","setDropdownVisibility","buttonDisplayData","setButtonDisplayData","dropdownSelect","toUpperCase","right","left","menuOpen","setMenuOpen","deletePost","DoVoteComment","showPostPage","Object","values","ModerationLog","logs","setLogs","Log","showPost","postTitle","postUsername","l","totalFlags","timeVal","newPost","toLocaleString","ModeratorPage","CredentialBar","nameClass","MenuColumn","MenuButton","onPress","iconClass","SetDivision","loadLogs","FollowingContainer","FollowingButton","itemClicked","TeamSearched","CompetitionSearched","LeftMenu","setDiv","Post","PostDropdown","setPosts","resp","isInBounds","some","elem","p","flagPost","muteUser","banUser","PostContainer","setFilter","setViewType","followClicked","tagsToGet","fetchData","SearchBar","CreatePostBar","execute","array","isUsed","followText","CreatePostButton","typingTimer","setTypingTimer","setActivation","users","searchResults","setSearchResults","setTerm","inputChanged","clearInterval","SearchPage","pageProvider","searchPage","reduce","prev","curr","isEmpty","SearchInPage","FixtureSearched","UserSearched","PostSearched","Division","division","NavBar","onMenuClick","val","menu","changeMenu","App","setMenu","getUser","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.090a3f79.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/content-background.e23b19e7.jpg\";","/* eslint-disable eqeqeq */\r\nimport React, { createContext, Component, useContext, } from 'react'\r\n\r\nexport const User = createContext(null)\r\nexport const Page = createContext(null)\r\n\r\nexport class PageProvider extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.setPage = (tag) => {\r\n            this.setState(state => {\r\n\r\n                for (let item of tag) {\r\n                    if (!state.tags.includes(item)) {\r\n                        state.tags.push(item)\r\n                    }\r\n                }\r\n\r\n                state.currentTags = tag\r\n                return state\r\n            })\r\n        }\r\n\r\n        this.popPage = (tag) => {\r\n            this.setState(state => {\r\n                if (state.tags.includes(tag)) {\r\n                    if (state.tags.length == 1)\r\n                        return state\r\n\r\n                    state.tags.pop()\r\n                    state.currentTags = [state.tags[state.tags.length - 1]]\r\n\r\n                    return state\r\n                }\r\n                return state\r\n            })\r\n        }\r\n\r\n        this.setTags = (tags) => { //Only use for search as menu refresh relies on this\r\n            this.setState(state => {\r\n                state.tags = tags\r\n                state.currentTags = [tags[tags.length - 1]]\r\n                state.searchTerm = [tags[tags.length - 1]]\r\n                return state\r\n            })\r\n        }\r\n\r\n        this.state = {\r\n            searchTerm: null,\r\n            tags: ['home'],\r\n            currentTags: ['home'],\r\n            setPage: this.setPage,\r\n            popPage: this.popPage,\r\n            setTags: this.setTags\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Page.Provider value={this.state}>\r\n                {this.props.children}\r\n            </Page.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nclass UserProvider extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.editUser = (details) => {\r\n            this.setState(state => {\r\n                state.username = details.username\r\n                state.followingSports = details.followingSports == undefined ? [] : details.followingSport\r\n                state.followingTeams = details.followingTeams == undefined ? [] : details.followingTeams\r\n                state.followingCompetitions = details.followingCompetitions == undefined ? [] : details.followingCompetitions\r\n                state.followers = details.followers == undefined ? [] : details.followers\r\n                state.following = details.following == undefined ? [] : details.following\r\n                state.rank = details.rank\r\n                state.moderatedTags = details.moderatedTags\r\n                return details\r\n            })\r\n        }\r\n\r\n        this.editTeams = (team, type) => {\r\n            this.setState(state => {\r\n                let fTeams = [...state.followingTeams]\r\n\r\n                if (type == 'add') {\r\n                    for (let item of fTeams) {\r\n                        if (item[0] == team[0])\r\n                            return\r\n                    }\r\n\r\n                    fTeams.push(team)\r\n                } else {\r\n                    for (let i = 0; i < fTeams.length; i++) {\r\n                        if (fTeams[i][0] == team[0])\r\n                            fTeams.splice(i, 1)\r\n                    }\r\n                }\r\n\r\n                return {...state, followingTeams: fTeams}\r\n            })\r\n        }\r\n\r\n        this.editCompetitions = (competition, type) => {\r\n            this.setState(state => {\r\n                let fComps = [...state.followingCompetitions]\r\n\r\n                if (type == 'add') {\r\n                    for (let item of fComps) {\r\n                        if (item[0] == competition[0])\r\n                            return\r\n                    }\r\n\r\n                    fComps.push(competition)\r\n                } else {\r\n                    for (let i = 0; i < fComps.length; i++) {\r\n                        if (fComps[i][0] == competition[0])\r\n                            fComps.splice(i, 1)\r\n                    }\r\n                }\r\n                return { ...state, followingCompetitions: fComps }\r\n            })\r\n        }\r\n\r\n        this.addFollowing = (following) => {\r\n            this.setState(state => {\r\n                let set = new Set([...state.following, following])\r\n                state.following = Array.from(set)\r\n                return state\r\n            })\r\n        }\r\n\r\n        this.removeFollowing = (following) => {\r\n            this.setState(\r\n                state => {\r\n                    let set = new Set(state.following)\r\n                    set.delete(following)\r\n                    state.following = Array.from(set)\r\n                }\r\n            )\r\n        }\r\n\r\n        this.state = {\r\n            editCompetitions: this.editCompetitions,\r\n            editTeams: this.editTeams,\r\n            editUser: this.editUser,\r\n            addFollowing: this.addFollowing,\r\n            removeFollowing: this.removeFollowing,\r\n            isMod: () => this.state.rank != \"\" && this.state.rank != \"user\" ? true : false,\r\n            followingSports: [],\r\n            followingCompetitions: [],\r\n            followingTeams: [],\r\n            following: [],\r\n            followers: [],\r\n            username: null,\r\n            rank: '',\r\n            moderatedTags: [],\r\n            token: null\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <User.Provider value={this.state}>\r\n                {this.props.children}\r\n            </User.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserProvider","import React, { useRef, useEffect, useState, useContext } from 'react'\r\nimport Embed from 'react-embed'\r\nimport { User, Page } from './Config'\r\n\r\nexport function isAuthenticated() {\r\n  let cookie = document.cookie\r\n\r\n  if (cookie === \"\")\r\n    return false\r\n  else\r\n    return true\r\n}\r\n\r\nexport function EmbedLink(link, viewType) {\r\n  if(link.match(/\\.([^\\.]+)$/)[1] == 'mp4')\r\n    return <video controls>\r\n      <source src={link}></source>\r\n    </video>\r\n  else\r\n    return <img className=\"image\" src={link} alt=\"[Content has been removed from host]\" ></img>\r\n  // if (link.includes('fbcdn') || link.includes('twimg')) {\r\n  //   return <img className=\"image\" src={link} alt=\"[Content has been removed from host]\" ></img>\r\n  // }\r\n  // else if (link.includes('youtube')) {\r\n  //   return viewType == 0 ? <Embed url={link}></Embed> : <p className='video-placeholder'>VIDEO</p>\r\n  // }\r\n}\r\n\r\nexport function getUser() {\r\n  alert('not implemented')\r\n}\r\n\r\nexport function getToken() {\r\n  let cookie = document.cookie\r\n\r\n  if (cookie === \"\")\r\n    return null\r\n\r\n  return cookie.split('=')[1]\r\n}\r\n\r\nexport function logOut() {\r\n  removeCookies()\r\n  window.location.reload()\r\n}\r\n\r\nfunction removeCookies() {\r\n  var res = document.cookie;\r\n  var multiple = res.split(\";\");\r\n  for (var i = 0; i < multiple.length; i++) {\r\n    var key = multiple[i].split(\"=\");\r\n    document.cookie = key[0] + \" =; expires = Thu, 01 Jan 1970 00:00:00 UTC\";\r\n  }\r\n}\r\n\r\nexport function isEmptyOrSpaces(str) {\r\n  return str === null || str.match(/^ *$/) !== null;\r\n}\r\n\r\nexport function validURL(str) {\r\n  try {\r\n    new URL(str)\r\n  } catch (_) {\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\nexport function useModInBounds() {\r\n  let userContext = useContext(User)\r\n  let pageContext = useContext(Page)\r\n\r\n  if (userContext.rank == 'user' || userContext.rank == '')\r\n    return false\r\n\r\n  if (userContext.rank == 'admin')\r\n    return true\r\n\r\n  if (userContext.moderatedTags.includes(pageContext.currentTags[pageContext.currentTags.length - 1])) {\r\n    return true\r\n  }\r\n  else {\r\n    return false\r\n  }\r\n}","import axios from 'axios'\r\nimport { getToken } from './Utils'\r\n\r\n//http://192.168.2.4:80\r\n//https://sportsment.herokuapp.com\r\nlet endPoint = 'https://sportsment.herokuapp.com'\r\n\r\nexport async function Login(username, password) {\r\n    let res = await axios.post(`${endPoint}/auth/login`, { username: username.toLowerCase(), password: password })\r\n    return res.data\r\n}\r\n\r\nexport async function GetSelfInfo() {\r\n    let res = await axios.post(`${endPoint}/auth/selfinfo`, { token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetUserInfo(username) {\r\n    let res = await axios.post(`${endPoint}/auth/getuserinfo`, { username: username, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function Register(username, password, following) {\r\n    let res = await axios.post(`${endPoint}/auth/register`, { username: username.toLowerCase(), password: password, following: following })\r\n    return res.data\r\n}\r\n\r\nexport async function SubmitPost(title, body, tags, isEmbed, file, ext, time) {\r\n    let buffer = await file.arrayBuffer()\r\n    let arr = new Uint8Array(buffer)\r\n    let res = await axios.post(`${endPoint}/posts/create`, { title: title, body: body, tags: tags, isEmbed: isEmbed, file: arr, ext: ext, time: time, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function DeletePost(id){\r\n    let res = await axios.post(`${endPoint}/posts/delete`, { postId: id, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetPosts(tags, filter) {\r\n    let res = await axios.post(`${endPoint}/posts/getposts`, { tags: tags, filter: filter })\r\n    return res.data\r\n}\r\n\r\nexport async function GetPostsByUser(username) {\r\n    let res = await axios.post(`${endPoint}/posts/getpostsbyuser`, { username: username, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function DoVote(voteType, tag, postId) {\r\n    let res = await axios.post(`${endPoint}/posts/vote`, { token: getToken(), voteType: voteType, tag: tag, postId: postId })\r\n    return res.data\r\n}\r\n\r\nexport async function DoVoteComment(voteType, commentId) {\r\n    let res = await axios.post(`${endPoint}/comments/vote`, { token: getToken(), voteType: voteType, commentId: commentId })\r\n    return res.data\r\n}\r\n\r\nexport async function GetTeams() {\r\n    let res = await axios.get(`${endPoint}/teams/getteams`)\r\n    return res.data\r\n}\r\n\r\nexport async function GetLeagues() {\r\n    let res = await axios.get(`${endPoint}/leagues/getleagues`)\r\n    return res.data\r\n}\r\n\r\nexport async function GetFixturesInLeague(leagueId) {\r\n    let res = await axios.post(`${endPoint}/fixtures/getfixtures`, { leagueId: leagueId, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetFixturesInLeagueByName(name){\r\n    let res = await axios.post(`${endPoint}/fixtures/getfixturesfromname`, { leagueName: name, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetFixtureDetails(fixtureId) {\r\n    let res = await axios.post(`${endPoint}/fixtures/getfixturedetails`, { fixtureId: fixtureId, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetTeamMatches(team) {\r\n    let res = await axios.post(`${endPoint}/teams/getteammatches`, { team: team, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function FollowUser(user) {\r\n    let res = await axios.post(`${endPoint}/auth/followuser`, { username: user, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function FollowTag(tag, name, type, isAdded) {\r\n    let res = await axios.post(`${endPoint}/auth/followtag`, { tag: tag, name: name, type: type, isAdded: isAdded, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function MakeComment(description, isChild, id) {\r\n    let res = await axios.post(`${endPoint}/comments/comment`, { description: description, isChild: isChild, id: id, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetPostComments(postId) {\r\n    let res = await axios.post(`${endPoint}/comments/getpostcomments`, { id: postId })\r\n    return res.data\r\n}\r\n\r\nexport async function QuickSearch(term){\r\n    let res = await axios.post(`${endPoint}/search/quicksearch`, { term: term })\r\n    return res.data\r\n}\r\n\r\nexport async function PageSearch(term, tag){\r\n    let res = await axios.post(`${endPoint}/search/searchbypage`, { term: term, tag: tag })\r\n    return res.data\r\n}\r\n\r\nexport async function FlagPost(postId){\r\n    let res = await axios.post(`${endPoint}/posts/flagpost`, { token: getToken(), postId: postId })\r\n    return res.data\r\n}\r\n\r\nexport async function MuteUser(person, muteDuration){\r\n    let res = await axios.post(`${endPoint}/auth/muteuser`, { token: getToken(), person: person, muteDuration: muteDuration })\r\n    return res.data\r\n}\r\n\r\nexport async function BanUser(person){\r\n    let res = await axios.post(`${endPoint}/auth/banuser`, { token: getToken(), person: person})\r\n    return res.data\r\n}\r\n\r\nexport async function GetLogs(page){\r\n    let res = await axios.post(`${endPoint}/auth/getlogs`, { token: getToken(), page: page})\r\n    return res.data\r\n}\r\n\r\nexport async function RemoveLog(logId){\r\n    let res = await axios.post(`${endPoint}/auth/deletelog`, { token: getToken(), logId: logId})\r\n    return res.data\r\n}\r\n\r\nexport async function CheckIfPostExists(postId){\r\n    let res = await axios.post(`${endPoint}/posts/checkifpostavailable`, { token: getToken(), id: postId })\r\n    return res.data\r\n}\r\n\r\nexport async function PromoteToMod(user){\r\n    let res = await axios.post(`${endPoint}/auth/addmoderator`, { token: getToken(), person: user })\r\n    return res.data\r\n}\r\n\r\nexport async function DemoteToUser(user){\r\n    let res = await axios.post(`${endPoint}/auth/removemoderator`, { token: getToken(), person: user })\r\n    return res.data\r\n}\r\n\r\nexport async function ChangeSocial(socialType, link){\r\n    let res = await axios.post(`${endPoint}/auth/changesocial`, { token: getToken(), socialType: socialType, socialLink: link })\r\n    return res.data\r\n}","import React, {useState} from 'react'\r\n\r\nlet message = ''\r\nlet changeNotificationVisibility  = null\r\n\r\nexport function NotificationBar(){\r\n\r\n    const [visible, setVisibility] = useState(false)\r\n    changeNotificationVisibility = setVisibility\r\n\r\n    if(!visible)\r\n        return null\r\n\r\n    return(\r\n        <div id=\"notification-bar\">\r\n            <p className=\"description\">{message}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function showNotification(mssg, callback){\r\n    message = mssg\r\n    if(changeNotificationVisibility == null)\r\n        return\r\n\r\n    changeNotificationVisibility(true)\r\n    callback && callback()\r\n\r\n    setTimeout(() => {\r\n        message = \"\"\r\n        changeNotificationVisibility(false)        \r\n    }, 4000)\r\n}","import React, { useState, useRef, useEffect } from 'react'\r\nimport FitText from 'react-fittext'\r\n\r\nexport function Dropdown(props) {\r\n    const [contentClass, setContentClass] = useState('content')\r\n    const [title, setTitle] = useState(props.title)\r\n    const dropdown = useRef(null)\r\n\r\n    function documentClick(e){\r\n        if (dropdown.current && !dropdown.current.contains(e.target)) {\r\n            setContentClass('content')\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', documentClick)\r\n        return () => {\r\n            document.removeEventListener('mousedown', documentClick)\r\n        }\r\n    }, [contentClass])\r\n\r\n    return (\r\n        <div onClick={e => e.stopPropagation()} className=\"dropdown\" style={{width: props.expanded != null ? props.expanded : '100px',zIndex: props.zIndex != null ? props.zIndex : {}}} ref={dropdown}>\r\n            <div className=\"button\">\r\n                <div className=\"items\" onClick={() => { contentClass == 'content' ? setContentClass('content open') : setContentClass('content') }}>\r\n                    <p className=\"text\">{title}</p>\r\n                    <i className=\"trailing fas fa-caret-down\"></i>\r\n                </div>\r\n                <div className=\"shadow\"></div>\r\n                <div className={contentClass}>\r\n                    {\r\n                        props.choices.map(choice => <p onClick={() => {choice.action(setTitle); setContentClass('content')}} key={choice.name}>{choice.name}</p>)\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { Login, SubmitPost, MuteUser } from '../Communicator'\r\nimport { showNotification } from './NoticationBar'\r\nimport { User, Page } from '../Config'\r\nimport { isEmptyOrSpaces, validURL } from '../Utils'\r\nimport { Dropdown } from './Dropdown'\r\nimport FitText from 'react-fittext'\r\n\r\nlet modalSpecList = []\r\n\r\nfunction ModalSpec(modalName, modalFunc, additionalInfo) {\r\n    this.modalName = modalName\r\n    this.modalFunc = modalFunc\r\n    this.Run = (visibility) => { this.modalFunc(visibility) }\r\n    this.additionalInfo = additionalInfo\r\n}\r\n\r\nexport function LoginModal() {\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [user, setUser] = useState(null)\r\n    const [visible, setVisibility] = useState(false)\r\n\r\n    useEffect(() => {\r\n        modalSpecList.push(new ModalSpec(\"login\", setVisibility))\r\n    }, [])\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div onClick={() => { setModalVisibility(\"login\", false) }} id=\"modal\">\r\n            <div className=\"login\" id=\"dialog\" onClick={(e) => { e.stopPropagation() }}>\r\n                <p className=\"title\">LOG-IN</p>\r\n                <p>Username:</p>\r\n                <input className=\"username\" onChange={(event) => { setUsername(event.target.value) }} type=\"text\"></input>\r\n                <p>Password:</p>\r\n                <input className=\"password\" onChange={(event) => { setPassword(event.target.value) }} type=\"password\"></input>\r\n                <div className=\"space\"></div>\r\n                <User.Consumer>{\r\n                    user => <div className=\"btn default\" onClick={async () => {\r\n\r\n                        let data = await Login(username, password)\r\n\r\n                        if (data.status === \"success\") {\r\n                            setModalVisibility(\"login\", false)\r\n                            let now = new Date()\r\n                            let time = now.getTime()\r\n                            time += 3600000\r\n                            now.setTime(time)\r\n                            document.cookie = `token=${data.data.token}; expires=${now.toUTCString()};`\r\n                            user.editUser({\r\n                                username: username,\r\n                                token: data.data.token,\r\n                                followingSports: data.data.followedSports,\r\n                                followingCompetitions: data.data.followedCompetitions,\r\n                                followingTeams: data.data.followedTeams,\r\n                                followers: data.data.followers,\r\n                                following: data.data.following,\r\n                                rank: data.data.rank,\r\n                                moderatedTags: data.data.moderatedTags\r\n                            })\r\n                        }\r\n\r\n\r\n                        showNotification(data.message)\r\n                    }}>\r\n                        LOGIN\r\n                </div>\r\n                }</User.Consumer>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function FeedbackModal() {\r\n    const [text, setText] = useState('')\r\n    const [topic, setTopic] = useState(null)\r\n    const [visible, setVisibility] = useState(false)\r\n\r\n    useEffect(() => {\r\n        modalSpecList.push(new ModalSpec(\"feedback\", setVisibility))\r\n    }, [])\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div onClick={(e) => { setModalVisibility(\"feedback\", false) }} id=\"modal\">\r\n            <div className=\"login\" id=\"dialog\" onClick={(e) => { e.stopPropagation() }}>\r\n                <p className=\"title\">FEEDBACK</p>\r\n                <p>SELECT QUESTION TYPE:</p>\r\n                <div style={{ margin: \"10px 0px\" }}>\r\n                    <Dropdown title=\"Select...\" expanded={'200px'} choices={[\r\n                        { name: 'FEATURE SUGGESTION', action: (title) => { title('FEATURE SUGGESTION'); setTopic('feature_suggestion') } },\r\n                        { name: 'SITE PROBLEM', action: (title) => { title('SITE PROBLEM'); setTopic('site_problem') } },\r\n                        { name: 'QUESTION', action: (title) => { title('QUESTION'); setTopic('question') } },\r\n                    ]}></Dropdown>\r\n                </div>\r\n                <p>MESSAGE:</p>\r\n                <input className=\"username\" onChange={(event) => { setText(event.target.value) }} type=\"text\"></input>\r\n                <div className=\"space\"></div>\r\n                <div className=\"btn default\" onClick={async () => {\r\n                    if (topic == null)\r\n                        return showNotification('Please select topic')\r\n                    //Send message\r\n                    showNotification('Message sent')\r\n                }}>\r\n                    SEND\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function CreatePostModal() { //Hide main page when shown, or?\r\n\r\n    const [visible, setVisibility] = useState(false)\r\n    const [title, setTitle] = useState('')\r\n    const [body, setBody] = useState('') //SET VALIDATION\r\n    const [selectedTab, changeSelectedTab] = useState(2)\r\n    const [file, setFile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        modalSpecList.push(new ModalSpec(\"createpost\", setVisibility))\r\n    }, [])\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div id=\"create-post-dialog\">\r\n            <div className=\"create-post-container\">\r\n                <h2 className=\"title\">CREATE A POST</h2>\r\n                <div className=\"divider\"></div>\r\n                <div className=\"content-holder\">\r\n                    <div className=\"type-selector\">\r\n                        {/* <div className={`type ${selectedTab == 1 ? 'selected' : ''}`} onClick={() => { changeSelectedTab(1) }}>Text</div> */}\r\n                        {/* <div className={`type ${selectedTab == 2 ? 'selected' : ''}`} onClick={() => { changeSelectedTab(2) }}>Embed</div> */}\r\n                    </div>\r\n                    <p className=\"disclaimer\">\r\n                        Please enter a valid media URL from Facebook, Instagram, Youtube or any of the supported websites.\r\n                </p>\r\n                    <input placeholder=\"Enter title...\" onChange={(e) => { setTitle(e.target.value) }}></input>\r\n                    <form>\r\n                        {\r\n                            selectedTab == 1 ? <textarea placeholder=\"Enter description...\" onChange={(e) => { setBody(e.target.value) }}></textarea> :\r\n                                <input type=\"file\" accept=\"image/jpeg, image/png, video/mp4\" onChange={(e) => {\r\n                                    var file = e.target.files[0]\r\n                                    var ext = file.name.match(/\\.([^\\.]+)$/)[1];\r\n\r\n                                    switch (ext) {\r\n                                        case 'jpg':\r\n                                            break\r\n                                        case 'png':\r\n                                            break\r\n                                        case 'mp4':\r\n                                            break\r\n                                        default:\r\n                                            showNotification(\"This file type is not allowed\")\r\n                                            e.target.value = null\r\n                                            setFile(null)\r\n                                            return\r\n                                    }                                 \r\n\r\n                                    setFile([file, ext])\r\n                                }\r\n                                }></input>\r\n                        }\r\n                    </form>\r\n                    <div className=\"row\">\r\n                        <Page.Consumer>\r\n                            {page =>\r\n                                <div className=\"button fixed\" onClick={() => { \r\n                                    submitPost(title, body, page.tags, selectedTab == 2 ? true : false, file) \r\n                                    }}>\r\n                                    <div className=\"items\">\r\n                                        <p className=\"text\">POST</p>\r\n                                    </div>\r\n                                    <div className=\"shadow\"></div>\r\n                                </div>\r\n                            }\r\n                        </Page.Consumer>\r\n                        <div className=\"button fixed\" onClick={() => { setVisibility(false) }}>\r\n                            <div className=\"items\">\r\n                                <p className=\"text\">CANCEL</p>\r\n                            </div>\r\n                            <div className=\"shadow\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function MuteUserModal() {\r\n    const [visible, setVisibility] = useState(false)\r\n    const [hours, setHours] = useState(0)\r\n    const [minutes, setMinutes] = useState(0)\r\n\r\n    useEffect(() => {\r\n        modalSpecList.push(new ModalSpec(\"muteuser\", setVisibility))\r\n    }, [])\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    function convertTime(hours, minutes) {\r\n        return (hours * 3600000) + (minutes * 60000)\r\n    }\r\n\r\n    return (\r\n        <div onClick={() => { setModalVisibility(\"muteuser\", false) }} id=\"modal\">\r\n            <div id=\"mute-user-modal\">\r\n                <div id=\"modal\">\r\n                    <div id=\"dialog\" onClick={e => e.stopPropagation()}>\r\n                        <p>Please enter the duration for which you would like to mute this user:</p>\r\n                        <div style={{ marginTop: '10px' }}>\r\n                            <p>Hours:</p>\r\n                            <input onChange={(e) => { setHours(parseInt(e.target.value)) }} defaultValue={0} type=\"number\"></input>\r\n                            <p>Minutes:</p>\r\n                            <input onChange={(e) => { setMinutes(parseInt(e.target.value)) }} defaultValue={0} type=\"number\"></input>\r\n                        </div>\r\n                        <div style={{ marginTop: '15px' }} className=\"btn default\" onClick={async () => {\r\n                            if (isNaN(hours) || isNaN(minutes))\r\n                                return\r\n\r\n                            MuteUser(modalSpecList.find(item => item.modalName == \"muteuser\").additionalInfo, convertTime())\r\n                            setModalVisibility(\"muteuser\", false)\r\n                        }}>MUTE</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function SingleTextModal() { //Passes with the same name to the list multiple times, could cause issues\r\n    const [visible, setVisibility] = useState(false)\r\n    const [text, setText] = useState('');\r\n\r\n    useEffect(() => {\r\n        modalSpecList.push(new ModalSpec(\"singletext\", setVisibility))\r\n    }, [])\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div onClick={() => { setModalVisibility(\"singletext\", false) }} id=\"modal\">\r\n            <div id=\"mute-user-modal\">\r\n                <div id=\"modal\">\r\n                    <div id=\"dialog\" onClick={e => e.stopPropagation()}>\r\n                        <p>{modalSpecList.find(i => i.modalName == \"singletext\").additionalInfo.title}</p>\r\n                        <div style={{ marginTop: '10px' }}>\r\n                            <input onChange={(e) => { setText(e.target.value) }} style={{ width: '100%' }}></input>\r\n                        </div>\r\n                        <div style={{ marginTop: '15px' }} className=\"btn default\" onClick={async () => {\r\n                            modalSpecList.find(i => i.modalName == \"singletext\").additionalInfo.callback(text)\r\n                            setModalVisibility(\"singletext\", false)\r\n                        }}>{modalSpecList.find(i => i.modalName == \"singletext\").additionalInfo.buttonText}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function HelpModal() {\r\n    const [visible, setVisibility] = useState(false)\r\n\r\n    useEffect(() => {\r\n        modalSpecList.push(new ModalSpec(\"help\", setVisibility))\r\n    }, [])\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (<div onClick={() => { setModalVisibility(\"help\", false) }} id=\"modal\">\r\n        <div className=\"help-page\" onClick={(e) => { e.stopPropagation() }}>\r\n            <i className=\"exit fas fa-times-circle\" onClick={() => { setModalVisibility(\"help\", false) }}></i>\r\n            <p>HELP</p>\r\n            <div className=\"divider\"></div>\r\n            <pre>\r\n                {`\r\n            You can find some frequently asked questions in this section.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n\r\n            Do I need to register for this website?\r\n            Yes, you need to register for this website.\r\n            `}\r\n            </pre>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\n//\r\nasync function submitPost(title, body, tags, isEmbed, file) {\r\n\r\n    if (file == null) {\r\n        showNotification('Enter a valid address')\r\n        return\r\n    }\r\n\r\n    let data = await SubmitPost(title, body, tags, isEmbed, file[0], file[1], Date.now()) //TODO: Convert link to file and file to base64\r\n\r\n    if (data.status === \"success\")\r\n        showNotification('Posted successfully')\r\n\r\n    setModalVisibility(\"createpost\", false)\r\n}\r\n\r\nfunction checkLink(link) {\r\n    if (isEmptyOrSpaces(link))\r\n        return false\r\n\r\n    if (!link.includes('facebook') && !link.includes('instagram') && !link.includes('twitter') && !link.includes('youtube'))\r\n        return false\r\n\r\n    if (!validURL(link))\r\n        return false\r\n\r\n    return true\r\n}\r\n\r\nexport function setModalVisibility(name, visibility, additionalInfo = {}) {\r\n    let spec = modalSpecList.find(item => item.modalName == name)\r\n    spec.additionalInfo = additionalInfo\r\n    spec.Run(visibility)\r\n}\r\n","import React, {useState} from 'react'\r\n\r\nlet changeVisibility\r\n\r\nexport function LoadScreen(){\r\n\r\n    const [visibility, setVisibility] = useState(false)\r\n    changeVisibility = setVisibility\r\n\r\n    if(!visibility)\r\n        return null\r\n\r\n    return(\r\n        <div id=\"load-screen\">\r\n            <p>Loading...</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function setLoadScreen(isOn){\r\n    changeVisibility(isOn)\r\n}","import React, { useState } from 'react'\r\nimport { GetLeagues, GetTeams, Register } from '../Communicator'\r\nimport { setLoadScreen } from './LoadDialog'\r\nimport { showNotification } from './NoticationBar'\r\nimport Recaptcha from 'react-google-recaptcha'\r\n\r\nlet selectedItems = {\r\n    sports: new Set(),\r\n    competitions: new Set(),\r\n    teams: new Set()\r\n}\r\n\r\nlet username = ''\r\nlet password = ''\r\nlet confirmPass = ''\r\n\r\nlet changeVisibility = null\r\n\r\nexport function RegisterPage() {\r\n\r\n    const [visible, setVisibility] = useState(false)\r\n    const [page, setPage] = useState(0)\r\n    const [leagues, setLeagues] = useState([])\r\n    const [teams, setTeams] = useState([])\r\n\r\n    changeVisibility = setVisibility\r\n\r\n    if (!visible) {\r\n        selectedItems = {\r\n            sports: new Set(),\r\n            competitions: new Set(),\r\n            teams: new Set()\r\n        }\r\n\r\n        username = ''\r\n        password = ''\r\n        confirmPass = ''\r\n\r\n        return null\r\n    }\r\n\r\n    async function sportsPageOnClick() {\r\n        setLoadScreen(true)\r\n        let leagues = await GetLeagues()\r\n        setLeagues(leagues.data.leagues.map(league => league.name))\r\n        setLoadScreen(false)\r\n\r\n        setPage(2)\r\n    }\r\n\r\n    async function competitionPageOnClick() {\r\n        setLoadScreen(true)\r\n        let teams = await GetTeams()\r\n        let set = new Set(teams.data.teams.map(team => team.name))\r\n        setTeams(Array.from(set))\r\n        setLoadScreen(false)\r\n\r\n        setPage(3)\r\n    }\r\n\r\n    async function teamPageOnClick() {\r\n        let sports = Array.from(selectedItems.sports)\r\n        let competitions = Array.from(selectedItems.competitions)\r\n        let teams = Array.from(selectedItems.teams)\r\n\r\n        teams = teams.map(item => [`${item}_team_result`, item])\r\n        competitions = competitions.map(item => [`${item}_competition_result`, item])\r\n\r\n        let itemsToArray = {\r\n            sports: sports,\r\n            competitions: competitions,\r\n            teams: teams\r\n        }\r\n\r\n        let result = await Register(username, password, itemsToArray)\r\n\r\n        if (result.status == \"success\") {\r\n            showNotification('Account created')\r\n            setVisibility(false)\r\n        } else {\r\n            showNotification(result.message)\r\n            setVisibility(false)\r\n        }\r\n\r\n        setPage(0)\r\n    }\r\n\r\n    return (\r\n        <div id=\"register-page-holder\">\r\n            <div id=\"register-page\">\r\n                <div className=\"header\">\r\n                    <i className=\"exit fas fa-times-circle\" onClick={() => { setVisibility(false); setPage(0) }}></i>\r\n                    <p>REGISTER</p>\r\n                </div>\r\n                <div className=\"body\">\r\n                    <InitialPage setPage={setPage} enabled={page == 0 ? true : false}></InitialPage>\r\n                    <Page items={['Soccer']} clicked={sportsPageOnClick} setPage={setPage} type={'sports'} enabled={page == 1 ? true : false}></Page>\r\n                    <Page items={leagues} clicked={competitionPageOnClick} setPage={setPage} type={'competitions'} enabled={page == 2 ? true : false}></Page>\r\n                    <Page items={teams} clicked={teamPageOnClick} setPage={setPage} type={'teams'} enabled={page == 3 ? true : false}></Page>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction InitialPage(props) {\r\n\r\n    const [captchaPassed, setCaptchaPassed] = useState(false)\r\n\r\n    if (!props.enabled)\r\n        return null\r\n\r\n    async function click() {\r\n        if (isEmptyOrSpaces(username)) {\r\n            showNotification('Please enter username')\r\n            return\r\n        }\r\n\r\n        if (isEmptyOrSpaces(password) || isEmptyOrSpaces(confirmPass)) {\r\n            showNotification('Please enter password')\r\n            return\r\n        }\r\n\r\n        if (password != confirmPass) {\r\n            showNotification('Passwords do not match')\r\n            return\r\n        }\r\n\r\n        if (password.length < 3) {\r\n            showNotification('Password length must be more than 3 letters')\r\n            return\r\n        }\r\n\r\n        props.setPage(1)\r\n    }\r\n\r\n    return (\r\n        <div id=\"register-initial\">\r\n            <p className=\"\">Username:</p>\r\n            <input onChange={(e) => { username = e.target.value }}></input>\r\n            <p className=\"\">Password:</p>\r\n            <input onChange={(e) => { password = e.target.value }} type=\"password\"></input>\r\n            <p className=\"\">Retype password:</p>\r\n            <input onChange={(e) => { confirmPass = e.target.value }} type=\"password\"></input>\r\n            <div className=\"space\"></div>\r\n            <Recaptcha sitekey=\"6LdpI8QZAAAAAP0RaC5gvSJTzpL-35bSqSQZVMGk\" onChange={() => { setCaptchaPassed(true) }}>\r\n\r\n            </Recaptcha>\r\n            {\r\n                !captchaPassed ? <></> : <div className=\"button gap\" onClick={() => { click() }}>\r\n                    <div className=\"items\">\r\n                        <div className=\"leading\">\r\n                            <p className=\"text\">NEXT</p>\r\n                        </div>\r\n                        <i className=\"trailing fas fa-arrow-right\"></i>\r\n                    </div>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Page(props) {\r\n\r\n    if (!props.enabled)\r\n        return null\r\n\r\n    return (\r\n        <div id=\"register-sports\">\r\n            <p>Select your favorite {props.type}:</p>\r\n            <div className=\"panel\">\r\n                <div className=\"items\">\r\n                    <TileHolder type={props.type} items={props.items}></TileHolder>\r\n                </div>\r\n            </div>\r\n            <div className=\"button gap\" onClick={() => { props.clicked() }}>\r\n                <div className=\"items\">\r\n                    <div className=\"leading\">\r\n                        <p className=\"text\">NEXT</p>\r\n                    </div>\r\n                    <i className=\"trailing fas fa-arrow-right\"></i>\r\n                </div>\r\n                <div className=\"shadow\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction TileHolder(props) {\r\n    return (\r\n        props.items.map(item => <Tile type={props.type} key={item} title={item}></Tile>)\r\n    )\r\n}\r\n\r\nfunction Tile(props) {\r\n\r\n    const [style, setStyle] = useState('')\r\n\r\n    function onClick() {\r\n        style == '' ? setStyle('invert') : setStyle('')\r\n        style == '' ? selectedItems[props.type].add(props.title) : selectedItems[props.type].delete(props.title)\r\n    }\r\n\r\n    return (\r\n        <div className={`tile ${style}`} onClick={() => { onClick() }}>\r\n            <div className={`dot ${style}`}></div>\r\n            {/* <div className=\"divider\"></div> */}\r\n            <p className=\"name\">{props.title}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function enablePage() {\r\n    changeVisibility(true)\r\n}\r\n\r\nfunction isEmptyOrSpaces(str) {\r\n    return str === null || str.match(/^ *$/) !== null;\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { setLoadScreen } from './LoadDialog'\r\nimport { GetPostsByUser, GetUserInfo, FollowUser, PromoteToMod, DemoteToUser, ChangeSocial } from '../Communicator'\r\nimport { User } from '../Config'\r\nimport { showNotification } from './NoticationBar'\r\nimport { setModalVisibility } from './Modal'\r\n\r\nlet changeVisibility = null\r\nlet changePosts = null\r\nlet changeUserInfo = null\r\nlet currentUser = null\r\n\r\nexport function Profile() { //Should not be used anymore\r\n    const [visibility, setVisibility] = useState(false)\r\n    const [posts, setPosts] = useState([])\r\n    const [userInfo, setUserInfo] = useState({})\r\n\r\n    useEffect(() => {\r\n        changePosts = setPosts\r\n        changeVisibility = setVisibility\r\n        changeUserInfo = setUserInfo\r\n    }, [])\r\n\r\n    if (!visibility)\r\n        return null\r\n\r\n    return (\r\n        <div className=\"user-profile\">\r\n            <div className=\"header\">\r\n                <i className=\"exit fas fa-times-circle\" onClick={() => { setVisibility(false) }}></i>\r\n                <p>{currentUser}</p>\r\n            </div>\r\n            <div className=\"stats\">\r\n                <div className=\"followers card\">\r\n                    <i className=\"icon fas fa-user-friends\"></i>\r\n                    <p className=\"title\">Followers</p>\r\n                    <p className=\"value\">{userInfo.followers ? userInfo.followers.length : 0}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n                <div className=\"likes card\">\r\n                    <i className=\"icon fas fa-thumbs-up\"></i>\r\n                    <p className=\"title\">Likes</p>\r\n                    <p className=\"value\">{userInfo.totalVotes ? userInfo.totalVotes : 0}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n                <div className=\"date card\">\r\n                    <i className=\"icon fas fa-calendar-alt\"></i>\r\n                    <p className=\"title\">Joined</p>\r\n                    <p className=\"value\">{userInfo.dateJoined}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <div className=\"social\">\r\n                <SocialLink logo=\"fab fa-instagram\" name=\"Instagram: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-youtube\" name=\"Youtube: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-twitter\" name=\"Twitter: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-facebook\" name=\"Facebook: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-reddit\" name=\"Reddit: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-pinterest\" name=\"Pinterest: \"></SocialLink>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <div className=\"follow-btn\" onClick={async () => {\r\n                let result = await FollowUser(currentUser)\r\n                if (result.status == 'failure')\r\n                    return\r\n\r\n                let updatedInfo = userInfo\r\n                updatedInfo.followers.push(currentUser) //should add this user\r\n                setUserInfo({ ...updatedInfo })\r\n            }}>\r\n                <p>FOLLOW</p>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <p className=\"post-title\">POSTS</p>\r\n            {\r\n                posts.map(post => <ProfilePost key={post._id} title={post.title} body={post.body} tags={post.tags} votes={post.votes[0].votes}></ProfilePost>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function ProfileDesktop(props) {\r\n    let username = props.username\r\n\r\n    const [userInfo, setUserInfo] = useState({socialLinks: {}})\r\n\r\n    useEffect(() => {\r\n        (() => {\r\n            setLoadScreen(true)\r\n            let postsPromise = GetPostsByUser(currentUser)\r\n            let userPromise = GetUserInfo(username)\r\n\r\n            Promise.allSettled([postsPromise, userPromise])\r\n                .then(results => {\r\n                    let posts = results[0].value\r\n                    let user = results[1].value\r\n\r\n                    if (posts.status == 'failure' || user.status == 'failure')\r\n                        return console.log('Failed')\r\n\r\n                    //posts = post.data\r\n                    setUserInfo(state => user.data)\r\n                    setLoadScreen(false)\r\n                })\r\n        })()\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"user-profile desktop\">\r\n            <div className=\"header\">\r\n                <p>{username}</p>\r\n            </div>\r\n            <div className=\"stats\">\r\n                <div className=\"followers card\">\r\n                    <i className=\"icon fas fa-user-friends\"></i>\r\n                    <p className=\"title\">Followers</p>\r\n                    <p className=\"value\">{userInfo.followers ? userInfo.followers.length : 0}</p>\r\n                    {/* <div className=\"shadow\"></div> */}\r\n                </div>\r\n                <div className=\"likes card\">\r\n                    <i className=\"icon fas fa-thumbs-up\"></i>\r\n                    <p className=\"title\">Likes</p>\r\n                    <p className=\"value\">{userInfo.totalVotes ? userInfo.totalVotes : 0}</p>\r\n                    {/* <div className=\"shadow\"></div> */}\r\n                </div>\r\n                <div className=\"date card\">\r\n                    <i className=\"icon fas fa-calendar-alt\"></i>\r\n                    <p className=\"title\">Joined</p>\r\n                    <p className=\"value\">{userInfo.dateJoined}</p>\r\n                    {/* <div className=\"shadow\"></div> */}\r\n                </div>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <div className=\"social\">\r\n                <SocialLink link={userInfo.socialLinks.instagram} username={username} logo=\"fab fa-instagram\" name=\"Instagram: \"></SocialLink>\r\n                <SocialLink link={userInfo.socialLinks.youtube} username={username} logo=\"fab fa-youtube\" name=\"Youtube: \"></SocialLink>\r\n                <SocialLink link={userInfo.socialLinks.twitter} username={username} logo=\"fab fa-twitter\" name=\"Twitter: \"></SocialLink>\r\n                <SocialLink link={userInfo.socialLinks.facebook} username={username} logo=\"fab fa-facebook\" name=\"Facebook: \"></SocialLink>\r\n                <SocialLink link={userInfo.socialLinks.reddit} username={username} logo=\"fab fa-reddit\" name=\"Reddit: \"></SocialLink>\r\n                <SocialLink link={userInfo.socialLinks.pinterest} username={username} logo=\"fab fa-pinterest\" name=\"Pinterest: \"></SocialLink>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <User.Consumer>{\r\n                user => <><div className=\"profile-btn\" onClick={async () => {\r\n                    let result = await FollowUser(username)\r\n                    if (result.status == 'failure')\r\n                        return showNotification(result.message)\r\n\r\n                    if (result.message == 'followed') {\r\n                        let updatedInfo = userInfo\r\n                        updatedInfo.following.push(username)\r\n                        user.addFollowing(username)\r\n                        setUserInfo({ ...updatedInfo })\r\n                    } else {\r\n                        let updatedInfo = userInfo\r\n                        updatedInfo.following = updatedInfo.following.filter(i => i != username)\r\n                        user.removeFollowing(username)\r\n                        setUserInfo({ ...updatedInfo })\r\n                    }\r\n                }}>\r\n                    <p>{userInfo.following && user.following && user.following.includes(username) ? 'UNFOLLOW' : 'FOLLOW'}</p>\r\n                </div>\r\n                    {\r\n                        user.rank != \"\" && user.rank != \"user\" && user.username != username && userInfo.rank == \"user\" ? <div className=\"profile-btn\" onClick={async () => {\r\n                            let res = await PromoteToMod(username)\r\n                            if (res.status == 'success')\r\n                                setUserInfo(state => ({ ...state, rank: 'mod' }))\r\n                        }}>\r\n                            <p>PROMOTE TO MOD</p>\r\n                        </div> : <></>\r\n                    }\r\n                    {\r\n                        user.rank != \"\" && user.rank != \"user\" && user.username != username && userInfo.rank == \"mod\" ? <div className=\"profile-btn\" onClick={async () => {\r\n                            let res = await DemoteToUser(username)\r\n                            if (res.status == 'success')\r\n                                setUserInfo(state => ({ ...state, rank: 'user' }))\r\n                        }}>\r\n                            <p>DEMOTE TO USER</p>\r\n                        </div> : <></>\r\n                    }\r\n                </>\r\n            }\r\n            </User.Consumer>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction SocialLink(props) {\r\n    const [link, setLink] = useState(props.link)\r\n\r\n    useEffect(() => {\r\n        setLink(state => props.link)\r\n    }, [props.link])\r\n\r\n    return (\r\n        <div className=\"social-tile\">\r\n            <i className={props.logo}></i>\r\n            <p>{props.name}</p>\r\n            <p className=\"link\">{link}</p>\r\n            <User.Consumer>\r\n                {\r\n                    user => props.username == user.username ?\r\n                        <i className=\"edit fas fa-edit\" onClick={() => {\r\n                            setModalVisibility(\"singletext\", true, {\r\n                                title: \"Please enter your user handle:\",\r\n                                buttonText: \"SUBMIT\",\r\n                                callback: async function(text) {\r\n                                    let result = await ChangeSocial(props.name.split(':')[0].toLowerCase(), text)\r\n                                    if (result.status == 'success') {\r\n                                        setLink(text)\r\n                                    }\r\n                                }\r\n                            })\r\n                        }\r\n                        }></i> :\r\n                        <></>\r\n                }\r\n            </User.Consumer>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ProfilePost(props) {\r\n\r\n    return (\r\n        <div className=\"profile-post\">\r\n            <div className=\"main\">\r\n                <p className=\"title\">{props.title}</p>\r\n                {/* <div className=\"tags\">\r\n                    {\r\n                        props.tags.map(tag => <p key={tag}>{tag}</p>)\r\n                    }\r\n                </div> */}\r\n                <p className=\"body\">{props.body}</p>\r\n            </div>\r\n            <div className=\"votes\">{props.votes}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport async function openUserProfile(visibility, username) {\r\n    currentUser = username\r\n    setLoadScreen(true)\r\n    let postsPromise = GetPostsByUser(currentUser)\r\n    let userPromise = GetUserInfo(username)\r\n\r\n    Promise.allSettled([postsPromise, userPromise])\r\n        .then(results => {\r\n            let posts = results[0].value\r\n            let user = results[1].value\r\n\r\n            if (posts.status == 'failure' || user.status == 'failure')\r\n                return console.log('Failed')\r\n\r\n            changePosts(posts.data)\r\n            changeUserInfo(user.data)\r\n            changeVisibility(visibility)\r\n            setLoadScreen(false)\r\n        })\r\n\r\n\r\n}","import React, { useState, useEffect } from 'react'\r\nimport background from '../media/content-background.jpg'\r\nimport { GetFixtureDetails } from '../Communicator'\r\n\r\nlet changeVisibility\r\nlet currentMatch\r\n\r\nfunction ContentPage(props) {\r\n\r\n    //const [visible, setVisibility] = useState(false)\r\n    const [fixtureDetails, setFixtureDetails] = useState({})\r\n    //changeVisibility = setVisibility\r\n\r\n    useEffect(() => {\r\n        if (!props.isActivated)\r\n            return\r\n\r\n        async function GetDetails() {\r\n            let res = await GetFixtureDetails(currentMatch.fixture_id)\r\n            console.log(res.data)\r\n            setFixtureDetails(res.data)\r\n        }\r\n\r\n        GetDetails()\r\n    }, [props.isActivated])\r\n\r\n    if (!props.isActivated)\r\n        return null\r\n\r\n    let date = new Date(Date.parse(currentMatch.event_date))\r\n\r\n    return (\r\n        <div id=\"content-page\">\r\n            <div id=\"content-header\">\r\n                <img src={background} alt='back' />\r\n                <div className=\"filter\"></div>\r\n                <div className=\"header-content\">\r\n                    {/* <i onClick={() => { }} className=\"back fas fa-arrow-circle-left\"></i> */}\r\n                    <p className=\"date\">{date.toLocaleDateString()}</p>\r\n                    <p className=\"league\">{currentMatch.league.name}</p>\r\n                    <div className=\"gap\"></div>\r\n                    <div className=\"score-front\">\r\n                        <p className=\"team\">{currentMatch.homeTeam.team_name}</p>\r\n                        <div className=\"score-display\">\r\n                            <p className=\"num\">{currentMatch.goalsHomeTeam}</p>\r\n                        </div>\r\n                        <div className=\"score-display\">\r\n                            <p className=\"num\">{currentMatch.goalsAwayTeam}</p>\r\n                        </div>\r\n                        <p className=\"team\">{currentMatch.awayTeam.team_name}</p>\r\n                    </div>\r\n                    <p className=\"location\">{currentMatch.venue}</p>\r\n                    <p className=\"ht-score\">{`HT Score: ${currentMatch.score == null || currentMatch.score.halftime == null ? '-' : currentMatch.score.halftime}`}</p>\r\n                </div>\r\n\r\n            </div>\r\n            <div id=\"content-body\">\r\n                <MatchAttribute title=\"SCORE\" team1={currentMatch.homeTeam.team_name} value1={currentMatch.goalsHomeTeam} team2={currentMatch.awayTeam.team_name} value2={currentMatch.goalsAwayTeam}></MatchAttribute>\r\n                <MatchAttribute title=\"POSSESSION\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Ball Possession\"] === undefined ? '-' : fixtureDetails[\"Ball Possession\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Ball Possession\"] === undefined ? '-' : fixtureDetails[\"Ball Possession\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"SHOTS ON TARGET\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Shots on Goal\"] === undefined ? '-' : fixtureDetails[\"Shots on Goal\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Shots on Goal\"] === undefined ? '-' : fixtureDetails[\"Shots on Goal\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"SHOTS OFF TARGET\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Shots off Goal\"] === undefined ? '-' : fixtureDetails[\"Shots off Goal\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Shots off Goal\"] === undefined ? '-' : fixtureDetails[\"Shots off Goal\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"CORNERS\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Corner Kicks\"] === undefined ? '-' : fixtureDetails[\"Corner Kicks\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Corner Kicks\"] === undefined ? '-' : fixtureDetails[\"Corner Kicks\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"OFFSIDES\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Offsides\"] === undefined ? '-' : fixtureDetails[\"Offsides\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Offsides\"] === undefined ? '-' : fixtureDetails[\"Offsides\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"FOULS\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Fouls\"] === undefined ? '-' : fixtureDetails[\"Fouls\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Fouls\"] === undefined ? '-' : fixtureDetails[\"Fouls\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"RED CARDS\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Red Cards\"] === undefined ? '-' : fixtureDetails[\"Red Cards\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Red Cards\"] === undefined ? '-' : fixtureDetails[\"Red Cards\"].away}></MatchAttribute>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction MatchAttribute(props) {\r\n    return (\r\n        <div className=\"match-attribute\">\r\n            <p className=\"title\">{props.title}</p>\r\n            <div className=\"attribute\">\r\n                <div className=\"row\">\r\n                    <p className=\"name\">{props.team1}</p>\r\n                    <p className=\"score\">{props.value1}</p>\r\n                </div>\r\n                <div className=\"divider\"></div>\r\n                <div className=\"row\">\r\n                    <p className=\"name\">{props.team2}</p>\r\n                    <p className=\"score\">{props.value2}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function ShowContentPage(visibility, _currentMatch) { //remove visibility\r\n    currentMatch = _currentMatch\r\n}\r\n\r\nexport function GetCurrentMatch(){\r\n    return currentMatch\r\n}\r\n\r\nexport default ContentPage","/* eslint-disable eqeqeq */\r\nimport React, { useEffect, useState, useContext } from 'react'\r\nimport { GetTeams, GetLeagues, GetFixturesInLeague, GetTeamMatches, GetFixturesInLeagueByName, GetPostsByUser } from '../Communicator'\r\nimport { showNotification } from './NoticationBar'\r\nimport { ShowContentPage } from './ContentPage'\r\nimport ContentPage from '../components/ContentPage'\r\nimport { Page } from '../Config'\r\nimport { setLoadScreen } from './LoadDialog'\r\nimport { ProfileDesktop } from './Profile'\r\nimport '../../node_modules/flagpack/dist/flagpack.css'\r\n\r\nlet updateFixtures\r\nlet updateTab\r\nlet changeContentPage\r\nlet currentMatch\r\n\r\nlet profileUsername = ''\r\n\r\nlet backButtonListenerStack = []\r\n\r\nexport function addToBackButtonStack(count, page, level, fixture = null) {\r\n    backButtonListenerStack.length = 0\r\n    if(fixture != null)\r\n        currentMatch = fixture\r\n\r\n    if (level == 1) {\r\n        changeContentPage(false)\r\n\r\n        for (let i = 0; i < count; i++) {\r\n            // eslint-disable-next-line no-loop-func\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n                page.popPage(lastTab)\r\n                updateTab(page.tags[page.tags.length - 1])\r\n            })\r\n        }\r\n    }\r\n    else if (level == 2) {\r\n        ShowContentPage(true, fixture)\r\n        changeContentPage(true)\r\n\r\n        for (let i = 0; i < count; i++) {\r\n            // eslint-disable-next-line no-loop-func\r\n            backButtonListenerStack.push(() => {\r\n                changeContentPage(false)\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n                page.popPage(lastTab)\r\n                updateTab(lastTab)\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport function showUserProfile(username, page) {\r\n    profileUsername = username\r\n\r\n    let lastTab = page.tags[page.tags.length - 1]\r\n\r\n    updateTab(`${username}_user_profile`)\r\n    page.setPage([`${username}_user_profile`])\r\n\r\n    backButtonListenerStack.push(() => {\r\n        page.popPage(lastTab)\r\n        updateTab(page.tags[page.tags.length - 1])\r\n    })\r\n}\r\n\r\nfunction RightMenu(props) {\r\n\r\n    const [teams, setTeams] = useState([])\r\n    const [leagues, setLeagues] = useState([])\r\n    const [tab, setTab] = useState('home') //Redacted - Used to rerender when popPage is run as popPage doesnt initiate rerender for some reason\r\n    const [fixtureTab, selectFixtureTab] = useState(1)\r\n    const [fixtures, setFixtures] = useState([])\r\n    const [isContentPageVisible, setContentPageVisibility] = useState(false)\r\n\r\n    useEffect(() => {\r\n        async function getData() {\r\n            let res_team = await GetTeams()\r\n            let res_league = await GetLeagues()\r\n\r\n            if (res_team.status === \"failure\" || res_league.status === \"failure\")\r\n                return console.log(\"Error occured while retrieving leagues/teams\")\r\n\r\n            setTeams(res_team.data.teams)\r\n            setLeagues(res_league.data.leagues)\r\n        }\r\n\r\n        updateFixtures = setFixtures\r\n        updateTab = setTab\r\n        changeContentPage = setContentPageVisibility\r\n        getData()\r\n    }, [])\r\n\r\n    // if (!props.activated)\r\n    //     return null\r\n\r\n    function fixtureTabClicked(tabNumber, team, previousTab, page) {\r\n        selectFixtureTab(tabNumber)\r\n\r\n        if (tabNumber == 1) {\r\n            if (page.tags[page.tags.length - 1].includes('_selected_tab')) {\r\n                page.popPage(page.tags[page.tags.length - 1])\r\n            }\r\n\r\n            page.setPage([team])\r\n            updateTab(team)\r\n        } else {\r\n\r\n            if (page.tags[page.tags.length - 1].includes('_selected_tab')) {\r\n                page.popPage(page.tags[page.tags.length - 1])\r\n            }\r\n\r\n            page.setPage([`${team}_selected_tab`])\r\n            updateTab(`${team}_selected_tab`)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Page.Consumer>\r\n            {page =>\r\n                <div>\r\n                    <div className=\"rightmenu\" style={{ display: props.activated ? 'flex' : 'none' }}>\r\n                        <RightMenuContent page={page}\r\n                            setContentPageVisibility={setContentPageVisibility}\r\n                            fixtureTabClicked={fixtureTabClicked}\r\n                            tab={tab}\r\n                            setTab={setTab}\r\n                            fixtureTab={fixtureTab}\r\n                            isContentPageVisible={isContentPageVisible}\r\n                            fixtures={fixtures}\r\n                            teams={teams}\r\n                            leagues={leagues} ></RightMenuContent>\r\n                    </div>\r\n                    <div className=\"rightmenu desktop\">\r\n                        <RightMenuContent page={page}\r\n                            setContentPageVisibility={setContentPageVisibility}\r\n                            fixtureTabClicked={fixtureTabClicked}\r\n                            tab={tab}\r\n                            setTab={setTab}\r\n                            fixtureTab={fixtureTab}\r\n                            selectFixtureTab={selectFixtureTab}\r\n                            isContentPageVisible={isContentPageVisible}\r\n                            fixtures={fixtures}\r\n                            teams={teams}\r\n                            leagues={leagues} ></RightMenuContent>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </Page.Consumer>\r\n    )\r\n}\r\n\r\nfunction RightMenuContent({ page, setContentPageVisibility, selectFixtureTab, fixtureTabClicked, tab, setTab, fixtureTab, isContentPageVisible, fixtures, teams, leagues }) {\r\n    return (<>\r\n        {page.currentTags[page.currentTags.length - 1] === 'home' ? <div></div> : <div id=\"back-btn\" onClick={() => { backButtonListenerStack.pop()() }} className=\"button fixed\">\r\n            <p> BACK </p>\r\n        </div>}\r\n        <div id=\"navigation-container\">\r\n            <Tabs setContent={setContentPageVisibility} tab={tab} setTab={setTab} page={page}></Tabs>\r\n            <div id=\"navigation-body\">\r\n                {page.currentTags[page.currentTags.length - 1].includes('_fixture_details') || page.currentTags[page.currentTags.length - 1].includes('_selected_tab') ? <div className=\"team-selector\">\r\n                    <p onClick={() => fixtureTabClicked(0, `${currentMatch.homeTeam.team_name}`, tab, page)} className={fixtureTab == 0 ? 'selected' : ''}>{`${currentMatch.homeTeam.team_name}`}</p>\r\n                    <p onClick={() => fixtureTabClicked(1, `${currentMatch.fixture_id}_fixture_details`, tab, page)} className={fixtureTab == 1 ? 'selected' : ''}>Both</p>\r\n                    <p onClick={() => fixtureTabClicked(2, `${currentMatch.awayTeam.team_name}`, tab, page)} className={fixtureTab == 2 ? 'selected' : ''}>{`${currentMatch.awayTeam.team_name}`}</p>\r\n                </div> : <></>}\r\n                <ContentPage isActivated={isContentPageVisible}></ContentPage>\r\n                <NavigationBody selectFixtureTab={selectFixtureTab} setContent={setContentPageVisibility} page={page} fixtures={fixtures} tab={tab} teams={teams} leagues={leagues}></NavigationBody>\r\n            </div>\r\n        </div>\r\n    </>)\r\n}\r\n\r\nfunction tabClick(tab, setTab, page, name) {\r\n    if (tab === name)\r\n        return\r\n\r\n    let lastTab = page.tags[page.tags.length - 1]\r\n    page.popPage(lastTab)\r\n    setTab(name)\r\n    page.setPage([name])\r\n}\r\n\r\nfunction Tabs(props) {\r\n    let tab = props.page.currentTags[props.page.currentTags.length - 1]\r\n    let setTab = props.setTab //Redacted\r\n    let page = props.page\r\n    let setContent = props.setContent\r\n\r\n    if (tab === 'home') {\r\n        return (<></>)\r\n    }\r\n    else if (tab === 'competition' || tab === 'team' || tab === 'fixture') {\r\n        return (\r\n            <div id=\"navigation-tab\">\r\n                <div onClick={() => { tabClick(tab, setTab, page, 'competition') }} className=\"tab\"><p className={tab === 'competition' ? 'dark' : 'light'}>COMPETITIONS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, 'team') }} className=\"tab\"><p className={tab === 'team' ? 'dark' : 'light'}>TEAMS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, 'fixture') }} className=\"tab\"><p className={tab === 'fixture' ? 'dark' : 'light'}>IN-PLAY</p></div>\r\n            </div>\r\n        )\r\n    }\r\n    else if (tab.includes('_competition_result') || tab.includes('_competition_fixture') || tab.includes('_competition_inplay') || tab.includes('_competition_team')) {\r\n        let currentPage = tab.split('_')[0]\r\n\r\n        return (\r\n            <div id=\"navigation-tab\">\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_team`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_team') ? 'dark' : 'light'}>TEAMS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_inplay`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_inplay') ? 'dark' : 'light'}>IN-PLAY</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_result`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_result') ? 'dark' : 'light'}>RESULTS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_fixture`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_fixture') ? 'dark' : 'light'}>FIXTURES</p></div>\r\n            </div>\r\n        )\r\n    }\r\n    else if (tab.includes('_team_result') || tab.includes('_team_fixture') || tab.includes('_team_inplay')) {\r\n        let currentPage = tab.split('_')[0]\r\n\r\n        return (\r\n            <div id=\"navigation-tab\">\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_team_result`); setContent(false) }} className=\"tab\"><p className={tab.includes('_team_result') ? 'dark' : 'light'}>RESULTS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_team_fixture`); setContent(false) }} className=\"tab\"><p className={tab.includes('_team_fixture') ? 'dark' : 'light'}>FIXTURES</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_team_inplay`); setContent(false) }} className=\"tab\"><p className={tab.includes('_team_inplay') ? 'dark' : 'light'}>IN-PLAY</p></div>\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        return null\r\n    }\r\n}\r\n\r\nfunction NavigationBody(props) {\r\n\r\n    let setContent = props.setContent\r\n    let page = props.page\r\n    let tab = page.currentTags[page.currentTags.length - 1]//props.tab\r\n    let leagues = props.leagues\r\n    let teams = props.teams\r\n    let fixtures = props.fixtures\r\n    let selectFixtureTab = props.selectFixtureTab\r\n\r\n    const [teamFixtures, setTeamFixtures] = useState([])\r\n\r\n    useEffect(() => {\r\n        //Get results when searched\r\n        (async () => {\r\n            let lastTag = page.currentTags[page.currentTags.length - 1]\r\n            if (!lastTag) return\r\n\r\n            if (lastTag.includes('_team_result')) {\r\n                setLoadScreen(true)\r\n                let result = await GetTeamMatches(lastTag.split('_')[0])\r\n                setTeamFixtures(result.data)\r\n                setLoadScreen(false)\r\n            } else if (lastTag.includes('_competition_result')) {\r\n                setLoadScreen(true)\r\n                let result = await GetFixturesInLeagueByName(lastTag.split('_')[0])\r\n                updateFixtures(result.data)\r\n                setLoadScreen(false)\r\n            }\r\n            else if (lastTag.includes('_fixture_details')) {\r\n                let secondLastTab = page.tags[page.tags.length - 2]\r\n                if (!secondLastTab) return\r\n\r\n                setLoadScreen(true)\r\n                let result = await GetFixturesInLeagueByName(secondLastTab.split('_')[0]) //Getting second-last tag\r\n                updateFixtures(result.data)\r\n                setLoadScreen(false)\r\n            }\r\n        })()\r\n\r\n    }, [page.searchTerm])\r\n\r\n    //console.log(page.tags)\r\n\r\n    function competitionFixtureResolver(statusArray, icon) {\r\n        let click = async (fixture) => {\r\n            backButtonListenerStack.push(() => {\r\n                selectFixtureTab(1)\r\n                page.popPage(`${fixture.fixture_id}_fixture_details`)\r\n                setContent(false)\r\n                updateTab(tab)\r\n            })\r\n\r\n            setContent(true)\r\n            currentMatch = fixture\r\n            page.setPage([`${fixture.fixture_id}_fixture_details`]) //fixture.homeTeam.team_name, fixture.awayTeam.team_name\r\n            updateTab(`${fixture.fixture_id}_fixture_details`)\r\n            ShowContentPage(true, fixture)\r\n        }\r\n\r\n        let filtered = fixtures.filter((fixture) => statusArray.includes(fixture.statusShort))\r\n\r\n        if(filtered.length == 0)\r\n            return <InfoTile clicked={() => {}} name=\"NO RESULTS FOUND\"></InfoTile>\r\n\r\n        return (filtered.map(fixture => (\r\n            <Tile icon={icon} clicked={() => { click(fixture) }} key={fixture.fixture_id} name={`${fixture.homeTeam.team_name} VS ${fixture.awayTeam.team_name}`} id={fixture.fixture_id}></Tile>\r\n        ))\r\n        )\r\n    }\r\n\r\n    function teamFixtureResolver(statusArray, icon) {\r\n        let click = async (fixture) => {\r\n\r\n            backButtonListenerStack.push(() => {\r\n                selectFixtureTab(1)\r\n                page.popPage(`${fixture.fixture_id}_fixture_details`)\r\n                setContent(false)\r\n                updateTab(tab)\r\n            })\r\n\r\n            setContent(true)\r\n            currentMatch = fixture\r\n            console.log(currentMatch)\r\n            page.setPage([`${fixture.fixture_id}_fixture_details`]) //fixture.homeTeam.team_name, fixture.awayTeam.team_name\r\n            updateTab(`${fixture.fixture_id}_fixture_details`)\r\n            ShowContentPage(true, fixture)\r\n        }\r\n\r\n        let filtered = teamFixtures.filter((fixture) => statusArray.includes(fixture.statusShort))\r\n\r\n        if(filtered.length == 0)\r\n            return <InfoTile clicked={() => {}} name=\"NO RESULTS FOUND\"></InfoTile>\r\n\r\n        return (filtered.map(fixture => (\r\n            <Tile icon={icon} clicked={() => { click(fixture) }} key={fixture.fixture_id} name={`${fixture.homeTeam.team_name} VS ${fixture.awayTeam.team_name}`} id={fixture.fixture_id}></Tile>\r\n        ))\r\n        )\r\n    }\r\n\r\n    if (tab === 'home') { //Sports Selection\r\n\r\n        function click() {\r\n            let lastTab = page.tags[page.tags.length - 1]\r\n\r\n            updateTab('competition')\r\n            page.setPage(['competition'])\r\n\r\n            backButtonListenerStack.push(() => {\r\n                page.popPage(lastTab)\r\n                updateTab('home')\r\n            })\r\n        }\r\n\r\n        return (\r\n            <Tile name=\"SOCCER\" clicked={() => { click() }}></Tile>\r\n        )\r\n    }\r\n    else if (tab === 'competition') { //Competition\r\n\r\n        let click = async (league) => {\r\n            setLoadScreen(true)\r\n            let result = await GetFixturesInLeague(league.leagueId)\r\n            setLoadScreen(false)\r\n\r\n            if (result.status === \"failure\") {\r\n                showNotification(result.message)\r\n                return\r\n            }\r\n\r\n            updateFixtures(result.data)\r\n            updateTab(`${league.name}_competition_result`)\r\n\r\n            page.setPage([`${league.name}_competition_result`])\r\n\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n\r\n                page.popPage(lastTab)\r\n                updateTab('competition')\r\n            })\r\n        }\r\n\r\n        console.log(leagues)\r\n\r\n        return (\r\n            leagues.map(league => (\r\n                <Tile icon={league.countryCode != null ? `fp ${league.countryCode.toLowerCase()}` : null} key={league._id} name={league.name} clicked={() => { click(league) }}></Tile>\r\n            ))\r\n        )\r\n    }\r\n    else if (tab === 'team') { //Teams\r\n\r\n        async function click(team) {\r\n            setLoadScreen(true)\r\n            let result = await GetTeamMatches(team.name)\r\n            setTeamFixtures(result.data)\r\n            setLoadScreen(false)\r\n\r\n            if (result.status === \"failure\") {\r\n                showNotification(result.message)\r\n                return\r\n            }\r\n\r\n            page.setPage([`${team.name}_team_result`])\r\n            updateTab(`${team.name}_team_result`)\r\n\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n\r\n                page.popPage(lastTab)\r\n                updateTab('team')\r\n            })\r\n        }\r\n\r\n        return (\r\n            teams.map(team => (\r\n                <Tile clicked={() => { click(team) }} key={team._id} name={team.name}> id={team.teamId}</Tile>\r\n            ))\r\n        )\r\n    }\r\n    else if (tab.includes('_competition_result')) { //In-League Matches\r\n        return competitionFixtureResolver([\"FT\", \"AET\", \"PEN\"], 'fas fa-calendar-alt')\r\n    }\r\n    else if (tab.includes('_competition_fixture')) {\r\n        return competitionFixtureResolver([\"NS\"], 'fas fa-calendar-alt')\r\n    }\r\n    else if (tab.includes('_competition_inplay')) {\r\n        return competitionFixtureResolver([\"1H\", \"HT\", \"2H\", \"ET\", \"P\", \"BT\"], 'fas fa-stopwatch')\r\n    }\r\n    else if (tab.includes('_competition_team')) {\r\n        let selectedCompetition = tab.split('_')[0]\r\n\r\n        function click(team) {\r\n\r\n            page.setPage([`${team.name}_team_result`])\r\n            updateTab(`${team.name}_team_result`)\r\n\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n\r\n                page.popPage(lastTab)\r\n                updateTab('team')\r\n            })\r\n        }\r\n\r\n        return teams.filter(team => team.leagueName == selectedCompetition).map(team => (\r\n            <Tile clicked={() => { click(team) }} key={team._id} name={team.name}> id={team.teamId}</Tile>\r\n        ))\r\n\r\n        // return (\r\n        //     teams.map(team => (\r\n        //         <Tile clicked={() => { click(team) }} key={team._id} name={team.name}> id={team.teamId}</Tile>\r\n        //     ))\r\n        // )\r\n    }\r\n    else if (tab.includes('_team_result')) {\r\n        return teamFixtureResolver([\"FT\", \"AET\", \"PEN\"], 'fas fa-calendar-alt')\r\n    }\r\n    else if (tab.includes('_team_fixture')) {\r\n        return teamFixtureResolver([\"NS\"], 'fas fa-calendar-alt')\r\n    }\r\n    else if (tab.includes('_team_inplay')) {\r\n        return teamFixtureResolver([\"1H\", \"HT\", \"2H\", \"ET\", \"P\", \"BT\"], 'fas fa-stopwatch')\r\n    }\r\n    else if (tab.includes('user_profile')) {\r\n\r\n        return <ProfileDesktop username={profileUsername}></ProfileDesktop>\r\n    }\r\n    else {\r\n        return null\r\n    }\r\n}\r\n\r\nfunction Tile(props) {\r\n    return (\r\n        <div className=\"team-tile\" onClick={props.clicked}>\r\n            {\r\n                props.icon != null ? <i className={props.icon}></i> : <i className=\"logo fas fa-globe-europe\"></i>\r\n            }\r\n            <div className=\"divider\"></div>\r\n            <p className=\"name\">{props.name}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction InfoTile(props){\r\n    return (\r\n        <div className=\"team-tile\" onClick={props.clicked}>\r\n            <p className=\"name\">{props.name}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RightMenu","import React, { useState, useEffect } from 'react'\r\nimport { showNotification } from './NoticationBar'\r\nimport { setLoadScreen } from './LoadDialog'\r\nimport { GetLogs, CheckIfPostExists, RemoveLog } from '../Communicator'\r\nimport { showPostPage } from './PostPage'\r\nimport { Page } from '../Config'\r\n\r\nlet _setLogs\r\n\r\nfunction ModeratorPage({setDivision}) {\r\n    return (\r\n        <div id=\"moderator-page\">\r\n            <p className=\"title\">MODERATION PANEL</p>\r\n            <div className=\"divider\"></div>\r\n            <ModerationLog setDivision={setDivision}></ModerationLog>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ModerationLog({setDivision}) {\r\n    const [logs, setLogs] = useState([])\r\n    _setLogs = setLogs\r\n\r\n    return (\r\n        <Page.Consumer>\r\n            {page => <div className=\"mod-log\">\r\n                <p className=\"title\">RECENT REPORTS</p>\r\n                <p className=\"description\">Once a reported post has been deleted, remove it using the 'check' button on each log.</p> \r\n                <div className=\"divider\"></div>\r\n                <div className=\"log-holder\">\r\n                    {\r\n                        logs.length > 0 ? logs.map(log => <Log key={log._id} log={log} setLogs={setLogs} page={page} setDivision={setDivision}></Log>) : <p className=\"empty\">NO LOGS FOUND</p>\r\n                    }\r\n                </div>\r\n                <div className=\"paging\">\r\n                    <div className=\"next selector\">NEXT</div>\r\n                    <div className=\"previous selector\">PREVIOUS</div>\r\n                </div>\r\n            </div>\r\n            }\r\n        </Page.Consumer>\r\n    )\r\n}\r\n\r\nfunction Log({ log, setLogs, page, setDivision }) {\r\n    return (\r\n        <div className=\"log-tile\" onClick={() => { showPost(log, log.time, setDivision, page) }}>\r\n            <div className=\"main\">\r\n                <p className=\"log-title\">{log.postTitle}</p>\r\n                <p>Made by: <span>{log.postUsername}</span></p>\r\n            </div>\r\n            <i className=\"icon fas fa-check\" onClick={async (e) => {\r\n                e.stopPropagation()\r\n                let result = await RemoveLog(log._id)\r\n                if(result.status == 'success')\r\n                    setLogs(state => state.filter(l => l._id != log._id))\r\n            }}></i>\r\n            <p className=\"flags\">{log.totalFlags}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport async function loadLogs() {\r\n    setLoadScreen(true)\r\n    let result = await GetLogs(0)\r\n    if (result.status == 'failure')\r\n        _setLogs([])\r\n    else\r\n        _setLogs(result.data)\r\n    setLoadScreen(false)\r\n}\r\n\r\nasync function showPost(log, time, setDivision, page) {\r\n    setLoadScreen(true)\r\n    let result = await CheckIfPostExists(log.postId)\r\n    setLoadScreen(false)\r\n\r\n    if (result.status == 'failure')\r\n        return showNotification(\"Post does not exist\")\r\n\r\n    let post = result.data\r\n\r\n    let votes = post.votes\r\n    let totalVotes = 0\r\n    let timeVal = parseInt(time)\r\n    let date = new Date(timeVal)\r\n\r\n    for (let i = votes.length - 1; i >= 0; i--) {\r\n        totalVotes += votes[i].votes\r\n\r\n        if (votes[i].tag === page.currentTags)\r\n            break\r\n    }\r\n\r\n    let newPost = post\r\n    newPost.totalVotes = totalVotes\r\n    newPost.date = date.toLocaleString()\r\n    setDivision('post')\r\n    showPostPage(true, newPost)\r\n}\r\n\r\nexport default ModeratorPage","import React, { useState, useEffect, useRef } from 'react'\r\nimport { MakeComment, GetPostComments,DoVoteComment } from '../Communicator'\r\nimport { EmbedLink } from '../Utils'\r\nimport { User } from '../Config'\r\n\r\nlet changeVisibility = null\r\nlet currentPost = null\r\n\r\nexport function PostPage(props) {\r\n    //get postdata\r\n    //getcomments\r\n\r\n    const [visibility, setVisibility] = useState(false)\r\n    const [typedComment, textInput] = CommentInput()\r\n    const [commentFilter, setCommentFilter] = useState('TOP')\r\n\r\n    changeVisibility = setVisibility\r\n\r\n    if (!visibility)\r\n        return null\r\n\r\n    let tree = renderTree(currentPost.commentArray, currentPost.commentDictionary)\r\n\r\n    //Sort here\r\n    switch (commentFilter) {\r\n        case 'TOP':\r\n            tree.sort((a, b) => b[0][0].votes - a[0][0].votes)\r\n            break\r\n        case 'NEW':\r\n            tree.sort((a, b) => b[0][0].time - a[0][0].time)\r\n            break\r\n        case 'CONTROVERTIAL':\r\n            tree.sort((a, b) => a[0][0].votes - b[0][0].votes)\r\n            break\r\n        default:\r\n            tree.sort((a, b) => b[0][0].votes - a[0][0].votes)\r\n            break\r\n    }\r\n    tree.forEach(x => console.log(x))\r\n\r\n    return (\r\n        <div id=\"post-page\">\r\n            <i className=\"exit fas fa-times-circle\" onClick={() => { props.setDivision('postlist') }}></i>\r\n            <div className=\"main-post-container\">\r\n                <p className=\"main-post-user\">{currentPost.username}</p>\r\n                <p className=\"main-post-title\">{currentPost.title}</p>\r\n                {/* <p className=\"main-post-description\">{currentPost.body}</p> */}\r\n                {\r\n                    EmbedLink(currentPost.embedUrl)\r\n                }\r\n                <div className=\"details\">\r\n                    <p className=\"date\">{currentPost.date}</p>\r\n                    <div className=\"votes\">\r\n                        <div className=\"column\">\r\n                            <i onClick={() => { }} className=\"upvote fas fa-caret-up\"></i>\r\n                            <p className=\"votes\">{currentPost.totalVotes}</p>\r\n                            <i onClick={() => { }} className=\"downvote fas fa-caret-down\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/* <div className=\"toolbar\">\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                </div> */}\r\n            </div>\r\n            <div className=\"comment-title\">\r\n                <p className=\"title\">COMMENTS - <span className=\"inner\">{currentPost.commentArray.length} comments</span></p>\r\n                <FilterBar setCommentFilter={setCommentFilter}></FilterBar>\r\n            </div>\r\n            <div className=\"reply-bar\">\r\n                {textInput}\r\n                <i className=\"fas fa-paper-plane\" onClick={() => { MakeComment(typedComment, false, currentPost._id).then(/* Add to comment list */) }}></i>\r\n            </div>\r\n            <div className=\"comment-section\">\r\n                {\r\n                    tree.map(root => <Comment key={root[0][0]._id} childrenTree={root} isLeaf={root[0][0].isLeaf} level={1} parentId={root[0][0]._id} username={root[0][0].username} description={root[0][0].description} votes={root[0][0].votes}></Comment>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction renderTree(commentArray, commentDictionary) {\r\n\r\n    function transformToObject(item, parentId) {\r\n        return {\r\n            _id: item._id,\r\n            isLeaf: item.isLeaf,\r\n            username: item.username,\r\n            description: item.description,\r\n            parentId: parentId,\r\n            votes: item.votes\r\n        }\r\n    }\r\n\r\n    function search(childrenIds, parentId) { //breadth first\r\n        let childrenTree = []\r\n        let rowStack = []\r\n        let firstRow = []\r\n\r\n        for (let childId of childrenIds) {\r\n            firstRow.push(transformToObject(commentDictionary[childId], parentId))\r\n\r\n            for (let id of commentDictionary[childId].childrenIds) {\r\n                rowStack.push({ id: id, parentId: childId })\r\n            }\r\n        }\r\n\r\n        childrenTree.push(firstRow)\r\n\r\n        while (rowStack.length != 0) {\r\n            let row = []\r\n            let newChildRow = []\r\n\r\n            for (let child of rowStack) {\r\n                row.push(transformToObject(commentDictionary[child.id], child.parentId))\r\n\r\n                for (let id of commentDictionary[child.id].childrenIds) {\r\n                    newChildRow.push({ id: id, parentId: child.id })\r\n                }\r\n            }\r\n\r\n            rowStack = newChildRow\r\n            childrenTree.push(row)\r\n        }\r\n\r\n        return childrenTree\r\n    }\r\n\r\n    let tree = []\r\n\r\n    for (let item of commentArray) {\r\n        if (item.isChild)\r\n            continue\r\n\r\n        let branch = search(item.childrenIds, item._id) //is tree\r\n\r\n        if (branch[0].length == 0) {\r\n            tree.push([[item]])\r\n        } else {\r\n            branch.unshift([item])\r\n            tree.push(branch)\r\n        }\r\n\r\n    }\r\n    return tree\r\n}\r\n\r\n// function makeCommentTree(comments) {\r\n//     let tree = {}\r\n\r\n//     for (let index in comments) {\r\n//         if (!comments[index].isLeaf)\r\n//             continue\r\n\r\n//         let branch = {}\r\n//         let node = comments[index]\r\n//         branch[node._id] = node\r\n//         let isRoot = !node.isChild\r\n\r\n\r\n//         while (!isRoot) {\r\n//             node.parent = comments[node.parentId]\r\n//             node = node.parent\r\n//             isRoot = !node.isChild\r\n\r\n//             // if(isRoot){\r\n//             //     node.parent = node = node.parent\r\n//             // }\r\n//         }\r\n\r\n//         //console.log(branch)\r\n//         Object.assign(tree, branch)\r\n//     }\r\n\r\n//     console.log(tree)\r\n// }\r\n\r\nfunction Comment({ childrenTree, level, parentId, username, description, isLeaf, votes }) {\r\n    const [replySelected, setReplySelected] = useState(false)\r\n    const [reply, setReply] = useState('')\r\n    const [vote, setVotes] = useState(votes)\r\n    const tArea = useRef(null)\r\n\r\n    return (\r\n        <div className=\"comment\">\r\n            <div className=\"main-section\">\r\n                <div className=\"top\">\r\n                    <p className=\"comment-user\">{username}</p>\r\n                    <p className=\"comment-description\">{description}</p>\r\n\r\n                    <div className=\"votes\">\r\n                        <div className=\"column\">\r\n                            <i onClick={() => { voteComment('add', parentId, () => {setVotes(state => state + 1)}) }} className=\"upvote fas fa-caret-up\"></i>\r\n                            <p className=\"votes\">{vote}</p>\r\n                            <i onClick={() => { voteComment('subtract', parentId, () => {setVotes(state => state - 1)}) }} className=\"downvote fas fa-caret-down\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <User.Consumer>{\r\n                    user => user.username == null ? <></> :\r\n                        <div className=\"reply-section\">\r\n                            {\r\n                                !replySelected ?\r\n                                    <div className=\"reply-lower\">\r\n                                        <p onClick={() => { setReplySelected(true) }}>REPLY</p>\r\n                                        <CommentDropdown username={username} user={user}></CommentDropdown>\r\n                                    </div> :\r\n                                    <div>\r\n                                        <textarea ref={tArea} onChange={(e) => { setReply(e.target.value) }}></textarea>\r\n                                        <div className=\"reply-lower\">\r\n                                            <p onClick={async () => {\r\n                                                let result = await MakeComment(reply, true, parentId)\r\n                                                tArea.current.value = ''\r\n                                            }}>SEND</p>\r\n                                            <CommentDropdown username={username} user={user}></CommentDropdown>\r\n                                        </div>\r\n                                    </div>\r\n                            }\r\n                        </div>\r\n                }\r\n                </User.Consumer>\r\n            </div>\r\n\r\n            <div className={!isLeaf ? \"children\" : \"\"}>\r\n                {\r\n                    level >= childrenTree.length ? <></> : childrenTree[level].filter(child => child.parentId == parentId).map(child => <Comment key={child._id} isLeaf={child.isLeaf} username={child.username} parentId={child._id} description={child.description} votes={child.votes} level={level + 1} childrenTree={childrenTree}></Comment>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction CommentInput() {\r\n    const [input, setInput] = useState('')\r\n    const textInput = <textarea placeholder=\"Write your comment here...\" onChange={(e) => { setInput(e.target.value) }}></textarea>\r\n\r\n    return [input, textInput]\r\n}\r\n\r\nfunction FilterBar(props) {\r\n    let setCommentFilter = props.setCommentFilter\r\n\r\n    const [dropdownVisibility, setDropdownVisibility] = useState(false)\r\n    const [buttonDisplayData, setButtonDisplayData] = useState(['TOP', 'fas fa-chart-line'])\r\n    const dropdown = useRef(null)\r\n\r\n    function dropdownSelect(filter, icon) {\r\n        setCommentFilter(filter.toUpperCase())\r\n        setButtonDisplayData([filter.toUpperCase(), icon])\r\n        setDropdownVisibility(false)\r\n    }\r\n\r\n    function documentClick(e) {\r\n        if (dropdown.current && !dropdown.current.contains(e.target) && dropdownVisibility) {\r\n            setDropdownVisibility(false)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', documentClick)\r\n\r\n        return () => {\r\n            document.removeEventListener('mousedown', documentClick)\r\n        }\r\n    }, [dropdownVisibility])\r\n\r\n    return (\r\n        <div id=\"filterbar\">\r\n            <div id=\"filter-selector\" ref={dropdown} onClick={() => { setDropdownVisibility(state => !state) }}>\r\n                <i className={buttonDisplayData[1]}></i>\r\n                <div className=\"divider\"></div>\r\n                <p>{buttonDisplayData[0]}</p>\r\n                {\r\n                    !dropdownVisibility ? <></> : <div className=\"dropdown\" style={{ right: '0px', left: 'auto' }} onClick={(e) => { e.stopPropagation() }}>\r\n                        <p onClick={() => { dropdownSelect('Top', 'fas fa-chart-line') }}>Top</p>\r\n                        {/* <p onClick={() => { dropdownSelect('Hot', 'fas fa-burn') }}>Hot</p> */}\r\n                        {/* <p onClick={() => { dropdownSelect('Trending', 'fab fa-red-river') }}>Trending</p> */}\r\n                        <p onClick={() => { dropdownSelect('New', 'fas fa-certificate') }}>New</p>\r\n                        <p onClick={() => { dropdownSelect('Controvertial', 'fas fa-skull-crossbones') }}>Controvertial</p>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction CommentDropdown(props) {\r\n    const dropdown = useRef(null)\r\n    let user = props.user\r\n    let post = props.post\r\n\r\n    const [menuOpen, setMenuOpen] = useState(false)\r\n\r\n    function isInBounds() {\r\n        if (user.rank == 'user' || user.rank == '')\r\n            return false\r\n\r\n        if (user.rank == 'admin')\r\n            return true\r\n\r\n        if (user.moderatedTags.some(elem => post.tags.includes(elem))) {\r\n            return true\r\n        }\r\n        else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    function documentClick(e) {\r\n        if (dropdown.current && !dropdown.current.contains(e.target)) {\r\n            setMenuOpen(false)\r\n        }\r\n    }\r\n\r\n    //const isModInBounds = useModInBounds()\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', documentClick)\r\n        return () => {\r\n            document.removeEventListener('mousedown', documentClick)\r\n        }\r\n    }, [])\r\n\r\n    async function flagPost() {\r\n        //FlagPost(post._id)\r\n    }\r\n\r\n    async function muteUser() {\r\n        //setModalVisibility(\"muteuser\", true, props.username)\r\n    }\r\n\r\n    async function banUser() {\r\n        //BanUser(props.username)\r\n    }\r\n\r\n    async function deletePost(id) {\r\n        //let result = await DeletePost(id)\r\n        //if (result.status == 'success') {\r\n        //  props.setPosts(state => state.filter(p => p._id != id))\r\n        //}\r\n    }\r\n\r\n    return (\r\n        <i className=\"fas fa-ellipsis-v\" ref={dropdown} onClick={(e) => { e.stopPropagation(); setMenuOpen(state => !state) }}>\r\n            {\r\n                !menuOpen ? <></> : <div className=\"dropdown\">\r\n                    {\r\n                        user.username == props.username || user.isMod() ? <p onClick={(e) => { deletePost(props.post._id) }}>DELETE</p> : <></>\r\n                    }\r\n                    {\r\n                        //user.username != props.username ? <p onClick={(e) => { flagPost() }}>FLAG</p> : <></>\r\n                    }\r\n                    {\r\n                        //user.isMod() && isInBounds() && user.username != props.username ? <p onClick={(e) => { muteUser() }}>MUTE</p> : <></>\r\n                    }\r\n                    {\r\n                        //user.rank == 'admin' && user.username != props.username ? <p onClick={(e) => { banUser() }}>BAN</p> : <></>\r\n                    }\r\n                </div>\r\n            }\r\n        </i>\r\n    )\r\n}\r\n\r\nfunction voteComment(voteType, id, callback) {\r\n    DoVoteComment(voteType, id)\r\n        .then(res => {\r\n            if(res.status == 'success')\r\n                callback(voteType)\r\n        })\r\n}\r\n\r\nexport async function showPostPage(visibility, post) {\r\n    if (!visibility)\r\n        return changeVisibility(false)\r\n\r\n    //show loading\r\n    let result = await GetPostComments(post._id)\r\n\r\n    let commentArray = Object.values(result.data)\r\n    post.commentArray = commentArray\r\n    post.commentDictionary = result.data\r\n\r\n    currentPost = post\r\n    changeVisibility(true)\r\n}","import React, { useState, useContext, useEffect, useRef } from 'react'\r\nimport { setModalVisibility } from './Modal' //login, feedback\r\nimport { User, Page } from '../Config'\r\nimport { Dropdown } from './Dropdown'\r\nimport { RegisterPage, enablePage } from './RegisterPage'\r\nimport { logOut } from '../Utils'\r\nimport { openUserProfile } from './Profile'\r\nimport { showUserProfile, addToBackButtonStack } from './RightMenu'\r\nimport { SetDivision } from '../App'\r\nimport { loadLogs } from './ModeratorPage'\r\n\r\nfunction LeftMenu(props) {\r\n\r\n  // if (!props.activated)\r\n  //   return null\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"leftmenu\" style={{ display: props.activated ? 'flex' : 'none' }}>\r\n        <CredentialBar nameClass={\"credential-bar\"}></CredentialBar>\r\n        <MenuColumn></MenuColumn>\r\n        <div id=\"menu-divider\">\r\n          <div className=\"line\"></div>\r\n          <p className=\"divider-text\">FOLLOWING</p>\r\n          <div className=\"line\"></div>\r\n        </div>\r\n        <FollowingContainer></FollowingContainer>\r\n      </div>\r\n      <div className=\"leftmenu desktop\">\r\n        <CredentialBar nameClass={\"credential-bar\"}></CredentialBar>\r\n        <MenuColumn></MenuColumn>\r\n        <div id=\"menu-divider\">\r\n          <div className=\"line\"></div>\r\n          <p className=\"divider-text\">FOLLOWING</p>\r\n          <div className=\"line\"></div>\r\n        </div>\r\n        <FollowingContainer></FollowingContainer>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function CredentialBar(props) { //Returns Register/login or profile/notification\r\n  return (\r\n    <User.Consumer>\r\n      {user => {\r\n        if (user.username == null) {\r\n          return (<div className={`${props.nameClass}`}>\r\n            <div className=\"button fixed\" onClick={() => { enablePage() }}>\r\n              <div className=\"items\">\r\n                <div className=\"leading\">\r\n                  <div className=\"icon dot\"></div>\r\n                  <p className=\"text\">REGISTER</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"shadow\"></div>\r\n            </div>\r\n            <div className=\"button fixed\" onClick={() => { setModalVisibility(\"login\", true) }}>\r\n              <div className=\"items\">\r\n                <div className=\"leading\">\r\n                  <div className=\"icon dot\"></div>\r\n                  <p className=\"text\">LOGIN</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"shadow\"></div>\r\n            </div>\r\n          </div>)\r\n        } else {\r\n          return (\r\n            <div className={`${props.nameClass}`}>\r\n              <Page.Consumer>{\r\n                page => <>\r\n                  <Dropdown zIndex={21} choices={[\r\n                    { name: 'Profile', action: () => { showUserProfile(user.username, page) } },\r\n                    { name: 'Log Out', action: () => { logOut() } }]} title={user.username}></Dropdown>\r\n                  {/* <i className=\"notification fas fa-bell\"></i> */}\r\n                </>\r\n              }</Page.Consumer>\r\n            </div>)\r\n        }\r\n      }}\r\n    </User.Consumer>\r\n  )\r\n}\r\n\r\nfunction MenuColumn() {\r\n  return (\r\n    <div id=\"menu-column\">\r\n      <MenuButton onPress={() => { window.location.reload() }} title='HOME' iconClass='fas fa-home'></MenuButton>\r\n      <User.Consumer>\r\n        {\r\n          user => user.isMod() ? <MenuButton onPress={() => { SetDivision('modpage'); loadLogs() }} title='MODERATION' iconClass='fas fa-user-friends'></MenuButton> : <></>\r\n        }\r\n      </User.Consumer>\r\n      <MenuButton onPress={() => { setModalVisibility(\"help\", true)}} title='HELP' iconClass='fas fa-question-circle'></MenuButton>\r\n      <MenuButton onPress={() => { setModalVisibility(\"feedback\", true) }} title='FEEDBACK' iconClass='fas fa-comments'></MenuButton>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction FollowingContainer() {\r\n  return (\r\n    <div id=\"following-container\">\r\n      <User.Consumer>\r\n        {\r\n          user => {\r\n            return (<>\r\n              <FollowingButton title={\"SPORTS\"} items={user.followingSports.map(i => ['', i])}></FollowingButton> {/*Fix this*/}\r\n              <FollowingButton title={\"COMPETITIONS\"} items={user.followingCompetitions}></FollowingButton>\r\n              <FollowingButton title={\"TEAMS\"} items={user.followingTeams}></FollowingButton>\r\n            </>)\r\n          }\r\n        }\r\n      </User.Consumer>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction MenuButton(props) {\r\n  return (\r\n    <div className=\"button gap\" onClick={() => { props.onPress() }}>\r\n      <div className=\"items\">\r\n        <div className=\"leading\">\r\n          <i className={`icon ${props.iconClass}`}></i>\r\n          <p className=\"text\">{props.title}</p>\r\n        </div>\r\n        <div className=\"dot\"></div>\r\n      </div>\r\n      <div className=\"shadow\"></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction FollowingButton(props) {\r\n  //props.title = teams/sports/competitions\r\n\r\n  const [style, setStyle] = useState('')\r\n\r\n  function itemClicked(item, page) {\r\n    if (props.title == 'TEAMS') {\r\n      TeamSearched(item, page)\r\n    }\r\n    else if (props.title == 'SPORTS') {\r\n\r\n    }\r\n    else if (props.title == 'COMPETITIONS') {\r\n      CompetitionSearched(item, page)\r\n    }\r\n  }\r\n\r\n  async function TeamSearched(team, page) {\r\n    page.setTags(['home', 'team', `${team}_team_result`])\r\n    addToBackButtonStack(2, page, 1)\r\n  }\r\n\r\n  async function CompetitionSearched(competition, page) {\r\n    page.setTags(['home', 'competition', `${competition}_competition_result`])\r\n    addToBackButtonStack(2, page, 1)\r\n  }\r\n\r\n  return (\r\n    <div className=\"button gap\" onClick={() => { style == '' ? setStyle('open') : setStyle('') }}>\r\n      <div className=\"items\">\r\n        <div className=\"leading\">\r\n          <p className=\"text\">{props.title}</p>\r\n        </div>\r\n        <i className=\"trailing fas fa-plus-circle\"></i>\r\n      </div>\r\n      <Page.Consumer>\r\n        {page => <div className={`follow-body ${style}`}>\r\n          {\r\n            props.items.map(item => <p className=\"follow-item\" key={item} onClick={() => { itemClicked(item[1], page) }}>{item[1]}</p>)\r\n          }\r\n        </div>}\r\n      </Page.Consumer>\r\n      <div className=\"shadow\"></div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// function EntryHolder(props){\r\n//   return()\r\n// }\r\n\r\nexport default LeftMenu","import React, { useState, useEffect } from 'react'\nimport LeftMenu from './components/LeftMenu'\nimport { PostContainer, SearchBar } from './components/MainPage'\nimport RightMenu from './components/RightMenu'\nimport ContentPage from './components/ContentPage'\nimport { LoginModal, CreatePostModal, FeedbackModal, MuteUserModal, SingleTextModal, HelpModal } from './components/Modal'\nimport { NotificationBar } from './components/NoticationBar'\nimport { User, Page } from './Config'\nimport { isAuthenticated } from './Utils'\nimport { GetSelfInfo, Register } from './Communicator'\nimport { LoadScreen } from './components/LoadDialog'\nimport { Profile } from './components/Profile'\nimport { PostPage } from './components/PostPage'\nimport './style.css'\nimport { CredentialBar } from './components/LeftMenu'\nimport ModeratorPage from './components/ModeratorPage'\nimport {RegisterPage} from './components/RegisterPage'\n\nlet setDiv\n\nfunction App(props) {\n\n  const [menu, setMenu] = useState(0)\n  const [division, setDivision] = useState('postlist') //Change to context\n\n  setDiv = setDivision\n\n  useEffect(() => {\n\n    async function getUser() {\n      if (isAuthenticated()) {\n        let result = await GetSelfInfo()\n        props.user.editUser({\n          username: result.data.username,\n          followingSports: result.data.followedSports,\n          followingCompetitions: result.data.followedCompetitions,\n          followingTeams: result.data.followedTeams,\n          followers: result.data.followers,\n          following: result.data.following,\n          rank: result.data.rank,\n          moderatedTags: result.data.moderatedTags\n        })\n      }\n    }\n\n    getUser()\n  }, [])\n\n  return (\n    <>\n      <User.Consumer>\n        {user =>\n          <div className=\"main-root\">\n            <NavBar changeMenu={setMenu} menu={menu}></NavBar>\n            {/* <Profile></Profile> */} {/* REMOVED FULL SCREEN PROFILE TO IMMPLEMENT RIGHT BAR STYLE*/}\n            <LoadScreen></LoadScreen>\n            <LoginModal></LoginModal>\n            <SingleTextModal></SingleTextModal>\n            <HelpModal></HelpModal>\n            <CreatePostModal></CreatePostModal>\n            <RegisterPage></RegisterPage>\n            <FeedbackModal></FeedbackModal>\n            <MuteUserModal></MuteUserModal>\n            <div id=\"desktop-container\">\n              <LeftMenu activated={menu === 1 ? true : false}></LeftMenu>\n              <Division division={division} user={user} setDivision={setDivision}></Division>\n              <RightMenu activated={menu === 2 ? true : false}></RightMenu>\n            </div>\n            <NotificationBar></NotificationBar>\n          </div>\n        }\n      </User.Consumer>\n    </>\n  )\n}\n\nfunction Division(props) {\n\n  if (props.division == 'postlist') {\n    return <Page.Consumer>\n      {page =>\n        <PostContainer page={page} user={props.user} setDivision={props.setDivision}></PostContainer>\n      }\n    </Page.Consumer>\n  }\n  else if (props.division == 'post') {\n    return <PostPage setDivision={props.setDivision}></PostPage>\n  }\n  else if (props.division == 'modpage') {\n    return <ModeratorPage setDivision={props.setDivision}></ModeratorPage>\n  }\n}\n\nfunction NavBar(props) {\n\n  const onMenuClick = (val) => {\n\n    if (props.menu === val) {\n      props.changeMenu(0)\n      return\n    }\n\n    props.changeMenu(val)\n  }\n\n  return (\n    <div id=\"navbar\">\n      <i className=\"menu-selector fas fa-bars\" onClick={() => { onMenuClick(1) }}></i>\n      <img alt=\"logo\" src=\"./media/logo.png\" onClick={() => { window.location.reload() }} />\n      <Page.Consumer>\n        {\n          page => <SearchBar type=\"desktop\" page={page}></SearchBar>\n        }\n      </Page.Consumer>\n      <i className=\"menu-selector fas fa-bars\" onClick={() => { onMenuClick(2) }}></i>\n      <CredentialBar nameClass={\"credential-bar desktop\"}></CredentialBar>\n    </div>)\n}\n\nexport function SetDivision(type) {\n  setDiv(type)\n}\n\nexport default App\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { DoVote, GetUserInfo, DeletePost, FlagPost, BanUser } from '../Communicator'\r\nimport { showPostPage } from './PostPage'\r\nimport { EmbedLink } from '../Utils'\r\nimport { User } from '../Config'\r\nimport { openUserProfile } from \"./Profile\"\r\nimport { showUserProfile } from './RightMenu'\r\nimport { setModalVisibility } from \"./Modal\"\r\n\r\nexport default function Post(props) {\r\n\r\n  let timeVal = parseInt(props.time)\r\n  let date = new Date(timeVal)\r\n\r\n  const [votes, setVotes] = useState(0)\r\n\r\n  useEffect(() => {\r\n\r\n    let totalVotes = 0\r\n\r\n    for (let i = props.votes.length - 1; i >= 0; i--) {\r\n      totalVotes += props.votes[i].votes\r\n\r\n      if (props.votes[i].tag === props.page.currentTags)\r\n        break\r\n    }\r\n\r\n    setVotes(totalVotes)\r\n  }, [props.page.currentTags])\r\n\r\n  async function openProfile(username) {\r\n    //loadscreen\r\n    //let result = await GetUserInfo(username)\r\n\r\n    openUserProfile(true, username)\r\n  }\r\n\r\n  return (\r\n    <div className={props.viewType == 0 ? 'post' : 'post-compact'} onClick={() => { let newPost = props.post; newPost.totalVotes = votes; newPost.date = date.toLocaleString(); props.setDivision('post'); showPostPage(true, newPost) }}>\r\n      <div className=\"header\">\r\n        <h1>{props.title}</h1>\r\n        <User.Consumer>\r\n          {\r\n            user => {\r\n              return <PostDropdown setPosts={props.setPosts} user={user} username={props.username} post={props.post}></PostDropdown>\r\n            }\r\n          }\r\n        </User.Consumer>\r\n      </div>\r\n      <div className=\"compact-container\">\r\n        {\r\n          props.post.isEmbed ? EmbedLink(props.post.embedUrl, props.viewType) : <p className=\"description\">{props.body}</p>\r\n        }\r\n        <div className=\"divider\"></div>\r\n        <div className=\"row\">\r\n          <div className=\"column\">\r\n            <div className=\"user-details\" onClick={(e) => { e.stopPropagation(); showUserProfile(props.username, props.page) }}>\r\n              <p className=\"username\">{props.username}</p>\r\n              <div className=\"circle\"></div>\r\n              <i className=\"emblem fas fa-fire\"></i>\r\n            </div>\r\n            <div className=\"timestamp\">\r\n              <p>{date.toLocaleString()}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"voter\">\r\n            <div className=\"column\">\r\n              <i onClick={(e) => { e.stopPropagation(); likePost(props.id, props.page.currentTags, () => { setVotes(votes + 1) }) }} className=\"upvote fas fa-caret-up\"></i>\r\n              <p className=\"votes\">{votes}</p>\r\n              <i onClick={(e) => { e.stopPropagation(); dislikePost(props.id, props.page.currentTags, () => { setVotes(votes - 1) }) }} className=\"downvote fas fa-caret-down\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PostDropdown(props) {\r\n  const dropdown = useRef(null)\r\n  let user = props.user\r\n  let post = props.post\r\n\r\n  const [menuOpen, setMenuOpen] = useState(false)\r\n\r\n  function isInBounds() {\r\n    if (user.rank == 'user' || user.rank == '')\r\n      return false\r\n\r\n    if (user.rank == 'admin')\r\n      return true\r\n\r\n    if (user.moderatedTags.some(elem => post.tags.includes(elem))) {\r\n      return true\r\n    }\r\n    else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  function documentClick(e) {\r\n    if (dropdown.current && !dropdown.current.contains(e.target)) {\r\n      setMenuOpen(false)\r\n    }\r\n  }\r\n\r\n  //const isModInBounds = useModInBounds()\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', documentClick)\r\n    return () => {\r\n      document.removeEventListener('mousedown', documentClick)\r\n    }\r\n  }, [])\r\n\r\n  async function flagPost() {\r\n    FlagPost(post._id)\r\n  }\r\n\r\n  async function muteUser() {\r\n    setModalVisibility(\"muteuser\", true, props.username)\r\n  }\r\n\r\n  async function banUser() {\r\n    BanUser(props.username)\r\n  }\r\n\r\n  async function deletePost(id) {\r\n    let result = await DeletePost(id)\r\n    if (result.status == 'success') {\r\n      props.setPosts(state => state.filter(p => p._id != id))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <i className=\"fas fa-ellipsis-v\" ref={dropdown} onClick={(e) => { e.stopPropagation(); setMenuOpen(state => !state) }}>\r\n      {\r\n        !menuOpen ? <></> : <div className=\"dropdown\">\r\n          {\r\n            user.username == props.username || (user.isMod() && isInBounds()) ? <p onClick={(e) => {deletePost(props.post._id) }}>DELETE</p> : <></>\r\n          }\r\n          {\r\n            user.username != props.username ? <p onClick={(e) => { flagPost() }}>FLAG</p> : <></>\r\n          }\r\n          {\r\n            user.isMod() && isInBounds() && user.username != props.username? <p onClick={(e) => {muteUser() }}>MUTE</p> : <></>\r\n          }\r\n          {\r\n            user.rank == 'admin' && user.username != props.username? <p onClick={(e) => { banUser() }}>BAN</p> : <></>\r\n          }\r\n        </div>\r\n      }\r\n    </i>\r\n  )\r\n}\r\n\r\nfunction likePost(id, tag, callback) {\r\n  DoVote('add', tag, id)\r\n    .then((resp) => {\r\n      if (resp.status === \"success\")\r\n        callback()\r\n    })\r\n}\r\n\r\nfunction dislikePost(id, tag, callback) {\r\n  DoVote('subtract', tag, id)\r\n    .then((resp) => {\r\n      if (resp.status === \"success\")\r\n        callback()\r\n    })\r\n}","/* eslint-disable eqeqeq */\r\nimport React, { useEffect, useState, useRef } from 'react'\r\nimport Post from './Post'\r\nimport { GetPosts, FollowTag, QuickSearch, GetPostsByUser, PageSearch } from '../Communicator'\r\nimport { setModalVisibility } from './Modal' //createpost\r\nimport { isAuthenticated, isEmptyOrSpaces } from '../Utils'\r\nimport { Page, User } from '../Config'\r\nimport { showPostPage } from './PostPage'\r\nimport { addToBackButtonStack, showUserProfile } from './RightMenu'\r\nimport { showNotification } from './NoticationBar'\r\nimport { SetDivision } from '../App'\r\n\r\nexport function PostContainer(props) {\r\n\r\n  const [posts, setPosts] = useState([])\r\n  const [filter, setFilter] = useState('new')\r\n  const [viewType, setViewType] = useState(0)\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      if (props.page.tags[props.page.tags.length - 1].includes('_user_profile')) {\r\n        let username = props.page.tags[props.page.tags.length - 1].split('_')[0]\r\n        let posts = await GetPostsByUser(username)\r\n\r\n        if (posts.status == 'failure') return showNotification('Could not get Posts')\r\n\r\n        return setPosts(posts.data)\r\n      }\r\n\r\n      let tagsToGet = props.username != null && props.page.tags.length == 1 ?\r\n        [...props.page.currentTags, ...props.user.followingSports, ...props.user.followingCompetitions, ...props.user.followingTeams] : props.page.currentTags\r\n      let posts = await GetPosts(tagsToGet, filter)\r\n      setPosts(posts.data.posts)\r\n    }\r\n\r\n    fetchData()\r\n  }, [props.page.currentTags, filter])\r\n\r\n  function followText(user) {\r\n    function execute(array) {\r\n      let isUsed = false\r\n\r\n      for (let item of array) {\r\n        if (item[0] == props.page.currentTags[0]) {\r\n          isUsed = true\r\n          break\r\n        }\r\n      }\r\n\r\n      return <div id=\"follow-btn\" onClick={() => { isUsed ? followClicked(user, false) : followClicked(user, true) }}>{isUsed ? <p>Unfollow</p> : <p>Follow this!</p>}</div>\r\n    }\r\n\r\n    if (props.page.currentTags[0].includes('_team_result'))\r\n      return execute(user.followingTeams)\r\n    else\r\n      return execute(user.followingCompetitions)\r\n  }\r\n\r\n  async function followClicked(user, isAdded) {\r\n    let name, type\r\n\r\n    if (props.page.currentTags[0].includes('_team_result')) {\r\n      name = props.page.currentTags[0].split('_')[0]\r\n      type = 'team'\r\n    }\r\n    else if (props.page.currentTags[0].includes('_competition_result')) {\r\n      name = props.page.currentTags[0].split('_')[0]\r\n      type = 'competition'\r\n    }\r\n    else {\r\n      return\r\n    }\r\n\r\n    let result = await FollowTag(props.page.currentTags, name, type, isAdded)\r\n\r\n    if (result.status == 'success') {\r\n      if (type == 'team') {\r\n        if (isAdded)\r\n          user.editTeams([props.page.currentTags[0], name], 'add')\r\n        else\r\n          user.editTeams([props.page.currentTags[0], name], 'remove')\r\n      } else {\r\n        if (isAdded)\r\n          user.editCompetitions([props.page.currentTags[0], name], 'add')\r\n        else\r\n          user.editCompetitions([props.page.currentTags[0], name], 'remove')\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"main-holder\">\r\n      {\r\n        <div id=\"post-container\">\r\n          <SearchBar type=\"mobile\" page={props.page}></SearchBar>\r\n          <CreatePostBar></CreatePostBar>\r\n          <User.Consumer>\r\n            {user =>\r\n              isAuthenticated() && props.page.tags.length > 1 &&\r\n                (props.page.currentTags[0].includes('_team_result') || props.page.currentTags[0].includes('_competition_result')) ?\r\n                followText(user)\r\n                : <></>\r\n            }\r\n          </User.Consumer>\r\n          <FilterBar viewType={viewType} setViewType={setViewType} setFilter={setFilter}></FilterBar>\r\n          <CreatePostButton></CreatePostButton>\r\n          <Page.Consumer>\r\n            {page =>\r\n              posts.map(post => (\r\n                <Post\r\n                  setDivision={props.setDivision}\r\n                  setPosts={setPosts}\r\n                  page={page}\r\n                  viewType={viewType}\r\n                  post={post}\r\n                  key={post._id}\r\n                  id={post._id}\r\n                  votes={post.votes}\r\n                  username={post.username}\r\n                  title={post.title}\r\n                  body={post.body}\r\n                  time={post.time}></Post>\r\n              ))\r\n            }\r\n          </Page.Consumer>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction CreatePostBar() {\r\n  if (!isAuthenticated())\r\n    return null\r\n\r\n  return (\r\n    <div id=\"create-post-bar\">\r\n      <i className=\"fas fa-newspaper\"></i>\r\n      <input placeholder=\"Create post...\" onClick={() => { setModalVisibility(\"createpost\", true) }}></input>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function SearchBar(props) {\r\n\r\n  const [typingTimer, setTypingTimer] = useState(null)\r\n  const [activated, setActivation] = useState(false)\r\n  const [searchResults, setSearchResults] = useState({ teams: [], posts: [], competitions: [], fixtures: [], users: [] })\r\n  const [term, setTerm] = useState('')\r\n\r\n  function inputChanged(term) {\r\n\r\n    if (typingTimer)\r\n      clearInterval(typingTimer)\r\n\r\n    setTypingTimer(setTimeout(async () => {\r\n      if (isEmptyOrSpaces(term)) {\r\n        setActivation(false)\r\n        return setSearchResults({ teams: [], posts: [], competitions: [], fixtures: [], users: [] })\r\n      }\r\n\r\n      setTerm(term)\r\n\r\n      let result = await QuickSearch(term)\r\n      if (result.status == 'success') {\r\n        setSearchResults(result.data)\r\n        setActivation(true)\r\n      }\r\n    }, 1000))\r\n  }\r\n\r\n  if(props.type == 'mobile'){\r\n    return (\r\n      <div className=\"searchbar mobile\" onChange={(e) => { inputChanged(e.target.value) }} onClick={() => { }}>\r\n        <i className=\"fas fa-search\"></i>\r\n        <input placeholder=\"Search...\"></input>\r\n        <SearchPage term={term} setSearchResults={setSearchResults} pageProvider={props.page} setVisibility={setActivation} activated={activated} searchResults={searchResults}></SearchPage>\r\n      </div>\r\n    )\r\n  }\r\n  else{\r\n    return (\r\n      <div className=\"searchbar desktop\" onChange={(e) => { inputChanged(e.target.value) }} onClick={() => { }}>\r\n        <i className=\"fas fa-search\"></i>\r\n        <input placeholder=\"Search...\"></input>\r\n        <SearchPage term={term} setSearchResults={setSearchResults} pageProvider={props.page} setVisibility={setActivation} activated={activated} searchResults={searchResults}></SearchPage>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction SearchPage(props) {\r\n  const searchPage = useRef(null)\r\n\r\n  function documentClick(e){\r\n    if (searchPage.current && !searchPage.current.contains(e.target)) {\r\n        props.setVisibility(false)\r\n    }\r\n}\r\n\r\nuseEffect(() => {\r\n    document.addEventListener('mousedown', documentClick)\r\n    return () => {\r\n        document.removeEventListener('mousedown', documentClick)\r\n    }\r\n}, [])\r\n\r\n  if (!props.activated)\r\n    return null\r\n\r\n  let searchResults = props.searchResults\r\n\r\n  async function TeamSearched(team) {\r\n    props.pageProvider.setTags(['home', 'team', `${team}_team_result`])\r\n    addToBackButtonStack(2, props.pageProvider, 1)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function FixtureSearched(fixture) {\r\n    props.pageProvider.setTags(['home', 'competition', `${fixture.league.name}_competition_result`, `${fixture.fixture_id}_fixture_details`])\r\n    addToBackButtonStack(3, props.pageProvider, 2, fixture)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function CompetitionSearched(competition) {\r\n    props.pageProvider.setTags(['home', 'competition', `${competition}_competition_result`])\r\n    addToBackButtonStack(2, props.pageProvider, 1)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function UserSearched(user) {\r\n    showUserProfile(user.username, props.pageProvider)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function PostSearched(post) {\r\n    post.totalVotes = post.votes.reduce((prev, curr) => prev.votes + curr.votes, { votes: 0 })\r\n    let timeVal = parseInt(post.time)\r\n    let date = new Date(timeVal)\r\n    post.date = date.toLocaleString()\r\n    SetDivision('post')\r\n    showPostPage(true, post)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function SearchInPage(tag, term) {\r\n    let result = await PageSearch(term, tag)\r\n    if (result.status == 'failure')\r\n      return showNotification(\"Could not find anything\")\r\n\r\n    props.setSearchResults({ teams: [], posts: result.data, competitions: [], fixtures: [], users: [] })\r\n  }\r\n\r\n  let isEmpty = true\r\n\r\n  for(let item in searchResults){\r\n    if(searchResults[item].length > 0)\r\n      isEmpty = false\r\n  }\r\n\r\n  return (\r\n    <div id=\"search-page\" ref={searchPage}>\r\n      <div className=\"header\">\r\n        {\r\n          props.pageProvider.tags.length > 2 ? <p className=\"extra-search\" onClick={() => { SearchInPage(props.pageProvider.currentTags[props.pageProvider.currentTags.length - 1], props.term) }}>Search on this page only</p> : <></>\r\n        }\r\n      </div>\r\n      {\r\n        isEmpty ? <p>No items found.</p> : <></>\r\n      }\r\n      {searchResults.teams.length == 0 ? <></> :\r\n        <div className=\"team-search section\">\r\n          <p className=\"title\">Teams</p>\r\n          <div className=\"divider\"></div>\r\n          {\r\n            [...new Set(searchResults.teams.map(item => item.name))].map(item => <p onClick={() => { TeamSearched(item) }} className=\"result\" key={item}>{item}</p>)\r\n          }\r\n        </div>\r\n      }\r\n      {\r\n        searchResults.fixtures.length == 0 ? <></> :\r\n          <div className=\"fixture-search section\">\r\n            <p className=\"title\">Fixtures</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.fixtures)].map(item => <p onClick={() => { FixtureSearched(item) }} className=\"result\" key={item.fixture_id}>{`${item.homeTeam.team_name} v ${item.awayTeam.team_name}`}</p>)\r\n            }\r\n          </div>\r\n      }\r\n      {\r\n        searchResults.competitions.length == 0 ? <></> :\r\n          <div className=\"competition-search section\">\r\n            <p className=\"title\">Competitions</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.competitions.map(item => item.name))].map(item => <p onClick={() => { CompetitionSearched(item) }} className=\"result\" key={item}>{item}</p>)\r\n            }\r\n          </div>\r\n      }\r\n      {\r\n        searchResults.users.length == 0 ? <></> :\r\n          <div className=\"user-search section\">\r\n            <p className=\"title\">Users</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.users)].map(item => <p onClick={() => { UserSearched(item) }} className=\"result\" key={item.username}>{item.username}</p>)\r\n            }\r\n          </div>\r\n      }\r\n      {\r\n        searchResults.posts.length == 0 ? <></> :\r\n          <div className=\"post-search section\">\r\n            <p className=\"title\">Posts</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.posts)].map(item => <p onClick={() => { PostSearched(item) }} className=\"result\" key={item.title}>{item.title}</p>)\r\n            }\r\n          </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction FilterBar(props) {\r\n\r\n  const [dropdownVisibility, setDropdownVisibility] = useState(false)\r\n  const [buttonDisplayData, setButtonDisplayData] = useState(['NEW', 'fas fa-certificate'])\r\n  const dropdown = useRef(null)\r\n\r\n  function dropdownSelect(filter, icon) {\r\n    props.setFilter(filter)\r\n    setButtonDisplayData([filter.toUpperCase(), icon])\r\n    setDropdownVisibility(false)\r\n  }\r\n\r\n  function documentClick(e) {\r\n    if (dropdown.current && !dropdown.current.contains(e.target) && dropdownVisibility) {\r\n      setDropdownVisibility(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', documentClick)\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', documentClick)\r\n    }\r\n  }, [dropdownVisibility])\r\n\r\n  return (\r\n    <div id=\"filterbar\">\r\n      <div id=\"filter-selector\" ref={dropdown} onClick={() => { setDropdownVisibility(state => !state) }}>\r\n        <i className={buttonDisplayData[1]}></i>\r\n        <div className=\"divider\"></div>\r\n        <p>{buttonDisplayData[0]}</p>\r\n        {\r\n          !dropdownVisibility ? <></> : <div className=\"dropdown\" onClick={(e) => { e.stopPropagation() }}>\r\n            <p onClick={() => { dropdownSelect('Top', 'fas fa-chart-line') }}>Top</p>\r\n            <p onClick={() => { dropdownSelect('Hot', 'fas fa-burn') }}>Hot</p>\r\n            <p onClick={() => { dropdownSelect('Trending', 'fab fa-red-river') }}>Trending</p>\r\n            <p onClick={() => { dropdownSelect('New', 'fas fa-certificate') }}>New</p>\r\n            <p onClick={() => { dropdownSelect('Controvertial', 'fas fa-skull-crossbones') }}>Controvertial</p>\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n      <div id=\"view-selector\">\r\n        <p>VIEW</p>\r\n        <div className=\"divider\"></div>\r\n        <i onClick={() => { props.setViewType(0) }} className=\"fas fa-th-list\"></i>\r\n        <i onClick={() => { props.setViewType(1) }} className=\"fas fa-stream\"></i>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction CreatePostButton() {\r\n\r\n  if (!isAuthenticated())\r\n    return null\r\n\r\n  return (\r\n    <div id=\"create-post-btn\" onClick={() => { setModalVisibility(\"createpost\", true) }}>\r\n      <div className=\"row\">\r\n        <i className=\"icon fas fa-envelope\"></i>\r\n        <p>CREATE POST</p>\r\n      </div>\r\n      <div className=\"shadow\">\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport App from './App';\nimport UserProvider, { User, PageProvider } from './Config'\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n      <PageProvider>\n        <User.Consumer>{\n          user => <App user={user} />\n        }\n        </User.Consumer>\n      </PageProvider>\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}