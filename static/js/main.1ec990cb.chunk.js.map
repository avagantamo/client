{"version":3,"sources":["media/content-background.jpg","Utils.js","Communicator.js","components/NoticationBar.js","components/LoadDialog.js","Config.js","components/Modal.js","components/Dropdown.js","components/RegisterPage.js","components/Profile.js","components/LeftMenu.js","components/PostPage.js","components/Post.js","components/ContentPage.js","components/RightMenu.js","components/MainPage.js","App.js","index.js"],"names":["module","exports","isAuthenticated","document","cookie","EmbedLink","link","viewType","includes","className","src","alt","url","getToken","split","logOut","multiple","i","length","key","removeCookies","window","location","reload","isEmptyOrSpaces","str","match","endPoint","Login","username","password","a","axios","post","toLowerCase","res","data","GetSelfInfo","token","GetUserInfo","Register","following","SubmitPost","title","body","tags","isEmbed","time","DeletePost","id","postId","GetPosts","filter","GetPostsByUser","DoVote","voteType","tag","GetTeams","get","GetLeagues","GetFixturesInLeague","leagueId","GetFixturesInLeagueByName","name","leagueName","GetFixtureDetails","fixtureId","GetTeamMatches","team","FollowUser","user","FollowTag","type","isAdded","MakeComment","description","isChild","GetPostComments","QuickSearch","term","message","changeNotificationVisibility","NotificationBar","useState","visible","setVisibility","showNotification","mssg","callback","setTimeout","changeVisibility","User","createContext","Page","PageProvider","props","setPage","setState","state","item","push","currentTags","popPage","pop","setTags","searchTerm","Provider","value","this","children","Component","UserProvider","editUser","details","followingSports","undefined","followingSport","followingTeams","followingCompetitions","editTeams","shouldAdd","splice","editCompetitions","competition","changeModalVisibility","changeLoginModalVisibility","changeCreatePostModalVisibility","changeFeedbackModalVisibility","AcceptModal","setVisible","onClick","visibility","setAcceptModalVisibility","e","stopPropagation","LoginModal","setUsername","setPassword","setLoginModalVisibility","onChange","event","target","Consumer","status","now","Date","getTime","setTime","toUTCString","followedSports","followedCompetitions","followedTeams","FeedbackModal","setText","CreatePostModal","setTitle","setBody","setLink","selectedTab","placeholder","page","submitPost","checkLink","setCreatePostModalVisibility","URL","_","validURL","Dropdown","contentClass","setContentClass","choices","map","choice","action","LoadScreen","setLoadScreen","isOn","selectedItems","sports","Set","competitions","teams","confirmPass","RegisterPage","leagues","setLeagues","setTeams","league","set","Array","from","itemsToArray","result","InitialPage","enabled","items","clicked","captchaPassed","setCaptchaPassed","sitekey","click","TileHolder","Tile","style","setStyle","add","delete","changePosts","changeUserInfo","currentUser","Profile","posts","setPosts","userInfo","setUserInfo","useEffect","followers","totalVotes","dateJoined","SocialLink","logo","updatedInfo","ProfilePost","_id","votes","openUserProfile","postsPromise","userPromise","Promise","allSettled","then","results","console","log","CredentialBar","MenuColumn","MenuButton","onPress","iconClass","FollowingContainer","FollowingButton","LeftMenu","activated","currentPost","PostPage","input","setInput","CommentInput","typedComment","textInput","tree","commentArray","commentDictionary","transformToObject","parentId","isLeaf","search","childrenIds","childrenTree","rowStack","firstRow","childId","row","newChildRow","child","branch","unshift","renderTree","embedUrl","date","root","Comment","level","replySelected","setReplySelected","reply","setReply","showPostPage","Object","values","Post","timeVal","parseInt","setVotes","menuOpen","setMenuOpen","p","newPost","toLocaleString","deletePost","openProfile","resp","currentMatch","MatchAttribute","team1","value1","team2","value2","ShowContentPage","_currentMatch","ContentPage","updateFixtures","updateTab","changeContentPage","fixtureDetails","setFixtureDetails","fixture_id","isActivated","GetDetails","parse","event_date","background","toLocaleDateString","homeTeam","team_name","goalsHomeTeam","goalsAwayTeam","awayTeam","venue","score","halftime","home","away","backButtonListenerStack","addToBackButtonStack","count","fixture","lastTab","tabClick","tab","setTab","Tabs","setContent","currentPage","NavigationBody","fixtures","teamFixtures","setTeamFixtures","competitionFixtureResolver","statusArray","statusShort","teamFixtureResolver","lastTag","secondLastTab","teamId","selectedCompetition","RightMenu","fixtureTab","selectFixtureTab","setFixtures","isContentPageVisible","setContentPageVisibility","fixtureTabClicked","tabNumber","previousTab","res_team","res_league","getData","display","SearchBar","typingTimer","setTypingTimer","isMain","clearInterval","setResults","users","enable","SearchPage","searchResults","setSearchResults","pageProvider","reduce","prev","curr","TeamSearched","FixtureSearched","CompetitionSearched","UserSearched","PostSearched","FilterBar","dropdownVisibility","setDropdownVisibility","buttonDisplayData","setButtonDisplayData","dropdownSelect","icon","setFilter","toUpperCase","setViewType","CreatePostButton","PostContainer","searchVisibility","setSearchVisibility","followClicked","tagsToGet","fetchData","execute","array","isUsed","followText","NavBar","onMenuClick","val","menu","changeMenu","App","setMenu","getUser","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1ec990cb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/content-background.e23b19e7.jpg\";","import React, { useRef, useEffect, useState } from 'react'\r\nimport Embed from 'react-embed'\r\n\r\nexport function isAuthenticated() {\r\n  let cookie = document.cookie\r\n\r\n  if (cookie === \"\")\r\n    return false\r\n  else\r\n    return true\r\n}\r\n\r\nexport function EmbedLink(link, viewType) {\r\n  if (link.includes('fbcdn') || link.includes('twimg')) {\r\n    return <img className=\"image\" src={link} alt={link} ></img>\r\n  }\r\n  else if (link.includes('youtube')) {\r\n    return viewType == 0 ? <Embed url={link}></Embed> : <p className='video-placeholder'>VIDEO</p>\r\n  }\r\n}\r\n\r\nexport function getUser() {\r\n  alert('not implemented')\r\n}\r\n\r\nexport function getToken() {\r\n  let cookie = document.cookie\r\n\r\n  if (cookie === \"\")\r\n    return null\r\n\r\n  return cookie.split('=')[1]\r\n}\r\n\r\nexport function logOut() {\r\n  removeCookies()\r\n  window.location.reload()\r\n}\r\n\r\nfunction removeCookies() {\r\n  var res = document.cookie;\r\n  var multiple = res.split(\";\");\r\n  for (var i = 0; i < multiple.length; i++) {\r\n    var key = multiple[i].split(\"=\");\r\n    document.cookie = key[0] + \" =; expires = Thu, 01 Jan 1970 00:00:00 UTC\";\r\n  }\r\n}\r\n\r\nexport function isEmptyOrSpaces(str){\r\n  return str === null || str.match(/^ *$/) !== null;\r\n}\r\n\r\nexport function validURL(str) {\r\n  try{\r\n    new URL(str)\r\n  }catch(_){\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\nexport function useTraceUpdate(props) {\r\n  const prev = useRef(props);\r\n  useEffect(() => {\r\n    const changedProps = Object.entries(props).reduce((ps, [k, v]) => {\r\n      if (prev.current[k] !== v) {\r\n        ps[k] = [prev.current[k], v];\r\n      }\r\n      return ps;\r\n    }, {});\r\n    if (Object.keys(changedProps).length > 0) {\r\n      console.log('Changed props:', changedProps);\r\n    }\r\n    prev.current = props;\r\n  });\r\n}","import axios from 'axios'\r\nimport { getToken } from './Utils'\r\n\r\n//http://192.168.1.135:80\r\n//https://sportsment.herokuapp.com/\r\nlet endPoint = 'https://sportsment.herokuapp.com/'\r\n\r\nexport async function Login(username, password) {\r\n    let res = await axios.post(`${endPoint}/auth/login`, { username: username.toLowerCase(), password: password })\r\n    return res.data\r\n}\r\n\r\nexport async function GetSelfInfo() {\r\n    let res = await axios.post(`${endPoint}/auth/selfinfo`, { token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetUserInfo(username) {\r\n    let res = await axios.post(`${endPoint}/auth/getuserinfo`, { username: username, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function Register(username, password, following) {\r\n    let res = await axios.post(`${endPoint}/auth/register`, { username: username.toLowerCase(), password: password, following: following })\r\n    return res.data\r\n}\r\n\r\nexport async function SubmitPost(title, body, tags, isEmbed, link, time) {\r\n    let res = await axios.post(`${endPoint}/posts/create`, { title: title, body: body, tags: tags, isEmbed: isEmbed, link: link, time: time, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function DeletePost(id){\r\n    let res = await axios.post(`${endPoint}/posts/delete`, { postId: id, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetPosts(tags, filter) {\r\n    let res = await axios.post(`${endPoint}/posts/getposts`, { tags: tags, filter: filter })\r\n    return res.data\r\n}\r\n\r\nexport async function GetPostsByUser(username) {\r\n    let res = await axios.post(`${endPoint}/posts/getpostsbyuser`, { username: username, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function DoVote(voteType, tag, postId) {\r\n    let res = await axios.post(`${endPoint}/posts/vote`, { token: getToken(), voteType: voteType, tag: tag, postId: postId })\r\n    return res.data\r\n}\r\n\r\nexport async function GetTeams() {\r\n    let res = await axios.get(`${endPoint}/teams/getteams`)\r\n    return res.data\r\n}\r\n\r\nexport async function GetLeagues() {\r\n    let res = await axios.get(`${endPoint}/leagues/getleagues`)\r\n    return res.data\r\n}\r\n\r\nexport async function GetFixturesInLeague(leagueId) {\r\n    let res = await axios.post(`${endPoint}/fixtures/getfixtures`, { leagueId: leagueId, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetFixturesInLeagueByName(name){\r\n    let res = await axios.post(`${endPoint}/fixtures/getfixturesfromname`, { leagueName: name, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetFixtureDetails(fixtureId) {\r\n    let res = await axios.post(`${endPoint}/fixtures/getfixturedetails`, { fixtureId: fixtureId, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetTeamMatches(team) {\r\n    let res = await axios.post(`${endPoint}/teams/getteammatches`, { team: team, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function FollowUser(user) {\r\n    let res = await axios.post(`${endPoint}/auth/followuser`, { username: user, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function FollowTag(tag, name, type, isAdded) {\r\n    let res = await axios.post(`${endPoint}/auth/followtag`, { tag: tag, name: name, type: type, isAdded: isAdded, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function MakeComment(description, isChild, id) {\r\n    let res = await axios.post(`${endPoint}/comments/comment`, { description: description, isChild: isChild, id: id, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetPostComments(postId) {\r\n    let res = await axios.post(`${endPoint}/comments/getpostcomments`, { id: postId })\r\n    return res.data\r\n}\r\n\r\nexport async function QuickSearch(term){\r\n    let res = await axios.post(`${endPoint}/search/quicksearch`, { term: term })\r\n    return res.data\r\n}","import React, {useState} from 'react'\r\n\r\nlet message = ''\r\nlet changeNotificationVisibility  = null\r\n\r\nexport function NotificationBar(){\r\n\r\n    const [visible, setVisibility] = useState(false)\r\n    changeNotificationVisibility = setVisibility\r\n\r\n    if(!visible)\r\n        return null\r\n\r\n    return(\r\n        <div id=\"notification-bar\">\r\n            <p className=\"description\">{message}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function showNotification(mssg, callback){\r\n    message = mssg\r\n    if(changeNotificationVisibility == null)\r\n        return\r\n\r\n    changeNotificationVisibility(true)\r\n    callback && callback()\r\n\r\n    setTimeout(() => {\r\n        message = \"\"\r\n        changeNotificationVisibility(false)        \r\n    }, 4000)\r\n}","import React, {useState} from 'react'\r\n\r\nlet changeVisibility\r\n\r\nexport function LoadScreen(){\r\n\r\n    const [visibility, setVisibility] = useState(false)\r\n    changeVisibility = setVisibility\r\n\r\n    if(!visibility)\r\n        return null\r\n\r\n    return(\r\n        <div id=\"load-screen\">\r\n            <p>Loading...</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function setLoadScreen(isOn){\r\n    changeVisibility(isOn)\r\n}","/* eslint-disable eqeqeq */\r\nimport React, { createContext, Component, } from 'react'\r\n\r\nexport const User = createContext(null)\r\nexport const Page = createContext(null)\r\n\r\nexport class PageProvider extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.setPage = (tag) => {\r\n            this.setState(state => {\r\n\r\n                for (let item of tag) {\r\n                    if (!state.tags.includes(item)) {\r\n                        state.tags.push(item)\r\n                    }\r\n                }\r\n\r\n                state.currentTags = tag\r\n                return state\r\n            })\r\n        }\r\n\r\n        this.popPage = (tag) => {\r\n            this.setState(state => {                \r\n                if (state.tags.includes(tag)) {\r\n                    if (state.tags.length == 1)\r\n                        return state\r\n                    \r\n                    state.tags.pop()\r\n                    state.currentTags = [state.tags[state.tags.length - 1]]\r\n\r\n                    return state\r\n                }\r\n                return state\r\n            })\r\n        }\r\n\r\n        this.setTags = (tags) => { //Only use for search as menu refresh relies on this\r\n            this.setState(state => {\r\n                state.tags = tags\r\n                state.currentTags = [tags[tags.length - 1]]\r\n                state.searchTerm = [tags[tags.length - 1]]\r\n                return state\r\n            })\r\n        }\r\n\r\n        this.state = {\r\n            searchTerm: null,\r\n            tags: ['home'],\r\n            currentTags: ['home'],\r\n            setPage: this.setPage,\r\n            popPage: this.popPage,\r\n            setTags: this.setTags\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Page.Provider value={this.state}>\r\n                {this.props.children}\r\n            </Page.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nclass UserProvider extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.editUser = (details) => {\r\n            this.setState(state => {\r\n                state.username = details.username\r\n                state.followingSports = details.followingSports == undefined ? [] : details.followingSport\r\n                state.followingTeams = details.followingTeams == undefined ? [] : details.followingTeams\r\n                state.followingCompetitions = details.followingCompetitions == undefined ? [] : details.followingCompetitions\r\n                return details\r\n            })\r\n        }\r\n\r\n        this.editTeams = (team, shouldAdd) => {\r\n            this.setState(state => {\r\n                if (shouldAdd) {\r\n                    for (let item of state.followingTeams) {\r\n                        if (item[0] == team[0])\r\n                            return\r\n                    }\r\n\r\n                    state.followingTeams.push(team)\r\n                } else {\r\n                    for (let i = 0; i < state.followingTeams.length; i++) {\r\n                        if (state.followingTeams[i][0] == team[0])\r\n                            state.followingTeams.splice(i, 1)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        this.editCompetitions = (competition, shouldAdd) => {\r\n            this.setState(state => {\r\n                if (shouldAdd) {\r\n                    for (let item of state.followingCompetitions) {\r\n                        if (item[0] == competition[0])\r\n                            return\r\n                    }\r\n\r\n                    state.followingCompetitions.push(competition)\r\n                } else {\r\n                    for (let i = 0; i < state.followingCompetitions.length; i++) {\r\n                        if (state.followingCompetitions[i][0] == competition[0])\r\n                            state.followingCompetitions.splice(i, 1)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        this.state = {\r\n            editCompetitions: this.editCompetitions,\r\n            editTeams: this.editTeams,\r\n            editUser: this.editUser,\r\n            followingSports: [],\r\n            followingCompetitions: [],\r\n            followingTeams: [],\r\n            username: null,\r\n            token: null\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <User.Provider value={this.state}>\r\n                {this.props.children}\r\n            </User.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserProvider","import React, { useState } from 'react'\r\nimport { Login, Register, SubmitPost } from '../Communicator'\r\nimport { showNotification } from './NoticationBar'\r\nimport { User, Page } from '../Config'\r\nimport { isEmptyOrSpaces, validURL } from '../Utils'\r\n\r\nlet changeModalVisibility = null\r\nlet changeLoginModalVisibility = null\r\nlet changeRegisterModalVisibility = null\r\nlet changeCreatePostModalVisibility = null\r\nlet changeFeedbackModalVisibility = null\r\n\r\nexport function AcceptModal() {\r\n    const [visible, setVisible] = useState(false)\r\n    changeModalVisibility = setVisible\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div id=\"modal\" onClick={() => { setAcceptModalVisibility(false) }}>\r\n            <div id=\"dialog\" onClick={(e) => { e.stopPropagation() }}>\r\n                <p className=\"title\">Are you sure?</p>\r\n                <p className=\"description\">The action you are about to take can have some serious consequences</p>\r\n                <div className=\"space\"></div>\r\n                <div className=\"modal-row\">\r\n                    <div className=\"btn\" onClick={() => { }}>OK</div>\r\n                    <div className=\"btn\" onClick={() => { }}>CANCEL</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function LoginModal() {\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [user, setUser] = useState(null)\r\n    const [visible, setVisibility] = useState(false)\r\n    changeLoginModalVisibility = setVisibility\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div onClick={() => { setLoginModalVisibility(false) }} id=\"modal\">\r\n            <div className=\"login\" id=\"dialog\" onClick={(e) => { e.stopPropagation() }}>\r\n                <p className=\"title\">LOG-IN</p>\r\n                <p>Username:</p>\r\n                <input className=\"username\" onChange={(event) => { setUsername(event.target.value) }} type=\"text\"></input>\r\n                <p>Password:</p>\r\n                <input className=\"password\" onChange={(event) => { setPassword(event.target.value) }} type=\"password\"></input>\r\n                <div className=\"space\"></div>\r\n                <User.Consumer>{\r\n                    user => <div className=\"btn default\" onClick={async () => {\r\n\r\n                        let data = await Login(username, password)\r\n\r\n                        if (data.status === \"success\") {\r\n                            setLoginModalVisibility(false)\r\n                            let now = new Date()\r\n                            let time = now.getTime()\r\n                            time += 3600000\r\n                            now.setTime(time)\r\n                            document.cookie = `token=${data.data.token}; expires=${now.toUTCString()};`\r\n                            user.editUser({\r\n                                username: username,\r\n                                token: data.data.token,\r\n                                followingSports: data.data.followedSports,\r\n                                followingCompetitions: data.data.followedCompetitions,\r\n                                followingTeams: data.data.followedTeams\r\n                            })\r\n                        }\r\n\r\n\r\n                        showNotification(data.message)\r\n                    }}>\r\n                        LOGIN\r\n                </div>\r\n                }</User.Consumer>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function FeedbackModal() {\r\n    const [text, setText] = useState('')\r\n    const [visible, setVisibility] = useState(false)\r\n\r\n    changeFeedbackModalVisibility = setVisibility\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div onClick={() => { }} id=\"modal\">\r\n            <div className=\"login\" id=\"dialog\" onClick={(e) => { e.stopPropagation(); setVisibility(false) }}>\r\n                <p className=\"title\">FEEDBACK</p>\r\n                <p>Message:</p>\r\n                <input className=\"username\" onChange={(event) => { setText(event.target.value) }} type=\"text\"></input>\r\n                <div className=\"space\"></div>\r\n                <div className=\"btn default\" onClick={async () => {\r\n                    //Send message\r\n                    showNotification('Message sent')\r\n                }}>\r\n                    SEND\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function RegisterModal() { //USE REGISTER PAGE INSTEAD\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [visible, setVisibility] = useState(false)\r\n    changeRegisterModalVisibility = setVisibility\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div onClick={() => { setRegisterModalVisibility(false) }} id=\"modal\">\r\n            <div className=\"login\" id=\"dialog\" onClick={(e) => { e.stopPropagation() }}>\r\n                <p className=\"title\">REGISTER</p>\r\n                <p>Username:</p>\r\n                <input className=\"username\" onChange={(event) => { setUsername(event.target.value) }} type=\"text\"></input>\r\n                <p>Password:</p>\r\n                <input className=\"password\" onChange={(event) => { setPassword(event.target.value) }} type=\"password\"></input>\r\n                <div className=\"space\"></div>\r\n                <div className=\"btn default\" onClick={async () => {\r\n                    let data = await Register(username, password)\r\n\r\n                    if (data.status === \"success\") {\r\n                        setRegisterModalVisibility(false)\r\n                    }\r\n\r\n                    showNotification(data.message)\r\n                }}>Register</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function CreatePostModal() { //Hide main page when shown, or?\r\n\r\n    const [visible, setVisibility] = useState(false)\r\n    const [title, setTitle] = useState('')\r\n    const [body, setBody] = useState('') //SET VALIDATION\r\n    const [link, setLink] = useState('') //SET VALIDATION\r\n    const [selectedTab, changeSelectedTab] = useState(2)\r\n\r\n    changeCreatePostModalVisibility = setVisibility\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div id=\"create-post-dialog\">\r\n            <h2 className=\"title\">Create a post</h2>\r\n            <div className=\"divider\"></div>\r\n            <div className=\"type-selector\">\r\n                {/* <div className={`type ${selectedTab == 1 ? 'selected' : ''}`} onClick={() => { changeSelectedTab(1) }}>Text</div> */}\r\n                {/* <div className={`type ${selectedTab == 2 ? 'selected' : ''}`} onClick={() => { changeSelectedTab(2) }}>Embed</div> */}\r\n            </div>\r\n            <input placeholder=\"Enter title...\" onChange={(e) => { setTitle(e.target.value) }}></input>\r\n            {\r\n                selectedTab == 1 ? <textarea placeholder=\"Enter description...\" onChange={(e) => { setBody(e.target.value) }}></textarea> :\r\n                    <input className=\"link\" placeholder=\"Enter Link\" onChange={(e) => { setLink(e.target.value) }}></input>\r\n            }\r\n            <div className=\"row\">\r\n                <Page.Consumer>\r\n                    {page =>\r\n                        <div className=\"button fixed\" onClick={() => { submitPost(title, body, page.tags, selectedTab == 2 ? true : false, link) }}>\r\n                            <div className=\"items\">\r\n                                <p className=\"text\">Post</p>\r\n                            </div>\r\n                            <div className=\"shadow\"></div>\r\n                        </div>\r\n                    }\r\n                </Page.Consumer>\r\n                <div className=\"button fixed\" onClick={() => { setVisibility(false) }}>\r\n                    <div className=\"items\">\r\n                        <p className=\"text\">Cancel</p>\r\n                    </div>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nasync function submitPost(title, body, tags, isEmbed, link) {\r\n\r\n    if (!checkLink(link)) {\r\n        showNotification('Enter a valid address')\r\n        return\r\n    }\r\n\r\n    let data = await SubmitPost(title, body, tags, isEmbed, link, Date.now())\r\n\r\n    if (data.status === \"success\")\r\n        showNotification('Posted successfully')\r\n\r\n    setCreatePostModalVisibility(false)\r\n}\r\n\r\nfunction checkLink(link) {\r\n    if (isEmptyOrSpaces(link))\r\n        return false\r\n\r\n    if (!link.includes('facebook') && !link.includes('instagram') && !link.includes('twitter') && !link.includes('youtube'))\r\n        return false\r\n\r\n    if (!validURL(link))\r\n        return false\r\n\r\n    return true\r\n}\r\n\r\n//optimize\r\nexport function setAcceptModalVisibility(visibility) {\r\n    if (changeModalVisibility == null) {\r\n        return\r\n    }\r\n    changeModalVisibility(visibility)\r\n}\r\n\r\nexport function setLoginModalVisibility(visibility) {\r\n    if (changeLoginModalVisibility == null)\r\n        return\r\n\r\n    changeLoginModalVisibility(visibility)\r\n}\r\n\r\nexport function setRegisterModalVisibility(visibility) {\r\n    if (changeRegisterModalVisibility == null)\r\n        return\r\n\r\n    changeRegisterModalVisibility(visibility)\r\n}\r\n\r\nexport function setFeedbackModalVisibility(visibility){\r\n    if(changeFeedbackModalVisibility == null)\r\n        return\r\n\r\n    changeFeedbackModalVisibility(visibility)\r\n}\r\n\r\nexport function setCreatePostModalVisibility(visibility) {\r\n    if (changeCreatePostModalVisibility == null)\r\n        return\r\n\r\n    changeCreatePostModalVisibility(visibility)\r\n}","import React, { useState } from 'react'\r\n\r\nexport function Dropdown(props) {\r\n    const [contentClass, setContentClass] = useState('content')\r\n\r\n    return (\r\n        <div className=\"dropdown\">\r\n            <div className=\"button\">\r\n                <div className=\"items\" onClick={() => { contentClass == 'content' ? setContentClass('content open') : setContentClass('content') }}>\r\n                    <p className=\"text\">{props.title}</p>\r\n                    <i className=\"trailing fas fa-caret-down\"></i>\r\n                </div>\r\n                <div className=\"shadow\"></div>\r\n                <div className={contentClass}>\r\n                    {\r\n                        props.choices.map(choice => <p onClick={choice.action} key={choice.name}>{choice.name}</p>)\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { GetLeagues, GetTeams, Register } from '../Communicator'\r\nimport { setLoadScreen } from './LoadDialog'\r\nimport { showNotification } from './NoticationBar'\r\nimport Recaptcha from 'react-google-recaptcha'\r\n\r\nlet selectedItems = {\r\n    sports: new Set(),\r\n    competitions: new Set(),\r\n    teams: new Set()\r\n}\r\n\r\nlet username = ''\r\nlet password = ''\r\nlet confirmPass = ''\r\n\r\nlet changeVisibility = null\r\n\r\nexport function RegisterPage() {\r\n\r\n    const [visible, setVisibility] = useState(false)\r\n    const [page, setPage] = useState(0)\r\n    const [leagues, setLeagues] = useState([])\r\n    const [teams, setTeams] = useState([])\r\n\r\n    changeVisibility = setVisibility\r\n\r\n    if (!visible) {\r\n        selectedItems = {\r\n            sports: new Set(),\r\n            competitions: new Set(),\r\n            teams: new Set()\r\n        }\r\n\r\n        username = ''\r\n        password = ''\r\n        confirmPass = ''\r\n\r\n        return null\r\n    }\r\n\r\n    async function sportsPageOnClick() {\r\n        setLoadScreen(true)\r\n        let leagues = await GetLeagues()\r\n        setLeagues(leagues.data.leagues.map(league => league.name))\r\n        setLoadScreen(false)\r\n\r\n        setPage(2)\r\n    }\r\n\r\n    async function competitionPageOnClick() {\r\n        setLoadScreen(true)\r\n        let teams = await GetTeams()\r\n        let set = new Set(teams.data.teams.map(team => team.name))\r\n        setTeams(Array.from(set))\r\n        setLoadScreen(false)\r\n\r\n        setPage(3)\r\n    }\r\n\r\n    async function teamPageOnClick() {\r\n        let sports = Array.from(selectedItems.sports)\r\n        let competitions = Array.from(selectedItems.competitions)\r\n        let teams = Array.from(selectedItems.teams)\r\n\r\n        teams = teams.map(item => [`${item}_team_result`, item])\r\n        competitions = competitions.map(item => [`${item}_competition_result`, item])\r\n\r\n        let itemsToArray = {\r\n            sports: sports,\r\n            competitions: competitions,\r\n            teams: teams\r\n        }\r\n\r\n        let result = await Register(username, password, itemsToArray)\r\n\r\n        if (result.status == \"success\") {\r\n            showNotification('Account created')\r\n            setVisibility(false)\r\n        } else {\r\n            showNotification(result.message)\r\n            setVisibility(false)\r\n        }\r\n\r\n        setPage(0)\r\n    }\r\n\r\n    return (\r\n        <div id=\"register-page\">\r\n            <div className=\"header\">\r\n                <i className=\"exit fas fa-times-circle\" onClick={() => { setVisibility(false); setPage(0) }}></i>\r\n                <p>REGISTER</p>\r\n            </div>\r\n            <div className=\"body\">\r\n                <InitialPage setPage={setPage} enabled={page == 0 ? true : false}></InitialPage>\r\n                <Page items={['Soccer']} clicked={sportsPageOnClick} setPage={setPage} type={'sports'} enabled={page == 1 ? true : false}></Page>\r\n                <Page items={leagues} clicked={competitionPageOnClick} setPage={setPage} type={'competitions'} enabled={page == 2 ? true : false}></Page>\r\n                <Page items={teams} clicked={teamPageOnClick} setPage={setPage} type={'teams'} enabled={page == 3 ? true : false}></Page>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction InitialPage(props) {\r\n\r\n    const [captchaPassed, setCaptchaPassed] = useState(false)\r\n\r\n    if (!props.enabled)\r\n        return null\r\n\r\n    async function click() {\r\n        if (isEmptyOrSpaces(username)) {\r\n            showNotification('Please enter username')\r\n            return\r\n        }\r\n\r\n        if (isEmptyOrSpaces(password) || isEmptyOrSpaces(confirmPass)) {\r\n            showNotification('Please enter password')\r\n            return\r\n        }\r\n\r\n        if (password != confirmPass) {\r\n            showNotification('Passwords do not match')\r\n            return\r\n        }\r\n\r\n        if (password.length < 3) {\r\n            showNotification('Password length must be more than 3 letters')\r\n            return\r\n        }\r\n\r\n        props.setPage(1)\r\n    }\r\n\r\n    return (\r\n        <div id=\"register-initial\">\r\n            <p className=\"\">Username:</p>\r\n            <input onChange={(e) => { username = e.target.value }}></input>\r\n            <p className=\"\">Password:</p>\r\n            <input onChange={(e) => { password = e.target.value }} type=\"password\"></input>\r\n            <p className=\"\">Retype password:</p>\r\n            <input onChange={(e) => { confirmPass = e.target.value }} type=\"password\"></input>\r\n            <div className=\"space\"></div>\r\n            <Recaptcha sitekey=\"6LdpI8QZAAAAAP0RaC5gvSJTzpL-35bSqSQZVMGk\" onChange={() => {setCaptchaPassed(true)}}>\r\n\r\n            </Recaptcha>\r\n            {\r\n                !captchaPassed ? <></> : <div className=\"button gap\" onClick={() => { click() }}>\r\n                    <div className=\"items\">\r\n                        <div className=\"leading\">\r\n                            <p className=\"text\">NEXT</p>\r\n                        </div>\r\n                        <i className=\"trailing fas fa-arrow-right\"></i>\r\n                    </div>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Page(props) {\r\n\r\n    if (!props.enabled)\r\n        return null\r\n\r\n    return (\r\n        <div id=\"register-sports\">\r\n            <p>Select your favorite {props.type}:</p>\r\n            <div className=\"panel\">\r\n                <div className=\"items\">\r\n                    <TileHolder type={props.type} items={props.items}></TileHolder>\r\n                </div>\r\n            </div>\r\n            <div className=\"button gap\" onClick={() => { props.clicked() }}>\r\n                <div className=\"items\">\r\n                    <div className=\"leading\">\r\n                        <p className=\"text\">NEXT</p>\r\n                    </div>\r\n                    <i className=\"trailing fas fa-arrow-right\"></i>\r\n                </div>\r\n                <div className=\"shadow\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction TileHolder(props) {\r\n    return (\r\n        props.items.map(item => <Tile type={props.type} key={item} title={item}></Tile>)\r\n    )\r\n}\r\n\r\nfunction Tile(props) {\r\n\r\n    const [style, setStyle] = useState('')\r\n\r\n    function onClick() {\r\n        style == '' ? setStyle('invert') : setStyle('')\r\n        style == '' ? selectedItems[props.type].add(props.title) : selectedItems[props.type].delete(props.title)\r\n    }\r\n\r\n    return (\r\n        <div className={`tile ${style}`} onClick={() => { onClick() }}>\r\n            <div className={`dot ${style}`}></div>\r\n            {/* <div className=\"divider\"></div> */}\r\n            <p className=\"name\">{props.title}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function enablePage() {\r\n    changeVisibility(true)\r\n}\r\n\r\nfunction isEmptyOrSpaces(str) {\r\n    return str === null || str.match(/^ *$/) !== null;\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { setLoadScreen } from './LoadDialog'\r\nimport { GetPostsByUser, GetUserInfo, FollowUser } from '../Communicator'\r\nimport { User } from '../Config'\r\n\r\nlet changeVisibility = null\r\nlet changePosts = null\r\nlet changeUserInfo = null\r\nlet currentUser = null\r\n\r\nexport function Profile() {\r\n    //show loading\r\n    //get posts\r\n    //show this\r\n\r\n    const [visibility, setVisibility] = useState(false)\r\n    const [posts, setPosts] = useState([])\r\n    const [userInfo, setUserInfo] = useState({})\r\n\r\n    useEffect(() => {\r\n        changePosts = setPosts\r\n        changeVisibility = setVisibility\r\n        changeUserInfo = setUserInfo\r\n    }, [])\r\n\r\n    if (!visibility)\r\n        return null\r\n\r\n    return (\r\n        <div id=\"user-profile\">\r\n            <div className=\"header\">\r\n                <i className=\"exit fas fa-times-circle\" onClick={() => { setVisibility(false) }}></i>\r\n                <p>{currentUser}</p>\r\n            </div>\r\n            <div className=\"stats\">\r\n                <div className=\"followers card\">\r\n                    <i className=\"icon fas fa-user-friends\"></i>\r\n                    <p className=\"title\">Followers</p>\r\n                    <p className=\"value\">{userInfo.followers ? userInfo.followers.length : 0}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n                <div className=\"likes card\">\r\n                    <i className=\"icon fas fa-thumbs-up\"></i>\r\n                    <p className=\"title\">Likes</p>\r\n                    <p className=\"value\">{userInfo.totalVotes ? userInfo.totalVotes : 0}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n                <div className=\"date card\">\r\n                    <i className=\"icon fas fa-calendar-alt\"></i>\r\n                    <p className=\"title\">Joined</p>\r\n                    <p className=\"value\">{userInfo.dateJoined}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <div className=\"social\">\r\n                <SocialLink logo=\"fab fa-instagram\" name=\"Instagram: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-youtube\" name=\"Youtube: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-twitter\" name=\"Twitter: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-facebook\" name=\"Facebook: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-reddit\" name=\"Reddit: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-pinterest\" name=\"Pinterest: \"></SocialLink>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <div className=\"follow-btn\" onClick={async () => {\r\n                let result = await FollowUser(currentUser)\r\n                if (result.status == 'failure')\r\n                    return\r\n\r\n                let updatedInfo = userInfo\r\n                updatedInfo.followers.push(currentUser) //should add this user\r\n                setUserInfo({ ...updatedInfo })\r\n            }}>\r\n                <p>FOLLOW</p>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <p className=\"post-title\">POSTS</p>\r\n            {\r\n                posts.map(post => <ProfilePost key={post._id} title={post.title} body={post.body} tags={post.tags} votes={post.votes[0].votes}></ProfilePost>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction SocialLink(props) {\r\n    return (\r\n        <div className=\"social-tile\">\r\n            <i className={props.logo}></i>\r\n            <p>{props.name}</p>\r\n            <User.Consumer>\r\n                {\r\n                    user => currentUser == user.username ? \r\n                    <i className=\"fas fa-edit\"></i> :\r\n                    <></>\r\n                }\r\n            </User.Consumer>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ProfilePost(props) {\r\n\r\n    return (\r\n        <div className=\"profile-post\">\r\n            <div className=\"main\">\r\n                <p className=\"title\">{props.title}</p>\r\n                {/* <div className=\"tags\">\r\n                    {\r\n                        props.tags.map(tag => <p key={tag}>{tag}</p>)\r\n                    }\r\n                </div> */}\r\n                <p className=\"body\">{props.body}</p>\r\n            </div>\r\n            <div className=\"votes\">{props.votes}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport async function openUserProfile(visibility, username) {\r\n    currentUser = username\r\n    setLoadScreen(true)\r\n    let postsPromise = GetPostsByUser(currentUser)\r\n    let userPromise = GetUserInfo(username)\r\n\r\n    Promise.allSettled([postsPromise, userPromise])\r\n        .then(results => {\r\n            let posts = results[0].value\r\n            let user = results[1].value\r\n\r\n            if (posts.status == 'failure' || user.status == 'failure')\r\n                return console.log('Failed')\r\n\r\n            changePosts(posts.data)\r\n            changeUserInfo(user.data)\r\n            changeVisibility(visibility)\r\n            setLoadScreen(false)\r\n        })\r\n\r\n\r\n}","import React, { useState, useContext, useEffect } from 'react'\r\nimport { setLoginModalVisibility, setFeedbackModalVisibility } from './Modal'\r\nimport { User } from '../Config'\r\nimport { Dropdown } from './Dropdown'\r\nimport { RegisterPage, enablePage } from './RegisterPage'\r\nimport {logOut} from '../Utils'\r\nimport {openUserProfile} from './Profile'\r\n\r\nfunction LeftMenu(props) {\r\n\r\n  if (!props.activated)\r\n    return null\r\n\r\n  return (\r\n    <div id=\"leftmenu\">\r\n      <CredentialBar></CredentialBar>\r\n      <RegisterPage></RegisterPage>\r\n      <MenuColumn></MenuColumn>\r\n      <div id=\"menu-divider\">\r\n        <div className=\"line\"></div>\r\n        <p className=\"divider-text\">FOLLOWING</p>\r\n        <div className=\"line\"></div>\r\n      </div>\r\n      <FollowingContainer></FollowingContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction CredentialBar() { //Returns Register/login or profile/notification\r\n\r\n  return (\r\n    <User.Consumer>\r\n      {user => {\r\n        if (user.username == null) {\r\n          return (<div id=\"credential-bar\">\r\n            <div className=\"button fixed\" onClick={() => { enablePage() }}>\r\n              <div className=\"items\">\r\n                <div className=\"leading\">\r\n                  <div className=\"icon dot\"></div>\r\n                  <p className=\"text\">REGISTER</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"shadow\"></div>\r\n            </div>\r\n            <div className=\"button fixed\" onClick={() => { setLoginModalVisibility(true) }}>\r\n              <div className=\"items\">\r\n                <div className=\"leading\">\r\n                  <div className=\"icon dot\"></div>\r\n                  <p className=\"text\">LOGIN</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"shadow\"></div>\r\n            </div>\r\n          </div>)\r\n        } else {\r\n          return (\r\n            <div id=\"credential-bar\">\r\n              <Dropdown choices={[\r\n                {name: 'Profile', action: () => {openUserProfile(true, user.username)}},\r\n                {name: 'Log Out', action: () => {logOut()}}]} title={user.username}></Dropdown>\r\n              <i className=\"notification fas fa-bell\"></i>\r\n            </div>)\r\n        }\r\n      }}\r\n    </User.Consumer>\r\n  )\r\n}\r\n\r\nfunction MenuColumn() {\r\n  return (\r\n    <div id=\"menu-column\">\r\n      <MenuButton onPress={() => {window.location.reload()}} title='HOME' iconClass='fas fa-home'></MenuButton>\r\n      <MenuButton onPress={() => { }} title='MODERATION' iconClass='fas fa-user-friends'></MenuButton>\r\n      <MenuButton onPress={() => { }} title='HELP' iconClass='fas fa-question-circle'></MenuButton>\r\n      <MenuButton onPress={() => {setFeedbackModalVisibility(true)}} title='FEEDBACK' iconClass='fas fa-comments'></MenuButton>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction FollowingContainer() {\r\n  return (\r\n    <div id=\"following-container\">\r\n      <User.Consumer>\r\n        {\r\n          user => {\r\n            return (<>\r\n              <FollowingButton title={\"Sports\"} items={user.followingSports}></FollowingButton>\r\n              <FollowingButton title={\"Competitions\"} items={user.followingCompetitions}></FollowingButton>\r\n              <FollowingButton title={\"Teams\"} items={user.followingTeams}></FollowingButton>\r\n            </>)\r\n          }\r\n        }\r\n      </User.Consumer>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction MenuButton(props) {\r\n  return (\r\n    <div className=\"button gap\" onClick={() => { props.onPress() }}>\r\n      <div className=\"items\">\r\n        <div className=\"leading\">\r\n          <i className={`icon ${props.iconClass}`}></i>\r\n          <p className=\"text\">{props.title}</p>\r\n        </div>\r\n        <div className=\"dot\"></div>\r\n      </div>\r\n      <div className=\"shadow\"></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction FollowingButton(props) {\r\n\r\n  const [style, setStyle] = useState('')\r\n\r\n  return (\r\n    <div className=\"button gap\" onClick={() => { style == '' ? setStyle('open') : setStyle('') }}>\r\n      <div className=\"items\">\r\n        <div className=\"leading\">\r\n          <div className=\"icon dot\"></div>\r\n          <p className=\"text\">{props.title}</p>\r\n        </div>\r\n        <i className=\"trailing fas fa-plus-circle\"></i>\r\n      </div>\r\n      <div className={`follow-body ${style}`}>\r\n        {\r\n          props.items.map(item => <p className=\"follow-item\" key={item}>{item[1]}</p>)\r\n        }\r\n      </div>\r\n      <div className=\"shadow\"></div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// function EntryHolder(props){\r\n//   return()\r\n// }\r\n\r\nexport default LeftMenu","import React, { useState } from 'react'\r\nimport { MakeComment, GetPostComments } from '../Communicator'\r\nimport { EmbedLink } from '../Utils'\r\nimport { User } from '../Config'\r\n\r\nlet changeVisibility = null\r\nlet currentPost = null\r\n\r\nexport function PostPage() {\r\n    //get postdata\r\n    //getcomments\r\n\r\n    const [visibility, setVisibility] = useState(false)\r\n    const [typedComment, textInput] = CommentInput()\r\n\r\n    changeVisibility = setVisibility\r\n\r\n    if (!visibility)\r\n        return null\r\n\r\n    let tree = renderTree(currentPost.commentArray, currentPost.commentDictionary)\r\n\r\n    return (\r\n        <div id=\"post-page\">\r\n            <i className=\"exit fas fa-times-circle\" onClick={() => { setVisibility(false) }}></i>\r\n            <div className=\"main-post-container\">\r\n                <p className=\"main-post-user\">{currentPost.username}</p>\r\n                <p className=\"main-post-title\">{currentPost.title}</p>\r\n                {/* <p className=\"main-post-description\">{currentPost.body}</p> */}\r\n                {\r\n                    EmbedLink(currentPost.embedUrl)\r\n                }\r\n                <div className=\"details\">\r\n                    <p className=\"date\">{currentPost.date}</p>\r\n                    <div className=\"votes\">\r\n                        <div className=\"column\">\r\n                            <i onClick={() => { }} className=\"upvote fas fa-caret-up\"></i>\r\n                            <p className=\"votes\">{currentPost.totalVotes}</p>\r\n                            <i onClick={() => { }} className=\"downvote fas fa-caret-down\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/* <div className=\"toolbar\">\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                </div> */}\r\n            </div>\r\n            <div className=\"reply-bar\">\r\n                {textInput}\r\n                <i className=\"fas fa-paper-plane\" onClick={() => { MakeComment(typedComment, false, currentPost._id) }}></i>\r\n            </div>\r\n            <div className=\"comment-section\">\r\n                {\r\n                    tree.map(root => <Comment childrenTree={root} isLeaf={root[0][0].isLeaf} level={1} parentId={root[0][0]._id} username={root[0][0].username} description={root[0][0].description}></Comment>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction renderTree(commentArray, commentDictionary) {\r\n\r\n    function transformToObject(item, parentId) {\r\n        return {\r\n            id: item._id,\r\n            isLeaf: item.isLeaf,\r\n            username: item.username,\r\n            description: item.description,\r\n            parentId: parentId\r\n        }\r\n    }\r\n\r\n    function search(childrenIds, parentId) { //breadth first\r\n        let childrenTree = []\r\n        let rowStack = []\r\n\r\n        let firstRow = []\r\n\r\n        for (let childId of childrenIds) {\r\n            firstRow.push(transformToObject(commentDictionary[childId], parentId))\r\n\r\n            for (let id of commentDictionary[childId].childrenIds) {\r\n                rowStack.push({ id: id, parentId: childId })\r\n            }\r\n        }\r\n\r\n        childrenTree.push(firstRow)\r\n\r\n        while (rowStack.length != 0) {\r\n            let row = []\r\n            let newChildRow = []\r\n\r\n            for (let child of rowStack) {\r\n                row.push(transformToObject(commentDictionary[child.id], child.parentId))\r\n\r\n                for (let id of commentDictionary[child.id].childrenIds) {\r\n                    newChildRow.push({ id: id, parentId: child.id })\r\n                }\r\n            }\r\n\r\n            rowStack = newChildRow\r\n            childrenTree.push(row)\r\n        }\r\n\r\n        return childrenTree\r\n    }\r\n\r\n    let tree = []\r\n\r\n    for (let item of commentArray) {\r\n        if (item.isChild)\r\n            continue\r\n\r\n        let branch = search(item.childrenIds, item._id) //is tree\r\n\r\n        if (branch[0].length == 0) {\r\n            tree.push([[item]])\r\n        } else {\r\n            branch.unshift([item])\r\n            tree.push(branch)\r\n        }\r\n\r\n    }\r\n    return tree\r\n}\r\n\r\nfunction makeCommentTree(comments) {\r\n    let tree = {}\r\n\r\n    for (let index in comments) {\r\n        if (!comments[index].isLeaf)\r\n            continue\r\n\r\n        let branch = {}\r\n        let node = comments[index]\r\n        branch[node._id] = node\r\n        let isRoot = !node.isChild\r\n\r\n\r\n        while (!isRoot) {\r\n            node.parent = comments[node.parentId]\r\n            node = node.parent\r\n            isRoot = !node.isChild\r\n\r\n            // if(isRoot){\r\n            //     node.parent = node = node.parent\r\n            // }\r\n        }\r\n\r\n        //console.log(branch)\r\n        Object.assign(tree, branch)\r\n    }\r\n\r\n    console.log(tree)\r\n}\r\n\r\nfunction Comment({ childrenTree, level, parentId, username, description, isLeaf }) {\r\n    //childrenTree[level].forEach(val => console.log(val.id, val.parentId, parentId))\r\n    //if(childrenTree.length > 1 )console.log(description ,childrenTree[level][0].isLeaf)\r\n    const [replySelected, setReplySelected] = useState(false)\r\n    const [reply, setReply] = useState('')\r\n\r\n    return (\r\n        <div className=\"comment\">\r\n            <div className=\"main-section\">\r\n                <div className=\"top\">\r\n                    <p className=\"comment-user\">{username}</p>\r\n                    <p className=\"comment-description\">{description}</p>\r\n\r\n                    <div className=\"votes\">\r\n                        <div className=\"column\">\r\n                            <i onClick={() => { }} className=\"upvote fas fa-caret-up\"></i>\r\n                            <p className=\"votes\">0</p>\r\n                            <i onClick={() => { }} className=\"downvote fas fa-caret-down\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <User.Consumer>{\r\n                    user => user.username == null ? <></> : <div className=\"reply-section\">\r\n                        {\r\n                            !replySelected ? <p onClick={() => { setReplySelected(true) }}>REPLY</p> :\r\n                                <div>\r\n                                    <textarea onChange={(e) => { setReply(e.target.value) }}></textarea>\r\n                                    <p onClick={() => { MakeComment(reply, true, parentId) }}>SEND</p>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                }\r\n                </User.Consumer>\r\n            </div>\r\n\r\n            <div className={!isLeaf ? \"children\" : \"\"}>\r\n                {\r\n                    level >= childrenTree.length ? <></> : childrenTree[level].filter(child => child.parentId == parentId).map(child => <Comment isLeaf={child.isLeaf} username={child.username} parentId={child.id} description={child.description} level={level + 1} childrenTree={childrenTree}></Comment>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction CommentInput() {\r\n    const [input, setInput] = useState('')\r\n    const textInput = <textarea onChange={(e) => { setInput(e.target.value) }}></textarea>\r\n\r\n    return [input, textInput]\r\n}\r\n\r\nexport async function showPostPage(visibility, post) {\r\n    if (!visibility)\r\n        return changeVisibility(false)\r\n\r\n    //show loading\r\n    let result = await GetPostComments(post._id)\r\n\r\n    let commentArray = Object.values(result.data)\r\n    post.commentArray = commentArray\r\n    post.commentDictionary = result.data\r\n\r\n    currentPost = post\r\n    changeVisibility(true)\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { DoVote, GetUserInfo, DeletePost } from '../Communicator'\r\nimport { showPostPage } from './PostPage'\r\nimport { EmbedLink } from '../Utils'\r\nimport { User } from '../Config'\r\nimport { openUserProfile } from \"./Profile\"\r\n\r\nexport default function Post(props) {\r\n\r\n  let timeVal = parseInt(props.time)\r\n  let date = new Date(timeVal)\r\n\r\n  const [votes, setVotes] = useState(0)\r\n  const [menuOpen, setMenuOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n\r\n    let totalVotes = 0\r\n\r\n    for (let i = props.votes.length - 1; i >= 0; i--) {\r\n      totalVotes += props.votes[i].votes\r\n\r\n      if (props.votes[i].tag === props.page.currentTags)\r\n        break\r\n    }\r\n\r\n    setVotes(totalVotes)\r\n  }, [props.page.currentTags])\r\n\r\n  async function openProfile(username) {\r\n    //loadscreen\r\n    //let result = await GetUserInfo(username)\r\n\r\n    openUserProfile(true, username)\r\n  }\r\n\r\n  async function deletePost(id) {\r\n    let result = await DeletePost(id)\r\n    if (result.status == 'success') {\r\n      props.setPosts(state => state.filter(p => p._id != id))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={props.viewType == 0 ? 'post' : 'post-compact'} onClick={() => { let newPost = props.post; newPost.totalVotes = votes; newPost.date = date.toLocaleString(); showPostPage(true, newPost) }}>\r\n      <div className=\"header\">\r\n        <h1>{props.title}</h1>\r\n        <User.Consumer>\r\n          {\r\n            user => user.username == null || user.username != props.username ? <></> :\r\n              <i className=\"fas fa-ellipsis-v\" onClick={(e) => { e.stopPropagation(); setMenuOpen(state => !state) }}>\r\n                {\r\n                  !menuOpen ? <></> : <div className=\"dropdown\">\r\n                    <p onClick={(e) => { e.stopPropagation(); deletePost(props.post._id) }}>DELETE</p>\r\n                  </div>\r\n                }\r\n              </i>\r\n          }\r\n        </User.Consumer>\r\n      </div>\r\n      <div className=\"compact-container\">\r\n        {\r\n          props.post.isEmbed ? EmbedLink(props.post.embedUrl, props.viewType) : <p className=\"description\">{props.body}</p>\r\n        }\r\n        <div className=\"divider\"></div>\r\n        <div className=\"row\">\r\n          <div className=\"column\">\r\n            <div className=\"user-details\" onClick={(e) => { e.stopPropagation(); openProfile(props.username) }}>\r\n              <p className=\"username\">{props.username}</p>\r\n              <div className=\"circle\"></div>\r\n              <i className=\"emblem fas fa-fire\"></i>\r\n            </div>\r\n            <div className=\"timestamp\">\r\n              <p>{date.toLocaleString()}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"voter\">\r\n            <div className=\"column\">\r\n              <i onClick={(e) => { e.stopPropagation(); likePost(props.id, props.page.currentTags, () => { setVotes(votes + 1) }) }} className=\"upvote fas fa-caret-up\"></i>\r\n              <p className=\"votes\">{votes}</p>\r\n              <i onClick={(e) => { e.stopPropagation(); dislikePost(props.id, props.page.currentTags, () => { setVotes(votes - 1) }) }} className=\"downvote fas fa-caret-down\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction likePost(id, tag, callback) {\r\n  DoVote('add', tag, id)\r\n    .then((resp) => {\r\n      if (resp.status === \"success\")\r\n        callback()\r\n    })\r\n}\r\n\r\nfunction dislikePost(id, tag, callback) {\r\n  DoVote('subtract', tag, id)\r\n    .then((resp) => {\r\n      if (resp.status === \"success\")\r\n        callback()\r\n    })\r\n}","import React, { useState, useEffect } from 'react'\r\nimport background from '../media/content-background.jpg'\r\nimport { GetFixtureDetails } from '../Communicator'\r\n\r\nlet changeVisibility\r\nlet currentMatch\r\n\r\nfunction ContentPage(props) {\r\n\r\n    //const [visible, setVisibility] = useState(false)\r\n    const [fixtureDetails, setFixtureDetails] = useState({})\r\n    //changeVisibility = setVisibility\r\n\r\n    useEffect(() => {\r\n        if (!props.isActivated)\r\n            return\r\n\r\n        async function GetDetails() {\r\n            let res = await GetFixtureDetails(currentMatch.fixture_id)\r\n            console.log(res.data)\r\n            setFixtureDetails(res.data)\r\n        }\r\n\r\n        GetDetails()\r\n    }, [props.isActivated])\r\n\r\n    if (!props.isActivated)\r\n        return null\r\n\r\n    let date = new Date(Date.parse(currentMatch.event_date))\r\n\r\n    return (\r\n        <div id=\"content-page\">\r\n            <div id=\"content-header\">\r\n                <img src={background} alt='back' />\r\n                <div className=\"filter\"></div>\r\n                <div className=\"header-content\">\r\n                    {/* <i onClick={() => { }} className=\"back fas fa-arrow-circle-left\"></i> */}\r\n                    <p className=\"date\">{date.toLocaleDateString()}</p>\r\n                    <p className=\"league\">{currentMatch.league.name}</p>\r\n                    <div className=\"gap\"></div>\r\n                    <div className=\"score-front\">\r\n                        <p className=\"team\">{currentMatch.homeTeam.team_name}</p>\r\n                        <div className=\"score-display\">\r\n                            <p className=\"num\">{currentMatch.goalsHomeTeam}</p>\r\n                        </div>\r\n                        <div className=\"score-display\">\r\n                            <p className=\"num\">{currentMatch.goalsAwayTeam}</p>\r\n                        </div>\r\n                        <p className=\"team\">{currentMatch.awayTeam.team_name}</p>\r\n                    </div>\r\n                    <p className=\"location\">{currentMatch.venue}</p>\r\n                    <p className=\"ht-score\">{`HT Score: ${currentMatch.score == null || currentMatch.score.halftime == null ? '-' : currentMatch.score.halftime}`}</p>\r\n                </div>\r\n\r\n            </div>\r\n            <div id=\"content-body\">\r\n                <MatchAttribute title=\"SCORE\" team1={currentMatch.homeTeam.team_name} value1={currentMatch.goalsHomeTeam} team2={currentMatch.awayTeam.team_name} value2={currentMatch.goalsAwayTeam}></MatchAttribute>\r\n                <MatchAttribute title=\"POSSESSION\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Ball Possession\"] === undefined ? '-' : fixtureDetails[\"Ball Possession\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Ball Possession\"] === undefined ? '-' : fixtureDetails[\"Ball Possession\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"SHOTS ON TARGET\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Shots on Goal\"] === undefined ? '-' : fixtureDetails[\"Shots on Goal\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Shots on Goal\"] === undefined ? '-' : fixtureDetails[\"Shots on Goal\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"SHOTS OFF TARGET\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Shots off Goal\"] === undefined ? '-' : fixtureDetails[\"Shots off Goal\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Shots off Goal\"] === undefined ? '-' : fixtureDetails[\"Shots off Goal\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"CORNERS\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Corner Kicks\"] === undefined ? '-' : fixtureDetails[\"Corner Kicks\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Corner Kicks\"] === undefined ? '-' : fixtureDetails[\"Corner Kicks\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"OFFSIDES\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Offsides\"] === undefined ? '-' : fixtureDetails[\"Offsides\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Offsides\"] === undefined ? '-' : fixtureDetails[\"Offsides\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"FOULS\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Fouls\"] === undefined ? '-' : fixtureDetails[\"Fouls\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Fouls\"] === undefined ? '-' : fixtureDetails[\"Fouls\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"RED CARDS\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Red Cards\"] === undefined ? '-' : fixtureDetails[\"Red Cards\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Red Cards\"] === undefined ? '-' : fixtureDetails[\"Red Cards\"].away}></MatchAttribute>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction MatchAttribute(props) {\r\n    return (\r\n        <div className=\"match-attribute\">\r\n            <p className=\"title\">{props.title}</p>\r\n            <div className=\"attribute\">\r\n                <div className=\"row\">\r\n                    <p className=\"name\">{props.team1}</p>\r\n                    <p className=\"score\">{props.value1}</p>\r\n                </div>\r\n                <div className=\"divider\"></div>\r\n                <div className=\"row\">\r\n                    <p className=\"name\">{props.team2}</p>\r\n                    <p className=\"score\">{props.value2}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function ShowContentPage(visibility, _currentMatch) { //remove visibility\r\n\r\n    //if (visibility)\r\n    currentMatch = _currentMatch\r\n    console.log(currentMatch)\r\n    //changeVisibility(visibility)\r\n}\r\n\r\nexport default ContentPage","/* eslint-disable eqeqeq */\r\nimport React, { useEffect, useState, useContext } from 'react'\r\nimport { GetTeams, GetLeagues, GetFixturesInLeague, GetTeamMatches, GetFixturesInLeagueByName } from '../Communicator'\r\nimport { showNotification } from './NoticationBar'\r\nimport { ShowContentPage } from './ContentPage'\r\nimport ContentPage from '../components/ContentPage'\r\nimport { Page } from '../Config'\r\nimport { setLoadScreen } from './LoadDialog'\r\n\r\nlet updateFixtures\r\nlet updateTab\r\nlet changeContentPage\r\n\r\nlet backButtonListenerStack = []\r\n\r\nexport function addToBackButtonStack(count, page, level, fixture = null) {\r\n    backButtonListenerStack.length = 0\r\n\r\n    if (level == 1) {\r\n        changeContentPage(false)\r\n\r\n        for (let i = 0; i < count; i++) {\r\n            // eslint-disable-next-line no-loop-func\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n                page.popPage(lastTab)\r\n                updateTab(page.tags[page.tags.length - 1])\r\n            })\r\n        }\r\n    }\r\n    else if (level == 2) {        \r\n        ShowContentPage(true, fixture)\r\n        changeContentPage(true)\r\n\r\n        for (let i = 0; i < count; i++) {\r\n            // eslint-disable-next-line no-loop-func\r\n            backButtonListenerStack.push(() => {\r\n                changeContentPage(false)\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n                page.popPage(lastTab)\r\n                updateTab(lastTab)\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction RightMenu(props) {\r\n\r\n    const [teams, setTeams] = useState([])\r\n    const [leagues, setLeagues] = useState([])\r\n    const [tab, setTab] = useState('home') //Redacted - Used to rerender when popPage is run as popPage doesnt initiate rerender for some reason\r\n    const [fixtureTab, selectFixtureTab] = useState(1)\r\n    const [fixtures, setFixtures] = useState([])\r\n    const [isContentPageVisible, setContentPageVisibility] = useState(false)\r\n\r\n    useEffect(() => {\r\n        async function getData() {\r\n            let res_team = await GetTeams()\r\n            let res_league = await GetLeagues()\r\n\r\n            if (res_team.status === \"failure\" || res_league.status === \"failure\")\r\n                return console.log(\"Error occured while retrieving leagues/teams\")\r\n\r\n            setTeams(res_team.data.teams)\r\n            setLeagues(res_league.data.leagues)\r\n        }\r\n\r\n        updateFixtures = setFixtures\r\n        updateTab = setTab\r\n        changeContentPage = setContentPageVisibility\r\n        getData()\r\n    }, [])\r\n\r\n    // if (!props.activated)\r\n    //     return null\r\n\r\n    function fixtureTabClicked(tabNumber, team, previousTab, page) {\r\n        selectFixtureTab(tabNumber)\r\n        if (team == 'both')\r\n            return\r\n\r\n        backButtonListenerStack.push(() => {\r\n            selectFixtureTab(1)\r\n            page.popPage(team)\r\n            updateTab(previousTab)\r\n        })\r\n\r\n        page.setPage([team]) //fixture.homeTeam.team_name, fixture.awayTeam.team_name\r\n        updateTab(team)\r\n    }\r\n\r\n    return (\r\n        <Page.Consumer>\r\n            {page =>\r\n                <div id=\"rightmenu\" style={{ display: props.activated ? 'flex' : 'none' }}>\r\n                    {page.currentTags[page.currentTags.length - 1] === 'home' ? <div></div> : <div id=\"back-btn\" onClick={() => { backButtonListenerStack.pop()() }} className=\"button fixed\">\r\n                        <p> BACK </p>\r\n                    </div>}\r\n                    <div id=\"navigation-container\">\r\n                        <Tabs setContent={setContentPageVisibility} tab={tab} setTab={setTab} page={page}></Tabs>\r\n                        <div id=\"navigation-body\">\r\n                            {!page.currentTags[page.currentTags.length - 1].includes('_fixture_details') ? <></> : <div className=\"team-selector\">\r\n                                <p onClick={() => fixtureTabClicked(0, 'team1', tab, page)} className={fixtureTab == 0 ? 'selected' : ''}>Team 1</p>\r\n                                <p onClick={() => fixtureTabClicked(1, 'both', tab, page)} className={fixtureTab == 1 ? 'selected' : ''}>Both</p>\r\n                                <p onClick={() => fixtureTabClicked(2, 'team2', tab, page)} className={fixtureTab == 2 ? 'selected' : ''}>Team 2</p>\r\n                            </div>}\r\n                            <ContentPage isActivated={isContentPageVisible}></ContentPage>\r\n                            <NavigationBody setContent={setContentPageVisibility} page={page} fixtures={fixtures} tab={tab} teams={teams} leagues={leagues}></NavigationBody>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </Page.Consumer>\r\n    )\r\n}\r\n\r\nfunction tabClick(tab, setTab, page, name) {\r\n    if (tab === name)\r\n        return\r\n\r\n    let lastTab = page.tags[page.tags.length - 1]\r\n    page.popPage(lastTab)\r\n    setTab(name)\r\n    page.setPage([name])\r\n}\r\n\r\nfunction Tabs(props) {\r\n    let tab = props.page.currentTags[props.page.currentTags.length - 1]//props.tab\r\n    let setTab = props.setTab //Redacted\r\n    let page = props.page\r\n    let setContent = props.setContent\r\n\r\n    if (tab === 'home') {\r\n        return (<></>)\r\n    }\r\n    else if (tab === 'competition' || tab === 'team' || tab === 'fixture') {\r\n        return (\r\n            <div id=\"navigation-tab\">\r\n                <div onClick={() => { tabClick(tab, setTab, page, 'competition') }} className=\"tab\"><p className={tab === 'competition' ? 'dark' : 'light'}>COMPETITIONS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, 'team') }} className=\"tab\"><p className={tab === 'team' ? 'dark' : 'light'}>TEAMS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, 'fixture') }} className=\"tab\"><p className={tab === 'fixture' ? 'dark' : 'light'}>IN-PLAY</p></div>\r\n            </div>\r\n        )\r\n    }\r\n    else if (tab.includes('_competition_result') || tab.includes('_competition_fixture') || tab.includes('_competition_inplay') || tab.includes('_competition_team')) {\r\n        let currentPage = tab.split('_')[0]\r\n\r\n        return (\r\n            <div id=\"navigation-tab\">\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_result`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_result') ? 'dark' : 'light'}>RESULTS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_fixture`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_fixture') ? 'dark' : 'light'}>FIXTURES</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_inplay`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_inplay') ? 'dark' : 'light'}>IN-PLAY</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_team`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_team') ? 'dark' : 'light'}>TEAMS</p></div>\r\n            </div>\r\n        )\r\n    }\r\n    else if (tab.includes('_team_result') || tab.includes('_team_fixture') || tab.includes('_team_inplay')) {\r\n        let currentPage = tab.split('_')[0]\r\n\r\n        return (\r\n            <div id=\"navigation-tab\">\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_team_result`); setContent(false) }} className=\"tab\"><p className={tab.includes('_team_result') ? 'dark' : 'light'}>RESULTS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_team_fixture`); setContent(false) }} className=\"tab\"><p className={tab.includes('_team_fixture') ? 'dark' : 'light'}>FIXTURES</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_team_inplay`); setContent(false) }} className=\"tab\"><p className={tab.includes('_team_inplay') ? 'dark' : 'light'}>IN-PLAY</p></div>\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        return null\r\n    }\r\n}\r\n\r\nfunction NavigationBody(props) {\r\n\r\n    let setContent = props.setContent\r\n    let page = props.page\r\n    let tab = page.currentTags[page.currentTags.length - 1]//props.tab\r\n    let leagues = props.leagues\r\n    let teams = props.teams\r\n    let fixtures = props.fixtures\r\n\r\n    const [teamFixtures, setTeamFixtures] = useState([])\r\n\r\n    useEffect(() => {\r\n        //Get results when searched\r\n        (async () => {\r\n            let lastTag = page.currentTags[page.currentTags.length - 1]\r\n            if (!lastTag) return\r\n\r\n            if (lastTag.includes('_team_result')) {\r\n                setLoadScreen(true)\r\n                let result = await GetTeamMatches(lastTag.split('_')[0])\r\n                setTeamFixtures(result.data)\r\n                setLoadScreen(false)\r\n            } else if (lastTag.includes('_competition_result')) {\r\n                setLoadScreen(true)\r\n                let result = await GetFixturesInLeagueByName(lastTag.split('_')[0])\r\n                updateFixtures(result.data)\r\n                setLoadScreen(false)\r\n            }\r\n            else if (lastTag.includes('_fixture_details')) {\r\n                let secondLastTab = page.tags[page.tags.length - 2]\r\n                if (!secondLastTab) return\r\n\r\n                setLoadScreen(true)\r\n                let result = await GetFixturesInLeagueByName(secondLastTab.split('_')[0]) //Getting second-last tag\r\n                updateFixtures(result.data)\r\n                setLoadScreen(false)\r\n            }\r\n        })()\r\n\r\n    }, [page.searchTerm])\r\n\r\n    //console.log(page.tags)\r\n\r\n    function competitionFixtureResolver(statusArray) {\r\n        let click = async (fixture) => {\r\n            backButtonListenerStack.push(() => {\r\n                page.popPage(`${fixture.fixture_id}_fixture_details`)\r\n                setContent(false)\r\n                updateTab(tab)\r\n            })\r\n\r\n            setContent(true)\r\n            page.setPage([`${fixture.fixture_id}_fixture_details`]) //fixture.homeTeam.team_name, fixture.awayTeam.team_name\r\n            updateTab(`${fixture.fixture_id}_fixture_details`)\r\n            ShowContentPage(true, fixture)\r\n        }\r\n\r\n        return (fixtures.filter((fixture) => statusArray.includes(fixture.statusShort)).map(fixture => (\r\n            <Tile clicked={() => { click(fixture) }} key={fixture.fixture_id} name={`${fixture.homeTeam.team_name} VS ${fixture.awayTeam.team_name}`} id={fixture.fixture_id}></Tile>\r\n        ))\r\n        )\r\n    }\r\n\r\n    function teamFixtureResolver(statusArray) {\r\n        let click = async (fixture) => {\r\n            backButtonListenerStack.push(() => {\r\n                page.popPage(`${fixture.fixture_id}_fixture_details`)\r\n                setContent(false)\r\n                updateTab(tab)\r\n            })\r\n\r\n            setContent(true)\r\n            page.setPage([`${fixture.fixture_id}_fixture_details`]) //fixture.homeTeam.team_name, fixture.awayTeam.team_name\r\n            updateTab(`${fixture.fixture_id}_fixture_details`)\r\n            ShowContentPage(true, fixture)\r\n        }\r\n\r\n        return (teamFixtures.filter((fixture) => statusArray.includes(fixture.statusShort)).map(fixture => (\r\n            <Tile clicked={() => { click(fixture) }} key={fixture.fixture_id} name={`${fixture.homeTeam.team_name} VS ${fixture.awayTeam.team_name}`} id={fixture.fixture_id}></Tile>\r\n        ))\r\n        )\r\n    }\r\n\r\n    if (tab === 'home') { //Sports Selection\r\n\r\n        function click() {\r\n            let lastTab = page.tags[page.tags.length - 1]\r\n\r\n            updateTab('competition')\r\n            page.setPage(['competition'])\r\n\r\n            backButtonListenerStack.push(() => {\r\n                page.popPage(lastTab)\r\n                updateTab('home')\r\n            })\r\n        }\r\n\r\n        return (\r\n            <Tile name=\"Soccer\" clicked={() => { click() }}></Tile>\r\n        )\r\n    }\r\n    else if (tab === 'competition') { //Competition\r\n\r\n        let click = async (league) => {\r\n            setLoadScreen(true)\r\n            let result = await GetFixturesInLeague(league.leagueId)\r\n            setLoadScreen(false)\r\n\r\n            if (result.status === \"failure\") {\r\n                showNotification(result.message)\r\n                return\r\n            }\r\n\r\n            updateFixtures(result.data)\r\n            updateTab(`${league.name}_competition_result`)\r\n\r\n            page.setPage([`${league.name}_competition_result`])\r\n\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n\r\n                page.popPage(lastTab)\r\n                updateTab('competition')\r\n            })\r\n        }\r\n\r\n        return (\r\n            leagues.map(league => (\r\n                <Tile key={league._id} name={league.name} clicked={() => { click(league) }}></Tile>\r\n            ))\r\n        )\r\n    }\r\n    else if (tab === 'team') { //Teams\r\n\r\n        async function click(team) {\r\n            setLoadScreen(true)\r\n            let result = await GetTeamMatches(team.name)\r\n            setTeamFixtures(result.data)\r\n            setLoadScreen(false)\r\n\r\n            if (result.status === \"failure\") {\r\n                showNotification(result.message)\r\n                return\r\n            }\r\n\r\n            page.setPage([`${team.name}_team_result`])\r\n            updateTab(`${team.name}_team_result`)\r\n\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n\r\n                page.popPage(lastTab)\r\n                updateTab('team')\r\n            })\r\n        }\r\n\r\n        return (\r\n            teams.map(team => (\r\n                <Tile clicked={() => { click(team) }} key={team._id} name={team.name}> id={team.teamId}</Tile>\r\n            ))\r\n        )\r\n    }\r\n    else if (tab.includes('_competition_result')) { //In-League Matches\r\n        return competitionFixtureResolver([\"FT\", \"AET\", \"PEN\"])\r\n    }\r\n    else if (tab.includes('_competition_fixture')) {\r\n        return competitionFixtureResolver([\"NS\"])\r\n    }\r\n    else if (tab.includes('_competition_inplay')) {\r\n        return competitionFixtureResolver([\"1H\", \"HT\", \"2H\", \"ET\", \"P\", \"BT\"])\r\n    }\r\n    else if (tab.includes('_competition_team')) {\r\n        let selectedCompetition = tab.split('_')[0]\r\n\r\n        function click(team) {\r\n\r\n            page.setPage([`${team.name}_team_result`])\r\n            updateTab(`${team.name}_team_result`)\r\n\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n\r\n                page.popPage(lastTab)\r\n                updateTab('team')\r\n            })\r\n        }\r\n\r\n        return teams.filter(team => team.leagueName == selectedCompetition).map(team => (\r\n            <Tile clicked={() => { click(team) }} key={team._id} name={team.name}> id={team.teamId}</Tile>\r\n        ))\r\n\r\n        // return (\r\n        //     teams.map(team => (\r\n        //         <Tile clicked={() => { click(team) }} key={team._id} name={team.name}> id={team.teamId}</Tile>\r\n        //     ))\r\n        // )\r\n    }\r\n    else if (tab.includes('_team_result')) {\r\n        return teamFixtureResolver([\"FT\", \"AET\", \"PEN\"])\r\n    }\r\n    else if (tab.includes('_team_fixture')) {\r\n        return teamFixtureResolver([\"NS\"])\r\n    }\r\n    else if (tab.includes('_team_inplay')) {\r\n        return teamFixtureResolver([\"1H\", \"HT\", \"2H\", \"ET\", \"P\", \"BT\"])\r\n    }\r\n    else {\r\n        return null\r\n    }\r\n}\r\n\r\nfunction Tile(props) {\r\n    return (\r\n        <div className=\"team-tile\" onClick={props.clicked}>\r\n            <i className=\"logo fas fa-igloo\"></i>\r\n            <div className=\"divider\"></div>\r\n            <p className=\"name\">{props.name}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RightMenu","/* eslint-disable eqeqeq */\r\nimport React, { useEffect, useState } from 'react'\r\nimport Post from './Post'\r\nimport { GetPosts, FollowTag, QuickSearch } from '../Communicator'\r\nimport { setCreatePostModalVisibility } from './Modal'\r\nimport { isAuthenticated, isEmptyOrSpaces } from '../Utils'\r\nimport { Page, User } from '../Config'\r\nimport { showPostPage } from './PostPage'\r\nimport { addToBackButtonStack } from './RightMenu'\r\nimport { openUserProfile } from './Profile'\r\n\r\nfunction PostContainer(props) {\r\n\r\n  const [posts, setPosts] = useState([])\r\n  const [filter, setFilter] = useState('new')\r\n  const [searchVisibility, setSearchVisibility] = useState(false)\r\n  const [viewType, setViewType] = useState(0)\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      let tagsToGet = props.username != null && props.page.tags.length == 1 ?\r\n        [...props.page.currentTags, ...props.user.followingSports, ...props.user.followingCompetitions, ...props.user.followingTeams] : props.page.currentTags\r\n      let posts = await GetPosts(tagsToGet, filter)\r\n      setPosts(posts.data.posts)\r\n    }\r\n\r\n    fetchData()\r\n  }, [props.page.currentTags, filter])\r\n\r\n  function followText(user) {\r\n    function execute(array) {\r\n      let isUsed = false\r\n\r\n      for (let item of array) {\r\n        if (item[0] == props.page.currentTags[0]) {\r\n          isUsed = true\r\n          break\r\n        }\r\n      }\r\n\r\n      return <div id=\"follow-btn\" onClick={() => { isUsed ? followClicked(user, false) : followClicked(user, true) }}>{isUsed ? <p>Unfollow</p> : <p>Follow this!</p>}</div>\r\n    }\r\n\r\n    if (props.page.currentTags[0].includes('_team_result'))\r\n      return execute(user.followingTeams)\r\n    else\r\n      return execute(user.followingCompetitions)\r\n  }\r\n\r\n  async function followClicked(user, isAdded) {\r\n    let name, type\r\n\r\n    if (props.page.currentTags[0].includes('_team_result')) {\r\n      name = props.page.currentTags[0].split('_')[0]\r\n      type = 'team'\r\n    }\r\n    else if (props.page.currentTags[0].includes('_competition_result')) {\r\n      name = props.page.currentTags[0].split('_')[0]\r\n      type = 'competition'\r\n    }\r\n    else {\r\n      return\r\n    }\r\n\r\n    let result = await FollowTag(props.page.currentTags, name, type, isAdded)\r\n\r\n    if (result.status == 'success') {\r\n      if (type == 'team') {\r\n        if (isAdded)\r\n          user.editTeams([props.page.currentTags[0], name], 'add')\r\n        else\r\n          user.editTeams([props.page.currentTags[0], name], 'remove')\r\n      } else {\r\n        if (isAdded)\r\n          user.editCompetitions([props.page.currentTags[0], name], 'add')\r\n        else\r\n          user.editCompetitions([props.page.currentTags[0], name], 'remove')\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"main-holder\">\r\n      {\r\n        searchVisibility ?\r\n          <Page.Consumer>\r\n            {page =>\r\n              <SearchPage pageProvider={page} setVisibility={setSearchVisibility}></SearchPage>\r\n            }\r\n          </Page.Consumer> :\r\n          <div id=\"post-container\">\r\n            <SearchBar isMain={true} enable={setSearchVisibility}></SearchBar>\r\n            <User.Consumer>\r\n              {user =>\r\n                props.page.tags.length > 1 &&\r\n                  (props.page.currentTags[0].includes('_team_result') || props.page.currentTags[0].includes('_competition_result')) ?\r\n                  followText(user)\r\n                  : <></>\r\n              }\r\n            </User.Consumer>\r\n            <FilterBar viewType={viewType} setViewType={setViewType} setFilter={setFilter}></FilterBar>\r\n            <CreatePostButton></CreatePostButton>\r\n            <Page.Consumer>\r\n              {page =>\r\n                posts.map(post => (\r\n                  <Post setPosts={setPosts} page={page} viewType={viewType} post={post} key={post._id} id={post._id} votes={post.votes} username={post.username} title={post.title} body={post.body} time={post.time}></Post>\r\n                ))\r\n              }\r\n            </Page.Consumer>\r\n          </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction SearchBar(props) {\r\n\r\n  const [typingTimer, setTypingTimer] = useState(null)\r\n\r\n  function inputChanged(term) {\r\n    if (props.isMain) return\r\n\r\n    if (typingTimer)\r\n      clearInterval(typingTimer)\r\n\r\n    setTypingTimer(setTimeout(async () => {\r\n      if (isEmptyOrSpaces(term)) return props.setResults({ teams: [], posts: [], competitions: [], fixtures: [], users: [] })\r\n\r\n      let result = await QuickSearch(term)\r\n      if (result.status == 'success') {\r\n        props.setResults(result.data)\r\n      }\r\n    }, 1000))\r\n  }\r\n\r\n  return (\r\n    <div className=\"searchbar\" onChange={(e) => { inputChanged(e.target.value) }} onClick={() => { props.enable(true) }}>\r\n      <i className=\"fas fa-search\"></i>\r\n      <input placeholder=\"Search...\"></input>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction SearchPage(props) {\r\n  const [searchResults, setSearchResults] = useState({ teams: [], posts: [], competitions: [], fixtures: [], users: [] })\r\n\r\n  async function TeamSearched(team) {\r\n    props.pageProvider.setTags(['home', 'team', `${team}_team_result`])\r\n    addToBackButtonStack(2, props.pageProvider, 1)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function FixtureSearched(fixture) {\r\n    props.pageProvider.setTags(['home', 'competition', `${fixture.league.name}_competition_result`, `${fixture.league.name}_fixture_details`])\r\n    addToBackButtonStack(3, props.pageProvider, 2, fixture)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function CompetitionSearched(competition) {\r\n    props.pageProvider.setTags(['home', 'competition', `${competition}_competition_result`])\r\n    addToBackButtonStack(2, props.pageProvider, 1)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function UserSearched(user) {\r\n    openUserProfile(true, user.username)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function PostSearched(post) {\r\n    post.totalVotes = post.votes.reduce((prev, curr) => prev.votes + curr.votes, { votes: 0 })\r\n    console.log(post)\r\n    let timeVal = parseInt(post.time)\r\n    let date = new Date(timeVal)\r\n    post.date = date.toLocaleString()\r\n    showPostPage(true, post)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  return (\r\n    <div id=\"search-page\">\r\n      <div className=\"header\">\r\n        <i className=\"exit fas fa-times-circle\" onClick={() => { props.setVisibility(false) }}></i>\r\n        <SearchBar isMain={false} setResults={setSearchResults} enable={() => { }}></SearchBar>\r\n      </div>\r\n      {searchResults.teams.length == 0 ? <></> :\r\n        <div className=\"team-search section\">\r\n          <p className=\"title\">Teams</p>\r\n          <div className=\"divider\"></div>\r\n          {\r\n            [...new Set(searchResults.teams.map(item => item.name))].map(item => <p onClick={() => { TeamSearched(item) }} className=\"result\" key={item}>{item}</p>)\r\n          }\r\n        </div>\r\n      }\r\n      {\r\n        searchResults.fixtures.length == 0 ? <></> :\r\n          <div className=\"fixture-search section\">\r\n            <p className=\"title\">Fixtures</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.fixtures)].map(item => <p onClick={() => { FixtureSearched(item) }} className=\"result\" key={item.fixture_id}>{`${item.homeTeam.team_name} v ${item.awayTeam.team_name}`}</p>)\r\n            }\r\n          </div>\r\n      }\r\n      {\r\n        searchResults.competitions.length == 0 ? <></> :\r\n          <div className=\"competition-search section\">\r\n            <p className=\"title\">Competitions</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.competitions.map(item => item.name))].map(item => <p onClick={() => { CompetitionSearched(item) }} className=\"result\" key={item}>{item}</p>)\r\n            }\r\n          </div>\r\n      }\r\n      {\r\n        searchResults.users.length == 0 ? <></> :\r\n          <div className=\"user-search section\">\r\n            <p className=\"title\">Users</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.users)].map(item => <p onClick={() => { UserSearched(item) }} className=\"result\" key={item.username}>{item.username}</p>)\r\n            }\r\n          </div>\r\n      }\r\n      {\r\n        searchResults.posts.length == 0 ? <></> :\r\n          <div className=\"post-search section\">\r\n            <p className=\"title\">Posts</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.posts)].map(item => <p onClick={() => { PostSearched(item) }} className=\"result\" key={item.title}>{item.title}</p>)\r\n            }\r\n          </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction FilterBar(props) {\r\n\r\n  const [dropdownVisibility, setDropdownVisibility] = useState(false)\r\n  const [buttonDisplayData, setButtonDisplayData] = useState(['NEW', 'fas fa-certificate'])\r\n\r\n  function dropdownSelect(filter, icon) {\r\n    props.setFilter(filter)\r\n    setButtonDisplayData([filter.toUpperCase(), icon])\r\n    setDropdownVisibility(false)\r\n  }\r\n\r\n  return (\r\n    <div id=\"filterbar\">\r\n      <div id=\"filter-selector\" onClick={() => { setDropdownVisibility(state => !state) }}>\r\n        <i className={buttonDisplayData[1]}></i>\r\n        <div className=\"divider\"></div>\r\n        <p>{buttonDisplayData[0]}</p>\r\n        {\r\n          !dropdownVisibility ? <></> : <div className=\"dropdown\" onClick={(e) => { e.stopPropagation() }}>\r\n            <p onClick={() => { dropdownSelect('Top', 'fas fa-chart-line') }}>Top</p>\r\n            <p onClick={() => { dropdownSelect('Hot', 'fas fa-burn') }}>Hot</p>\r\n            <p onClick={() => { dropdownSelect('Trending', 'fab fa-red-river') }}>Trending</p>\r\n            <p onClick={() => { dropdownSelect('New', 'fas fa-certificate') }}>New</p>\r\n            <p onClick={() => { dropdownSelect('Controvertial', 'fas fa-skull-crossbones') }}>Controvertial</p>\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n      <div id=\"view-selector\">\r\n        <p>VIEW</p>\r\n        <div className=\"divider\"></div>\r\n        <i onClick={() => {props.setViewType(0)}} className=\"fas fa-th-list\"></i>\r\n        <i onClick={() => {props.setViewType(1)}} className=\"fas fa-stream\"></i>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction CreatePostButton() {\r\n\r\n  if (!isAuthenticated())\r\n    return null\r\n\r\n  return (\r\n    <div id=\"create-post-btn\" onClick={() => { setCreatePostModalVisibility(true) }}>\r\n      <div className=\"row\">\r\n        <i className=\"icon fas fa-envelope\"></i>\r\n        <p>CREATE POST</p>\r\n      </div>\r\n      <div className=\"shadow\">\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostContainer","import React, { useState, useEffect } from 'react'\nimport LeftMenu from './components/LeftMenu'\nimport PostContainer from './components/MainPage'\nimport RightMenu from './components/RightMenu'\nimport ContentPage from './components/ContentPage'\nimport { AcceptModal, LoginModal, RegisterModal, CreatePostModal, FeedbackModal } from './components/Modal'\nimport { NotificationBar } from './components/NoticationBar'\nimport { User, Page } from './Config'\nimport { isAuthenticated } from './Utils'\nimport { GetSelfInfo } from './Communicator'\nimport { LoadScreen } from './components/LoadDialog'\nimport {Profile} from './components/Profile'\nimport {PostPage} from './components/PostPage'\nimport './style.css'\n\nfunction App(props) {\n\n  const [menu, setMenu] = useState(0)\n\n  useEffect(() => {\n\n    async function getUser() {\n      if (isAuthenticated()) {\n        let result = await GetSelfInfo()\n        props.user.editUser({\n          username: result.data.username,\n          followingSports: result.data.followedSports,\n          followingCompetitions: result.data.followedCompetitions,\n          followingTeams: result.data.followedTeams\n        })\n      }\n    }\n\n    getUser()\n  }, [])\n\n  return (\n    <>\n      <User.Consumer>\n        {user =>\n          <>\n            <NavBar changeMenu={setMenu} menu={menu}></NavBar>\n            <Profile></Profile>\n            <PostPage></PostPage>\n            <LoadScreen></LoadScreen>\n            <AcceptModal></AcceptModal>\n            <LoginModal></LoginModal>\n            <CreatePostModal></CreatePostModal>\n            <FeedbackModal></FeedbackModal>\n            <Page.Consumer>\n              {page =>\n                <PostContainer page={page} user={user}></PostContainer>\n              }\n            </Page.Consumer>\n            <NotificationBar></NotificationBar>\n            <LeftMenu activated={menu === 1 ? true : false}></LeftMenu>\n            <RightMenu activated={menu === 2 ? true : false}></RightMenu>\n          </>\n        }\n      </User.Consumer>\n    </>\n  )\n}\n\nfunction NavBar(props) {\n\n  const onMenuClick = (val) => {\n\n    if (props.menu === val) {\n      props.changeMenu(0)\n      return\n    }\n\n    props.changeMenu(val)\n  }\n\n  return (\n    <div id=\"navbar\">\n      <i className=\"fas fa-bars\" onClick={() => { onMenuClick(1) }}></i>\n      <img alt=\"logo\" src=\"./media/logo.png\" />\n      <i className=\"fas fa-bars\" onClick={() => { onMenuClick(2) }}></i>\n    </div>)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport App from './App';\nimport UserProvider, { User, PageProvider } from './Config'\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n      <PageProvider>\n        <User.Consumer>{\n          user => <App user={user} />\n        }\n        </User.Consumer>\n      </PageProvider>\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}