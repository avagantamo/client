{"version":3,"sources":["media/content-background.jpg","Utils.js","Communicator.js","components/NoticationBar.js","components/LoadDialog.js","Config.js","components/Modal.js","components/Dropdown.js","components/RegisterPage.js","components/Profile.js","components/ContentPage.js","components/RightMenu.js","components/LeftMenu.js","App.js","components/PostPage.js","components/Post.js","components/MainPage.js","index.js"],"names":["module","exports","isAuthenticated","document","cookie","EmbedLink","link","viewType","includes","className","src","alt","url","getToken","split","logOut","multiple","i","length","key","removeCookies","window","location","reload","isEmptyOrSpaces","str","match","endPoint","Login","username","password","a","axios","post","toLowerCase","res","data","GetSelfInfo","token","GetUserInfo","Register","following","SubmitPost","title","body","tags","isEmbed","time","DeletePost","id","postId","GetPosts","filter","GetPostsByUser","DoVote","voteType","tag","GetTeams","get","GetLeagues","GetFixturesInLeague","leagueId","GetFixturesInLeagueByName","name","leagueName","GetFixtureDetails","fixtureId","GetTeamMatches","team","FollowUser","user","FollowTag","type","isAdded","MakeComment","description","isChild","GetPostComments","QuickSearch","term","PageSearch","message","changeNotificationVisibility","NotificationBar","useState","visible","setVisibility","showNotification","mssg","callback","setTimeout","changeVisibility","User","createContext","Page","PageProvider","props","setPage","setState","state","item","push","currentTags","popPage","pop","setTags","searchTerm","Provider","value","this","children","Component","UserProvider","editUser","details","followingSports","undefined","followingSport","followingTeams","followingCompetitions","followers","editTeams","shouldAdd","splice","editCompetitions","competition","addFollowing","set","Set","Array","from","removeFollowing","delete","changeModalVisibility","changeLoginModalVisibility","changeCreatePostModalVisibility","changeFeedbackModalVisibility","AcceptModal","setVisible","onClick","visibility","setAcceptModalVisibility","e","stopPropagation","LoginModal","setUsername","setPassword","setLoginModalVisibility","onChange","event","target","Consumer","status","now","Date","getTime","setTime","toUTCString","followedSports","followedCompetitions","followedTeams","FeedbackModal","setText","CreatePostModal","setTitle","setBody","setLink","selectedTab","placeholder","page","submitPost","checkLink","setCreatePostModalVisibility","URL","_","validURL","Dropdown","contentClass","setContentClass","dropdown","useRef","documentClick","current","contains","useEffect","addEventListener","removeEventListener","style","zIndex","ref","choices","map","choice","action","LoadScreen","setLoadScreen","isOn","selectedItems","sports","competitions","teams","confirmPass","RegisterPage","leagues","setLeagues","setTeams","league","itemsToArray","result","InitialPage","enabled","items","clicked","captchaPassed","setCaptchaPassed","sitekey","click","TileHolder","Tile","setStyle","add","currentUser","ProfileDesktop","userInfo","setUserInfo","postsPromise","userPromise","Promise","allSettled","then","results","posts","console","log","totalVotes","dateJoined","SocialLink","logo","updatedInfo","currentMatch","MatchAttribute","team1","value1","team2","value2","ShowContentPage","_currentMatch","ContentPage","updateFixtures","updateTab","changeContentPage","fixtureDetails","setFixtureDetails","fixture_id","isActivated","GetDetails","date","parse","event_date","background","toLocaleDateString","homeTeam","team_name","goalsHomeTeam","goalsAwayTeam","awayTeam","venue","score","halftime","home","away","profileUsername","backButtonListenerStack","addToBackButtonStack","count","level","fixture","lastTab","showUserProfile","RightMenuContent","setContentPageVisibility","selectFixtureTab","fixtureTabClicked","tab","setTab","fixtureTab","isContentPageVisible","fixtures","Tabs","setContent","NavigationBody","tabClick","currentPage","teamFixtures","setTeamFixtures","competitionFixtureResolver","statusArray","icon","filtered","statusShort","InfoTile","teamFixtureResolver","lastTag","secondLastTab","countryCode","_id","teamId","selectedCompetition","RightMenu","setFixtures","tabNumber","previousTab","res_team","res_league","getData","display","activated","CredentialBar","nameClass","MenuColumn","MenuButton","onPress","iconClass","FollowingContainer","FollowingButton","LeftMenu","setDiv","currentPost","PostPage","input","setInput","CommentInput","typedComment","textInput","tree","commentArray","commentDictionary","transformToObject","parentId","isLeaf","search","childrenIds","childrenTree","rowStack","firstRow","childId","row","newChildRow","child","branch","unshift","renderTree","setDivision","embedUrl","root","Comment","replySelected","setReplySelected","reply","setReply","showPostPage","Object","values","Post","timeVal","parseInt","votes","setVotes","menuOpen","setMenuOpen","setPosts","p","newPost","toLocaleString","deletePost","resp","PostContainer","setFilter","setViewType","followClicked","tagsToGet","fetchData","CreatePostBar","execute","array","isUsed","followText","FilterBar","CreatePostButton","SearchBar","typingTimer","setTypingTimer","setActivation","users","searchResults","setSearchResults","setTerm","clearInterval","inputChanged","SearchPage","pageProvider","searchPage","reduce","prev","curr","SetDivision","isEmpty","SearchInPage","TeamSearched","FixtureSearched","CompetitionSearched","UserSearched","PostSearched","dropdownVisibility","setDropdownVisibility","buttonDisplayData","setButtonDisplayData","dropdownSelect","toUpperCase","Division","division","NavBar","onMenuClick","val","menu","changeMenu","App","setMenu","getUser","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.470e611d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/content-background.e23b19e7.jpg\";","import React, { useRef, useEffect, useState } from 'react'\r\nimport Embed from 'react-embed'\r\n\r\nexport function isAuthenticated() {\r\n  let cookie = document.cookie\r\n\r\n  if (cookie === \"\")\r\n    return false\r\n  else\r\n    return true\r\n}\r\n\r\nexport function EmbedLink(link, viewType) {\r\n  if (link.includes('fbcdn') || link.includes('twimg')) {\r\n    return <img className=\"image\" src={link} alt={link} ></img>\r\n  }\r\n  else if (link.includes('youtube')) {\r\n    return viewType == 0 ? <Embed url={link}></Embed> : <p className='video-placeholder'>VIDEO</p>\r\n  }\r\n}\r\n\r\nexport function getUser() {\r\n  alert('not implemented')\r\n}\r\n\r\nexport function getToken() {\r\n  let cookie = document.cookie\r\n\r\n  if (cookie === \"\")\r\n    return null\r\n\r\n  return cookie.split('=')[1]\r\n}\r\n\r\nexport function logOut() {\r\n  removeCookies()\r\n  window.location.reload()\r\n}\r\n\r\nfunction removeCookies() {\r\n  var res = document.cookie;\r\n  var multiple = res.split(\";\");\r\n  for (var i = 0; i < multiple.length; i++) {\r\n    var key = multiple[i].split(\"=\");\r\n    document.cookie = key[0] + \" =; expires = Thu, 01 Jan 1970 00:00:00 UTC\";\r\n  }\r\n}\r\n\r\nexport function isEmptyOrSpaces(str){\r\n  return str === null || str.match(/^ *$/) !== null;\r\n}\r\n\r\nexport function validURL(str) {\r\n  try{\r\n    new URL(str)\r\n  }catch(_){\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\nexport function useTraceUpdate(props) {\r\n  const prev = useRef(props);\r\n  useEffect(() => {\r\n    const changedProps = Object.entries(props).reduce((ps, [k, v]) => {\r\n      if (prev.current[k] !== v) {\r\n        ps[k] = [prev.current[k], v];\r\n      }\r\n      return ps;\r\n    }, {});\r\n    if (Object.keys(changedProps).length > 0) {\r\n      console.log('Changed props:', changedProps);\r\n    }\r\n    prev.current = props;\r\n  });\r\n}","import axios from 'axios'\r\nimport { getToken } from './Utils'\r\n\r\n//http://192.168.1.135:80\r\n//https://sportsment.herokuapp.com/\r\nlet endPoint = 'https://sportsment.herokuapp.com/'\r\n\r\nexport async function Login(username, password) {\r\n    let res = await axios.post(`${endPoint}/auth/login`, { username: username.toLowerCase(), password: password })\r\n    return res.data\r\n}\r\n\r\nexport async function GetSelfInfo() {\r\n    let res = await axios.post(`${endPoint}/auth/selfinfo`, { token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetUserInfo(username) {\r\n    let res = await axios.post(`${endPoint}/auth/getuserinfo`, { username: username, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function Register(username, password, following) {\r\n    let res = await axios.post(`${endPoint}/auth/register`, { username: username.toLowerCase(), password: password, following: following })\r\n    return res.data\r\n}\r\n\r\nexport async function SubmitPost(title, body, tags, isEmbed, link, time) {\r\n    let res = await axios.post(`${endPoint}/posts/create`, { title: title, body: body, tags: tags, isEmbed: isEmbed, link: link, time: time, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function DeletePost(id){\r\n    let res = await axios.post(`${endPoint}/posts/delete`, { postId: id, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetPosts(tags, filter) {\r\n    let res = await axios.post(`${endPoint}/posts/getposts`, { tags: tags, filter: filter })\r\n    return res.data\r\n}\r\n\r\nexport async function GetPostsByUser(username) {\r\n    let res = await axios.post(`${endPoint}/posts/getpostsbyuser`, { username: username, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function DoVote(voteType, tag, postId) {\r\n    let res = await axios.post(`${endPoint}/posts/vote`, { token: getToken(), voteType: voteType, tag: tag, postId: postId })\r\n    return res.data\r\n}\r\n\r\nexport async function GetTeams() {\r\n    let res = await axios.get(`${endPoint}/teams/getteams`)\r\n    return res.data\r\n}\r\n\r\nexport async function GetLeagues() {\r\n    let res = await axios.get(`${endPoint}/leagues/getleagues`)\r\n    return res.data\r\n}\r\n\r\nexport async function GetFixturesInLeague(leagueId) {\r\n    let res = await axios.post(`${endPoint}/fixtures/getfixtures`, { leagueId: leagueId, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetFixturesInLeagueByName(name){\r\n    let res = await axios.post(`${endPoint}/fixtures/getfixturesfromname`, { leagueName: name, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetFixtureDetails(fixtureId) {\r\n    let res = await axios.post(`${endPoint}/fixtures/getfixturedetails`, { fixtureId: fixtureId, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetTeamMatches(team) {\r\n    let res = await axios.post(`${endPoint}/teams/getteammatches`, { team: team, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function FollowUser(user) {\r\n    let res = await axios.post(`${endPoint}/auth/followuser`, { username: user, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function FollowTag(tag, name, type, isAdded) {\r\n    let res = await axios.post(`${endPoint}/auth/followtag`, { tag: tag, name: name, type: type, isAdded: isAdded, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function MakeComment(description, isChild, id) {\r\n    let res = await axios.post(`${endPoint}/comments/comment`, { description: description, isChild: isChild, id: id, token: getToken() })\r\n    return res.data\r\n}\r\n\r\nexport async function GetPostComments(postId) {\r\n    let res = await axios.post(`${endPoint}/comments/getpostcomments`, { id: postId })\r\n    return res.data\r\n}\r\n\r\nexport async function QuickSearch(term){\r\n    let res = await axios.post(`${endPoint}/search/quicksearch`, { term: term })\r\n    return res.data\r\n}\r\n\r\nexport async function PageSearch(term, tag){\r\n    let res = await axios.post(`${endPoint}/search/searchbypage`, { term: term, tag: tag })\r\n    return res.data\r\n}","import React, {useState} from 'react'\r\n\r\nlet message = ''\r\nlet changeNotificationVisibility  = null\r\n\r\nexport function NotificationBar(){\r\n\r\n    const [visible, setVisibility] = useState(false)\r\n    changeNotificationVisibility = setVisibility\r\n\r\n    if(!visible)\r\n        return null\r\n\r\n    return(\r\n        <div id=\"notification-bar\">\r\n            <p className=\"description\">{message}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function showNotification(mssg, callback){\r\n    message = mssg\r\n    if(changeNotificationVisibility == null)\r\n        return\r\n\r\n    changeNotificationVisibility(true)\r\n    callback && callback()\r\n\r\n    setTimeout(() => {\r\n        message = \"\"\r\n        changeNotificationVisibility(false)        \r\n    }, 4000)\r\n}","import React, {useState} from 'react'\r\n\r\nlet changeVisibility\r\n\r\nexport function LoadScreen(){\r\n\r\n    const [visibility, setVisibility] = useState(false)\r\n    changeVisibility = setVisibility\r\n\r\n    if(!visibility)\r\n        return null\r\n\r\n    return(\r\n        <div id=\"load-screen\">\r\n            <p>Loading...</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function setLoadScreen(isOn){\r\n    changeVisibility(isOn)\r\n}","/* eslint-disable eqeqeq */\r\nimport React, { createContext, Component, } from 'react'\r\n\r\nexport const User = createContext(null)\r\nexport const Page = createContext(null)\r\n\r\nexport class PageProvider extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.setPage = (tag) => {\r\n            this.setState(state => {\r\n\r\n                for (let item of tag) {\r\n                    if (!state.tags.includes(item)) {\r\n                        state.tags.push(item)\r\n                    }\r\n                }\r\n\r\n                state.currentTags = tag\r\n                return state\r\n            })\r\n        }\r\n\r\n        this.popPage = (tag) => {\r\n            this.setState(state => {\r\n                if (state.tags.includes(tag)) {\r\n                    if (state.tags.length == 1)\r\n                        return state\r\n\r\n                    state.tags.pop()\r\n                    state.currentTags = [state.tags[state.tags.length - 1]]\r\n\r\n                    return state\r\n                }\r\n                return state\r\n            })\r\n        }\r\n\r\n        this.setTags = (tags) => { //Only use for search as menu refresh relies on this\r\n            this.setState(state => {\r\n                state.tags = tags\r\n                state.currentTags = [tags[tags.length - 1]]\r\n                state.searchTerm = [tags[tags.length - 1]]\r\n                return state\r\n            })\r\n        }\r\n\r\n        this.state = {\r\n            searchTerm: null,\r\n            tags: ['home'],\r\n            currentTags: ['home'],\r\n            setPage: this.setPage,\r\n            popPage: this.popPage,\r\n            setTags: this.setTags\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Page.Provider value={this.state}>\r\n                {this.props.children}\r\n            </Page.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nclass UserProvider extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.editUser = (details) => {\r\n            this.setState(state => {\r\n                state.username = details.username\r\n                state.followingSports = details.followingSports == undefined ? [] : details.followingSport\r\n                state.followingTeams = details.followingTeams == undefined ? [] : details.followingTeams\r\n                state.followingCompetitions = details.followingCompetitions == undefined ? [] : details.followingCompetitions\r\n                state.followers = details.followers == undefined ? [] : details.followers\r\n                state.following = details.following == undefined ? [] : details.following\r\n                return details\r\n            })\r\n        }\r\n\r\n        this.editTeams = (team, shouldAdd) => {\r\n            this.setState(state => {\r\n                if (shouldAdd) {\r\n                    for (let item of state.followingTeams) {\r\n                        if (item[0] == team[0])\r\n                            return\r\n                    }\r\n\r\n                    state.followingTeams.push(team)\r\n                } else {\r\n                    for (let i = 0; i < state.followingTeams.length; i++) {\r\n                        if (state.followingTeams[i][0] == team[0])\r\n                            state.followingTeams.splice(i, 1)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        this.editCompetitions = (competition, shouldAdd) => {\r\n            this.setState(state => {\r\n                if (shouldAdd) {\r\n                    for (let item of state.followingCompetitions) {\r\n                        if (item[0] == competition[0])\r\n                            return\r\n                    }\r\n\r\n                    state.followingCompetitions.push(competition)\r\n                } else {\r\n                    for (let i = 0; i < state.followingCompetitions.length; i++) {\r\n                        if (state.followingCompetitions[i][0] == competition[0])\r\n                            state.followingCompetitions.splice(i, 1)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        this.addFollowing = (following) => {\r\n            this.setState(state => {\r\n                let set = new Set([...state.following, following])\r\n                state.following = Array.from(set)\r\n                return state\r\n            })\r\n        }\r\n\r\n        this.removeFollowing = (following) => {\r\n            this.setState(\r\n                state => {\r\n                    let set = new Set(state.following)\r\n                    set.delete(following)\r\n                    state.following = Array.from(set)\r\n                }\r\n            )\r\n        }\r\n\r\n        this.state = {\r\n            editCompetitions: this.editCompetitions,\r\n            editTeams: this.editTeams,\r\n            editUser: this.editUser,\r\n            addFollowing: this.addFollowing,\r\n            removeFollowing: this.removeFollowing,\r\n            followingSports: [],\r\n            followingCompetitions: [],\r\n            followingTeams: [],\r\n            following: [],\r\n            followers: [],\r\n            username: null,\r\n            token: null\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <User.Provider value={this.state}>\r\n                {this.props.children}\r\n            </User.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserProvider","import React, { useState } from 'react'\r\nimport { Login, Register, SubmitPost } from '../Communicator'\r\nimport { showNotification } from './NoticationBar'\r\nimport { User, Page } from '../Config'\r\nimport { isEmptyOrSpaces, validURL } from '../Utils'\r\n\r\nlet changeModalVisibility = null\r\nlet changeLoginModalVisibility = null\r\nlet changeRegisterModalVisibility = null\r\nlet changeCreatePostModalVisibility = null\r\nlet changeFeedbackModalVisibility = null\r\n\r\nexport function AcceptModal() {\r\n    const [visible, setVisible] = useState(false)\r\n    changeModalVisibility = setVisible\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div id=\"modal\" onClick={() => { setAcceptModalVisibility(false) }}>\r\n            <div id=\"dialog\" onClick={(e) => { e.stopPropagation() }}>\r\n                <p className=\"title\">Are you sure?</p>\r\n                <p className=\"description\">The action you are about to take can have some serious consequences</p>\r\n                <div className=\"space\"></div>\r\n                <div className=\"modal-row\">\r\n                    <div className=\"btn\" onClick={() => { }}>OK</div>\r\n                    <div className=\"btn\" onClick={() => { }}>CANCEL</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function LoginModal() {\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [user, setUser] = useState(null)\r\n    const [visible, setVisibility] = useState(false)\r\n    changeLoginModalVisibility = setVisibility\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div onClick={() => { setLoginModalVisibility(false) }} id=\"modal\">\r\n            <div className=\"login\" id=\"dialog\" onClick={(e) => { e.stopPropagation() }}>\r\n                <p className=\"title\">LOG-IN</p>\r\n                <p>Username:</p>\r\n                <input className=\"username\" onChange={(event) => { setUsername(event.target.value) }} type=\"text\"></input>\r\n                <p>Password:</p>\r\n                <input className=\"password\" onChange={(event) => { setPassword(event.target.value) }} type=\"password\"></input>\r\n                <div className=\"space\"></div>\r\n                <User.Consumer>{\r\n                    user => <div className=\"btn default\" onClick={async () => {\r\n\r\n                        let data = await Login(username, password)\r\n\r\n                        if (data.status === \"success\") {\r\n                            setLoginModalVisibility(false)\r\n                            let now = new Date()\r\n                            let time = now.getTime()\r\n                            time += 3600000\r\n                            now.setTime(time)\r\n                            document.cookie = `token=${data.data.token}; expires=${now.toUTCString()};`\r\n                            user.editUser({\r\n                                username: username,\r\n                                token: data.data.token,\r\n                                followingSports: data.data.followedSports,\r\n                                followingCompetitions: data.data.followedCompetitions,\r\n                                followingTeams: data.data.followedTeams,\r\n                                followers: data.data.followers,\r\n                                following: data.data.following\r\n                            })\r\n                        }\r\n\r\n\r\n                        showNotification(data.message)\r\n                    }}>\r\n                        LOGIN\r\n                </div>\r\n                }</User.Consumer>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function FeedbackModal() {\r\n    const [text, setText] = useState('')\r\n    const [visible, setVisibility] = useState(false)\r\n\r\n    changeFeedbackModalVisibility = setVisibility\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div onClick={() => { }} id=\"modal\">\r\n            <div className=\"login\" id=\"dialog\" onClick={(e) => { e.stopPropagation(); setVisibility(false) }}>\r\n                <p className=\"title\">FEEDBACK</p>\r\n                <p>Message:</p>\r\n                <input className=\"username\" onChange={(event) => { setText(event.target.value) }} type=\"text\"></input>\r\n                <div className=\"space\"></div>\r\n                <div className=\"btn default\" onClick={async () => {\r\n                    //Send message\r\n                    showNotification('Message sent')\r\n                }}>\r\n                    SEND\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function RegisterModal() { //USE REGISTER PAGE INSTEAD\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [visible, setVisibility] = useState(false)\r\n    changeRegisterModalVisibility = setVisibility\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div onClick={() => { setRegisterModalVisibility(false) }} id=\"modal\">\r\n            <div className=\"login\" id=\"dialog\" onClick={(e) => { e.stopPropagation() }}>\r\n                <p className=\"title\">REGISTER</p>\r\n                <p>Username:</p>\r\n                <input className=\"username\" onChange={(event) => { setUsername(event.target.value) }} type=\"text\"></input>\r\n                <p>Password:</p>\r\n                <input className=\"password\" onChange={(event) => { setPassword(event.target.value) }} type=\"password\"></input>\r\n                <div className=\"space\"></div>\r\n                <div className=\"btn default\" onClick={async () => {\r\n                    let data = await Register(username, password)\r\n\r\n                    if (data.status === \"success\") {\r\n                        setRegisterModalVisibility(false)\r\n                    }\r\n\r\n                    showNotification(data.message)\r\n                }}>Register</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function CreatePostModal() { //Hide main page when shown, or?\r\n\r\n    const [visible, setVisibility] = useState(false)\r\n    const [title, setTitle] = useState('')\r\n    const [body, setBody] = useState('') //SET VALIDATION\r\n    const [link, setLink] = useState('') //SET VALIDATION\r\n    const [selectedTab, changeSelectedTab] = useState(2)\r\n\r\n    changeCreatePostModalVisibility = setVisibility\r\n\r\n    if (!visible)\r\n        return null\r\n\r\n    return (\r\n        <div id=\"create-post-dialog\">\r\n            <div className=\"create-post-container\">\r\n                <h2 className=\"title\">CREATE A POST</h2>\r\n                <div className=\"divider\"></div>\r\n                <div className=\"content-holder\">\r\n                    <div className=\"type-selector\">\r\n                        {/* <div className={`type ${selectedTab == 1 ? 'selected' : ''}`} onClick={() => { changeSelectedTab(1) }}>Text</div> */}\r\n                        {/* <div className={`type ${selectedTab == 2 ? 'selected' : ''}`} onClick={() => { changeSelectedTab(2) }}>Embed</div> */}\r\n                    </div>\r\n                    <p className=\"disclaimer\">\r\n                        Please enter a valid media URL from Facebook, Instagram, Youtube or any of the supported websites.\r\n                </p>\r\n                    <input placeholder=\"Enter title...\" onChange={(e) => { setTitle(e.target.value) }}></input>\r\n                    {\r\n                        selectedTab == 1 ? <textarea placeholder=\"Enter description...\" onChange={(e) => { setBody(e.target.value) }}></textarea> :\r\n                            <input className=\"link\" placeholder=\"Enter link...\" onChange={(e) => { setLink(e.target.value) }}></input>\r\n                    }\r\n                    <div className=\"row\">\r\n                        <Page.Consumer>\r\n                            {page =>\r\n                                <div className=\"button fixed\" onClick={() => { submitPost(title, body, page.tags, selectedTab == 2 ? true : false, link) }}>\r\n                                    <div className=\"items\">\r\n                                        <p className=\"text\">POST</p>\r\n                                    </div>\r\n                                    <div className=\"shadow\"></div>\r\n                                </div>\r\n                            }\r\n                        </Page.Consumer>\r\n                        <div className=\"button fixed\" onClick={() => { setVisibility(false) }}>\r\n                            <div className=\"items\">\r\n                                <p className=\"text\">CANCEL</p>\r\n                            </div>\r\n                            <div className=\"shadow\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nasync function submitPost(title, body, tags, isEmbed, link) {\r\n\r\n    if (!checkLink(link)) {\r\n        showNotification('Enter a valid address')\r\n        return\r\n    }\r\n\r\n    let data = await SubmitPost(title, body, tags, isEmbed, link, Date.now())\r\n\r\n    if (data.status === \"success\")\r\n        showNotification('Posted successfully')\r\n\r\n    setCreatePostModalVisibility(false)\r\n}\r\n\r\nfunction checkLink(link) {\r\n    if (isEmptyOrSpaces(link))\r\n        return false\r\n\r\n    if (!link.includes('facebook') && !link.includes('instagram') && !link.includes('twitter') && !link.includes('youtube'))\r\n        return false\r\n\r\n    if (!validURL(link))\r\n        return false\r\n\r\n    return true\r\n}\r\n\r\n//optimize\r\nexport function setAcceptModalVisibility(visibility) {\r\n    if (changeModalVisibility == null) {\r\n        return\r\n    }\r\n    changeModalVisibility(visibility)\r\n}\r\n\r\nexport function setLoginModalVisibility(visibility) {\r\n    if (changeLoginModalVisibility == null)\r\n        return\r\n\r\n    changeLoginModalVisibility(visibility)\r\n}\r\n\r\nexport function setRegisterModalVisibility(visibility) {\r\n    if (changeRegisterModalVisibility == null)\r\n        return\r\n\r\n    changeRegisterModalVisibility(visibility)\r\n}\r\n\r\nexport function setFeedbackModalVisibility(visibility) {\r\n    if (changeFeedbackModalVisibility == null)\r\n        return\r\n\r\n    changeFeedbackModalVisibility(visibility)\r\n}\r\n\r\nexport function setCreatePostModalVisibility(visibility) {\r\n    if (changeCreatePostModalVisibility == null)\r\n        return\r\n\r\n    changeCreatePostModalVisibility(visibility)\r\n}","import React, { useState, useRef, useEffect } from 'react'\r\n\r\nexport function Dropdown(props) {\r\n    const [contentClass, setContentClass] = useState('content')\r\n    const dropdown = useRef(null)\r\n\r\n    function documentClick(e){\r\n        if (dropdown.current && !dropdown.current.contains(e.target)) {\r\n            setContentClass('content')\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', documentClick)\r\n        return () => {\r\n            document.removeEventListener('mousedown', documentClick)\r\n        }\r\n    }, [contentClass])\r\n\r\n    return (\r\n        <div className=\"dropdown\" style={props.zIndex != null ? {zIndex: props.zIndex} : {}} ref={dropdown}>\r\n            <div className=\"button\">\r\n                <div className=\"items\" onClick={() => { contentClass == 'content' ? setContentClass('content open') : setContentClass('content') }}>\r\n                    <p className=\"text\">{props.title}</p>\r\n                    <i className=\"trailing fas fa-caret-down\"></i>\r\n                </div>\r\n                <div className=\"shadow\"></div>\r\n                <div className={contentClass}>\r\n                    {\r\n                        props.choices.map(choice => <p onClick={choice.action} key={choice.name}>{choice.name}</p>)\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { GetLeagues, GetTeams, Register } from '../Communicator'\r\nimport { setLoadScreen } from './LoadDialog'\r\nimport { showNotification } from './NoticationBar'\r\nimport Recaptcha from 'react-google-recaptcha'\r\n\r\nlet selectedItems = {\r\n    sports: new Set(),\r\n    competitions: new Set(),\r\n    teams: new Set()\r\n}\r\n\r\nlet username = ''\r\nlet password = ''\r\nlet confirmPass = ''\r\n\r\nlet changeVisibility = null\r\n\r\nexport function RegisterPage() {\r\n\r\n    const [visible, setVisibility] = useState(false)\r\n    const [page, setPage] = useState(0)\r\n    const [leagues, setLeagues] = useState([])\r\n    const [teams, setTeams] = useState([])\r\n\r\n    changeVisibility = setVisibility\r\n\r\n    if (!visible) {\r\n        selectedItems = {\r\n            sports: new Set(),\r\n            competitions: new Set(),\r\n            teams: new Set()\r\n        }\r\n\r\n        username = ''\r\n        password = ''\r\n        confirmPass = ''\r\n\r\n        return null\r\n    }\r\n\r\n    async function sportsPageOnClick() {\r\n        setLoadScreen(true)\r\n        let leagues = await GetLeagues()\r\n        setLeagues(leagues.data.leagues.map(league => league.name))\r\n        setLoadScreen(false)\r\n\r\n        setPage(2)\r\n    }\r\n\r\n    async function competitionPageOnClick() {\r\n        setLoadScreen(true)\r\n        let teams = await GetTeams()\r\n        let set = new Set(teams.data.teams.map(team => team.name))\r\n        setTeams(Array.from(set))\r\n        setLoadScreen(false)\r\n\r\n        setPage(3)\r\n    }\r\n\r\n    async function teamPageOnClick() {\r\n        let sports = Array.from(selectedItems.sports)\r\n        let competitions = Array.from(selectedItems.competitions)\r\n        let teams = Array.from(selectedItems.teams)\r\n\r\n        teams = teams.map(item => [`${item}_team_result`, item])\r\n        competitions = competitions.map(item => [`${item}_competition_result`, item])\r\n\r\n        let itemsToArray = {\r\n            sports: sports,\r\n            competitions: competitions,\r\n            teams: teams\r\n        }\r\n\r\n        let result = await Register(username, password, itemsToArray)\r\n\r\n        if (result.status == \"success\") {\r\n            showNotification('Account created')\r\n            setVisibility(false)\r\n        } else {\r\n            showNotification(result.message)\r\n            setVisibility(false)\r\n        }\r\n\r\n        setPage(0)\r\n    }\r\n\r\n    return (\r\n        <div id=\"register-page\">\r\n            <div className=\"header\">\r\n                <i className=\"exit fas fa-times-circle\" onClick={() => { setVisibility(false); setPage(0) }}></i>\r\n                <p>REGISTER</p>\r\n            </div>\r\n            <div className=\"body\">\r\n                <InitialPage setPage={setPage} enabled={page == 0 ? true : false}></InitialPage>\r\n                <Page items={['Soccer']} clicked={sportsPageOnClick} setPage={setPage} type={'sports'} enabled={page == 1 ? true : false}></Page>\r\n                <Page items={leagues} clicked={competitionPageOnClick} setPage={setPage} type={'competitions'} enabled={page == 2 ? true : false}></Page>\r\n                <Page items={teams} clicked={teamPageOnClick} setPage={setPage} type={'teams'} enabled={page == 3 ? true : false}></Page>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction InitialPage(props) {\r\n\r\n    const [captchaPassed, setCaptchaPassed] = useState(false)\r\n\r\n    if (!props.enabled)\r\n        return null\r\n\r\n    async function click() {\r\n        if (isEmptyOrSpaces(username)) {\r\n            showNotification('Please enter username')\r\n            return\r\n        }\r\n\r\n        if (isEmptyOrSpaces(password) || isEmptyOrSpaces(confirmPass)) {\r\n            showNotification('Please enter password')\r\n            return\r\n        }\r\n\r\n        if (password != confirmPass) {\r\n            showNotification('Passwords do not match')\r\n            return\r\n        }\r\n\r\n        if (password.length < 3) {\r\n            showNotification('Password length must be more than 3 letters')\r\n            return\r\n        }\r\n\r\n        props.setPage(1)\r\n    }\r\n\r\n    return (\r\n        <div id=\"register-initial\">\r\n            <p className=\"\">Username:</p>\r\n            <input onChange={(e) => { username = e.target.value }}></input>\r\n            <p className=\"\">Password:</p>\r\n            <input onChange={(e) => { password = e.target.value }} type=\"password\"></input>\r\n            <p className=\"\">Retype password:</p>\r\n            <input onChange={(e) => { confirmPass = e.target.value }} type=\"password\"></input>\r\n            <div className=\"space\"></div>\r\n            <Recaptcha sitekey=\"6LdpI8QZAAAAAP0RaC5gvSJTzpL-35bSqSQZVMGk\" onChange={() => {setCaptchaPassed(true)}}>\r\n\r\n            </Recaptcha>\r\n            {\r\n                !captchaPassed ? <></> : <div className=\"button gap\" onClick={() => { click() }}>\r\n                    <div className=\"items\">\r\n                        <div className=\"leading\">\r\n                            <p className=\"text\">NEXT</p>\r\n                        </div>\r\n                        <i className=\"trailing fas fa-arrow-right\"></i>\r\n                    </div>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Page(props) {\r\n\r\n    if (!props.enabled)\r\n        return null\r\n\r\n    return (\r\n        <div id=\"register-sports\">\r\n            <p>Select your favorite {props.type}:</p>\r\n            <div className=\"panel\">\r\n                <div className=\"items\">\r\n                    <TileHolder type={props.type} items={props.items}></TileHolder>\r\n                </div>\r\n            </div>\r\n            <div className=\"button gap\" onClick={() => { props.clicked() }}>\r\n                <div className=\"items\">\r\n                    <div className=\"leading\">\r\n                        <p className=\"text\">NEXT</p>\r\n                    </div>\r\n                    <i className=\"trailing fas fa-arrow-right\"></i>\r\n                </div>\r\n                <div className=\"shadow\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction TileHolder(props) {\r\n    return (\r\n        props.items.map(item => <Tile type={props.type} key={item} title={item}></Tile>)\r\n    )\r\n}\r\n\r\nfunction Tile(props) {\r\n\r\n    const [style, setStyle] = useState('')\r\n\r\n    function onClick() {\r\n        style == '' ? setStyle('invert') : setStyle('')\r\n        style == '' ? selectedItems[props.type].add(props.title) : selectedItems[props.type].delete(props.title)\r\n    }\r\n\r\n    return (\r\n        <div className={`tile ${style}`} onClick={() => { onClick() }}>\r\n            <div className={`dot ${style}`}></div>\r\n            {/* <div className=\"divider\"></div> */}\r\n            <p className=\"name\">{props.title}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function enablePage() {\r\n    changeVisibility(true)\r\n}\r\n\r\nfunction isEmptyOrSpaces(str) {\r\n    return str === null || str.match(/^ *$/) !== null;\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { setLoadScreen } from './LoadDialog'\r\nimport { GetPostsByUser, GetUserInfo, FollowUser } from '../Communicator'\r\nimport { User } from '../Config'\r\nimport { showNotification } from './NoticationBar'\r\n\r\nlet changeVisibility = null\r\nlet changePosts = null\r\nlet changeUserInfo = null\r\nlet currentUser = null\r\n\r\nexport function Profile() { //Should not be used anymore\r\n    const [visibility, setVisibility] = useState(false)\r\n    const [posts, setPosts] = useState([])\r\n    const [userInfo, setUserInfo] = useState({})\r\n\r\n    useEffect(() => {\r\n        changePosts = setPosts\r\n        changeVisibility = setVisibility\r\n        changeUserInfo = setUserInfo\r\n    }, [])\r\n\r\n    if (!visibility)\r\n        return null\r\n\r\n    return (\r\n        <div className=\"user-profile\">\r\n            <div className=\"header\">\r\n                <i className=\"exit fas fa-times-circle\" onClick={() => { setVisibility(false) }}></i>\r\n                <p>{currentUser}</p>\r\n            </div>\r\n            <div className=\"stats\">\r\n                <div className=\"followers card\">\r\n                    <i className=\"icon fas fa-user-friends\"></i>\r\n                    <p className=\"title\">Followers</p>\r\n                    <p className=\"value\">{userInfo.followers ? userInfo.followers.length : 0}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n                <div className=\"likes card\">\r\n                    <i className=\"icon fas fa-thumbs-up\"></i>\r\n                    <p className=\"title\">Likes</p>\r\n                    <p className=\"value\">{userInfo.totalVotes ? userInfo.totalVotes : 0}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n                <div className=\"date card\">\r\n                    <i className=\"icon fas fa-calendar-alt\"></i>\r\n                    <p className=\"title\">Joined</p>\r\n                    <p className=\"value\">{userInfo.dateJoined}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <div className=\"social\">\r\n                <SocialLink logo=\"fab fa-instagram\" name=\"Instagram: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-youtube\" name=\"Youtube: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-twitter\" name=\"Twitter: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-facebook\" name=\"Facebook: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-reddit\" name=\"Reddit: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-pinterest\" name=\"Pinterest: \"></SocialLink>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <div className=\"follow-btn\" onClick={async () => {\r\n                let result = await FollowUser(currentUser)\r\n                if (result.status == 'failure')\r\n                    return\r\n\r\n                let updatedInfo = userInfo\r\n                updatedInfo.followers.push(currentUser) //should add this user\r\n                setUserInfo({ ...updatedInfo })\r\n            }}>\r\n                <p>FOLLOW</p>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <p className=\"post-title\">POSTS</p>\r\n            {\r\n                posts.map(post => <ProfilePost key={post._id} title={post.title} body={post.body} tags={post.tags} votes={post.votes[0].votes}></ProfilePost>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function ProfileDesktop(props) {\r\n    let username = props.username\r\n\r\n    const [userInfo, setUserInfo] = useState({})\r\n\r\n    useEffect(() => {\r\n        (() => {\r\n            setLoadScreen(true)\r\n            let postsPromise = GetPostsByUser(currentUser) //Should only be used on mobile\r\n            let userPromise = GetUserInfo(username)\r\n\r\n            Promise.allSettled([postsPromise, userPromise])\r\n                .then(results => {\r\n                    let posts = results[0].value\r\n                    let user = results[1].value\r\n\r\n                    if (posts.status == 'failure' || user.status == 'failure')\r\n                        return console.log('Failed')\r\n\r\n                    //posts = post.data\r\n                    setUserInfo(user.data)\r\n                    setLoadScreen(false)\r\n                })\r\n        })()\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"user-profile desktop\">\r\n            <div className=\"header\">\r\n                <p>{username}</p>\r\n            </div>\r\n            <div className=\"stats\">\r\n                <div className=\"followers card\">\r\n                    <i className=\"icon fas fa-user-friends\"></i>\r\n                    <p className=\"title\">Followers</p>\r\n                    <p className=\"value\">{userInfo.followers ? userInfo.followers.length : 0}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n                <div className=\"likes card\">\r\n                    <i className=\"icon fas fa-thumbs-up\"></i>\r\n                    <p className=\"title\">Likes</p>\r\n                    <p className=\"value\">{userInfo.totalVotes ? userInfo.totalVotes : 0}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n                <div className=\"date card\">\r\n                    <i className=\"icon fas fa-calendar-alt\"></i>\r\n                    <p className=\"title\">Joined</p>\r\n                    <p className=\"value\">{userInfo.dateJoined}</p>\r\n                    <div className=\"shadow\"></div>\r\n                </div>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <div className=\"social\">\r\n                <SocialLink logo=\"fab fa-instagram\" name=\"Instagram: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-youtube\" name=\"Youtube: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-twitter\" name=\"Twitter: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-facebook\" name=\"Facebook: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-reddit\" name=\"Reddit: \"></SocialLink>\r\n                <SocialLink logo=\"fab fa-pinterest\" name=\"Pinterest: \"></SocialLink>\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            <User.Consumer>{\r\n                user => <div className=\"follow-btn\" onClick={async () => {\r\n                    let result = await FollowUser(username)\r\n                    if (result.status == 'failure')\r\n                        return showNotification(result.message)\r\n\r\n                    if (result.message == 'followed') {\r\n                        let updatedInfo = userInfo\r\n                        updatedInfo.following.push(username)\r\n                        user.addFollowing(username)\r\n                        setUserInfo({ ...updatedInfo })\r\n                    } else {\r\n                        let updatedInfo = userInfo\r\n                        updatedInfo.following = updatedInfo.following.filter(i => i != username)\r\n                        user.removeFollowing(username)\r\n                        setUserInfo({ ...updatedInfo })\r\n                    }\r\n                }}>\r\n                    <p>{userInfo.following && user.following && user.following.includes(username) ? 'UNFOLLOW' : 'FOLLOW'}</p>\r\n                </div>\r\n            }\r\n            </User.Consumer>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction SocialLink(props) {\r\n    return (\r\n        <div className=\"social-tile\">\r\n            <i className={props.logo}></i>\r\n            <p>{props.name}</p>\r\n            <User.Consumer>\r\n                {\r\n                    user => currentUser == user.username ?\r\n                        <i className=\"fas fa-edit\"></i> :\r\n                        <></>\r\n                }\r\n            </User.Consumer>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ProfilePost(props) {\r\n\r\n    return (\r\n        <div className=\"profile-post\">\r\n            <div className=\"main\">\r\n                <p className=\"title\">{props.title}</p>\r\n                {/* <div className=\"tags\">\r\n                    {\r\n                        props.tags.map(tag => <p key={tag}>{tag}</p>)\r\n                    }\r\n                </div> */}\r\n                <p className=\"body\">{props.body}</p>\r\n            </div>\r\n            <div className=\"votes\">{props.votes}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport async function openUserProfile(visibility, username) {\r\n    currentUser = username\r\n    setLoadScreen(true)\r\n    let postsPromise = GetPostsByUser(currentUser)\r\n    let userPromise = GetUserInfo(username)\r\n\r\n    Promise.allSettled([postsPromise, userPromise])\r\n        .then(results => {\r\n            let posts = results[0].value\r\n            let user = results[1].value\r\n\r\n            if (posts.status == 'failure' || user.status == 'failure')\r\n                return console.log('Failed')\r\n\r\n            changePosts(posts.data)\r\n            changeUserInfo(user.data)\r\n            changeVisibility(visibility)\r\n            setLoadScreen(false)\r\n        })\r\n\r\n\r\n}","import React, { useState, useEffect } from 'react'\r\nimport background from '../media/content-background.jpg'\r\nimport { GetFixtureDetails } from '../Communicator'\r\n\r\nlet changeVisibility\r\nlet currentMatch\r\n\r\nfunction ContentPage(props) {\r\n\r\n    //const [visible, setVisibility] = useState(false)\r\n    const [fixtureDetails, setFixtureDetails] = useState({})\r\n    //changeVisibility = setVisibility\r\n\r\n    useEffect(() => {\r\n        if (!props.isActivated)\r\n            return\r\n\r\n        async function GetDetails() {\r\n            let res = await GetFixtureDetails(currentMatch.fixture_id)\r\n            console.log(res.data)\r\n            setFixtureDetails(res.data)\r\n        }\r\n\r\n        GetDetails()\r\n    }, [props.isActivated])\r\n\r\n    if (!props.isActivated)\r\n        return null\r\n\r\n    let date = new Date(Date.parse(currentMatch.event_date))\r\n\r\n    return (\r\n        <div id=\"content-page\">\r\n            <div id=\"content-header\">\r\n                <img src={background} alt='back' />\r\n                <div className=\"filter\"></div>\r\n                <div className=\"header-content\">\r\n                    {/* <i onClick={() => { }} className=\"back fas fa-arrow-circle-left\"></i> */}\r\n                    <p className=\"date\">{date.toLocaleDateString()}</p>\r\n                    <p className=\"league\">{currentMatch.league.name}</p>\r\n                    <div className=\"gap\"></div>\r\n                    <div className=\"score-front\">\r\n                        <p className=\"team\">{currentMatch.homeTeam.team_name}</p>\r\n                        <div className=\"score-display\">\r\n                            <p className=\"num\">{currentMatch.goalsHomeTeam}</p>\r\n                        </div>\r\n                        <div className=\"score-display\">\r\n                            <p className=\"num\">{currentMatch.goalsAwayTeam}</p>\r\n                        </div>\r\n                        <p className=\"team\">{currentMatch.awayTeam.team_name}</p>\r\n                    </div>\r\n                    <p className=\"location\">{currentMatch.venue}</p>\r\n                    <p className=\"ht-score\">{`HT Score: ${currentMatch.score == null || currentMatch.score.halftime == null ? '-' : currentMatch.score.halftime}`}</p>\r\n                </div>\r\n\r\n            </div>\r\n            <div id=\"content-body\">\r\n                <MatchAttribute title=\"SCORE\" team1={currentMatch.homeTeam.team_name} value1={currentMatch.goalsHomeTeam} team2={currentMatch.awayTeam.team_name} value2={currentMatch.goalsAwayTeam}></MatchAttribute>\r\n                <MatchAttribute title=\"POSSESSION\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Ball Possession\"] === undefined ? '-' : fixtureDetails[\"Ball Possession\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Ball Possession\"] === undefined ? '-' : fixtureDetails[\"Ball Possession\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"SHOTS ON TARGET\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Shots on Goal\"] === undefined ? '-' : fixtureDetails[\"Shots on Goal\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Shots on Goal\"] === undefined ? '-' : fixtureDetails[\"Shots on Goal\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"SHOTS OFF TARGET\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Shots off Goal\"] === undefined ? '-' : fixtureDetails[\"Shots off Goal\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Shots off Goal\"] === undefined ? '-' : fixtureDetails[\"Shots off Goal\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"CORNERS\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Corner Kicks\"] === undefined ? '-' : fixtureDetails[\"Corner Kicks\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Corner Kicks\"] === undefined ? '-' : fixtureDetails[\"Corner Kicks\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"OFFSIDES\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Offsides\"] === undefined ? '-' : fixtureDetails[\"Offsides\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Offsides\"] === undefined ? '-' : fixtureDetails[\"Offsides\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"FOULS\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Fouls\"] === undefined ? '-' : fixtureDetails[\"Fouls\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Fouls\"] === undefined ? '-' : fixtureDetails[\"Fouls\"].away}></MatchAttribute>\r\n                <MatchAttribute title=\"RED CARDS\" team1={currentMatch.homeTeam.team_name} value1={fixtureDetails[\"Red Cards\"] === undefined ? '-' : fixtureDetails[\"Red Cards\"].home} team2={currentMatch.awayTeam.team_name} value2={fixtureDetails[\"Red Cards\"] === undefined ? '-' : fixtureDetails[\"Red Cards\"].away}></MatchAttribute>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction MatchAttribute(props) {\r\n    return (\r\n        <div className=\"match-attribute\">\r\n            <p className=\"title\">{props.title}</p>\r\n            <div className=\"attribute\">\r\n                <div className=\"row\">\r\n                    <p className=\"name\">{props.team1}</p>\r\n                    <p className=\"score\">{props.value1}</p>\r\n                </div>\r\n                <div className=\"divider\"></div>\r\n                <div className=\"row\">\r\n                    <p className=\"name\">{props.team2}</p>\r\n                    <p className=\"score\">{props.value2}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function ShowContentPage(visibility, _currentMatch) { //remove visibility\r\n    currentMatch = _currentMatch\r\n}\r\n\r\nexport function GetCurrentMatch(){\r\n    return currentMatch\r\n}\r\n\r\nexport default ContentPage","/* eslint-disable eqeqeq */\r\nimport React, { useEffect, useState, useContext } from 'react'\r\nimport { GetTeams, GetLeagues, GetFixturesInLeague, GetTeamMatches, GetFixturesInLeagueByName, GetPostsByUser } from '../Communicator'\r\nimport { showNotification } from './NoticationBar'\r\nimport { ShowContentPage } from './ContentPage'\r\nimport ContentPage from '../components/ContentPage'\r\nimport { Page } from '../Config'\r\nimport { setLoadScreen } from './LoadDialog'\r\nimport { ProfileDesktop } from './Profile'\r\nimport '../../node_modules/flagpack/dist/flagpack.css'\r\n\r\nlet updateFixtures\r\nlet updateTab\r\nlet changeContentPage\r\nlet currentMatch\r\n\r\nlet profileUsername = ''\r\n\r\nlet backButtonListenerStack = []\r\n\r\nexport function addToBackButtonStack(count, page, level, fixture = null) {\r\n    backButtonListenerStack.length = 0\r\n    if(fixture != null)\r\n        currentMatch = fixture\r\n\r\n    if (level == 1) {\r\n        changeContentPage(false)\r\n\r\n        for (let i = 0; i < count; i++) {\r\n            // eslint-disable-next-line no-loop-func\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n                page.popPage(lastTab)\r\n                updateTab(page.tags[page.tags.length - 1])\r\n            })\r\n        }\r\n    }\r\n    else if (level == 2) {\r\n        ShowContentPage(true, fixture)\r\n        changeContentPage(true)\r\n\r\n        for (let i = 0; i < count; i++) {\r\n            // eslint-disable-next-line no-loop-func\r\n            backButtonListenerStack.push(() => {\r\n                changeContentPage(false)\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n                page.popPage(lastTab)\r\n                updateTab(lastTab)\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport function showUserProfile(username, page) {\r\n    profileUsername = username\r\n\r\n    let lastTab = page.tags[page.tags.length - 1]\r\n\r\n    updateTab(`${username}_user_profile`)\r\n    page.setPage([`${username}_user_profile`])\r\n\r\n    backButtonListenerStack.push(() => {\r\n        page.popPage(lastTab)\r\n        updateTab(page.tags[page.tags.length - 1])\r\n    })\r\n}\r\n\r\nfunction RightMenu(props) {\r\n\r\n    const [teams, setTeams] = useState([])\r\n    const [leagues, setLeagues] = useState([])\r\n    const [tab, setTab] = useState('home') //Redacted - Used to rerender when popPage is run as popPage doesnt initiate rerender for some reason\r\n    const [fixtureTab, selectFixtureTab] = useState(1)\r\n    const [fixtures, setFixtures] = useState([])\r\n    const [isContentPageVisible, setContentPageVisibility] = useState(false)\r\n\r\n    useEffect(() => {\r\n        async function getData() {\r\n            let res_team = await GetTeams()\r\n            let res_league = await GetLeagues()\r\n\r\n            if (res_team.status === \"failure\" || res_league.status === \"failure\")\r\n                return console.log(\"Error occured while retrieving leagues/teams\")\r\n\r\n            setTeams(res_team.data.teams)\r\n            setLeagues(res_league.data.leagues)\r\n        }\r\n\r\n        updateFixtures = setFixtures\r\n        updateTab = setTab\r\n        changeContentPage = setContentPageVisibility\r\n        getData()\r\n    }, [])\r\n\r\n    // if (!props.activated)\r\n    //     return null\r\n\r\n    function fixtureTabClicked(tabNumber, team, previousTab, page) {\r\n        selectFixtureTab(tabNumber)\r\n\r\n        if (tabNumber == 1) {\r\n            if (page.tags[page.tags.length - 1].includes('_selected_tab')) {\r\n                page.popPage(page.tags[page.tags.length - 1])\r\n            }\r\n\r\n            page.setPage([team])\r\n            updateTab(team)\r\n        } else {\r\n\r\n            if (page.tags[page.tags.length - 1].includes('_selected_tab')) {\r\n                page.popPage(page.tags[page.tags.length - 1])\r\n            }\r\n\r\n            page.setPage([`${team}_selected_tab`])\r\n            updateTab(`${team}_selected_tab`)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Page.Consumer>\r\n            {page =>\r\n                <div>\r\n                    <div className=\"rightmenu\" style={{ display: props.activated ? 'flex' : 'none' }}>\r\n                        <RightMenuContent page={page}\r\n                            setContentPageVisibility={setContentPageVisibility}\r\n                            fixtureTabClicked={fixtureTabClicked}\r\n                            tab={tab}\r\n                            setTab={setTab}\r\n                            fixtureTab={fixtureTab}\r\n                            isContentPageVisible={isContentPageVisible}\r\n                            fixtures={fixtures}\r\n                            teams={teams}\r\n                            leagues={leagues} ></RightMenuContent>\r\n                    </div>\r\n                    <div className=\"rightmenu desktop\">\r\n                        <RightMenuContent page={page}\r\n                            setContentPageVisibility={setContentPageVisibility}\r\n                            fixtureTabClicked={fixtureTabClicked}\r\n                            tab={tab}\r\n                            setTab={setTab}\r\n                            fixtureTab={fixtureTab}\r\n                            selectFixtureTab={selectFixtureTab}\r\n                            isContentPageVisible={isContentPageVisible}\r\n                            fixtures={fixtures}\r\n                            teams={teams}\r\n                            leagues={leagues} ></RightMenuContent>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </Page.Consumer>\r\n    )\r\n}\r\n\r\nfunction RightMenuContent({ page, setContentPageVisibility, selectFixtureTab, fixtureTabClicked, tab, setTab, fixtureTab, isContentPageVisible, fixtures, teams, leagues }) {\r\n    return (<>\r\n        {page.currentTags[page.currentTags.length - 1] === 'home' ? <div></div> : <div id=\"back-btn\" onClick={() => { backButtonListenerStack.pop()() }} className=\"button fixed\">\r\n            <p> BACK </p>\r\n        </div>}\r\n        <div id=\"navigation-container\">\r\n            <Tabs setContent={setContentPageVisibility} tab={tab} setTab={setTab} page={page}></Tabs>\r\n            <div id=\"navigation-body\">\r\n                {page.currentTags[page.currentTags.length - 1].includes('_fixture_details') || page.currentTags[page.currentTags.length - 1].includes('_selected_tab') ? <div className=\"team-selector\">\r\n                    <p onClick={() => fixtureTabClicked(0, `${currentMatch.homeTeam.team_name}`, tab, page)} className={fixtureTab == 0 ? 'selected' : ''}>{`${currentMatch.homeTeam.team_name}`}</p>\r\n                    <p onClick={() => fixtureTabClicked(1, `${currentMatch.fixture_id}_fixture_details`, tab, page)} className={fixtureTab == 1 ? 'selected' : ''}>Both</p>\r\n                    <p onClick={() => fixtureTabClicked(2, `${currentMatch.awayTeam.team_name}`, tab, page)} className={fixtureTab == 2 ? 'selected' : ''}>{`${currentMatch.awayTeam.team_name}`}</p>\r\n                </div> : <></>}\r\n                <ContentPage isActivated={isContentPageVisible}></ContentPage>\r\n                <NavigationBody selectFixtureTab={selectFixtureTab} setContent={setContentPageVisibility} page={page} fixtures={fixtures} tab={tab} teams={teams} leagues={leagues}></NavigationBody>\r\n            </div>\r\n        </div>\r\n    </>)\r\n}\r\n\r\nfunction tabClick(tab, setTab, page, name) {\r\n    if (tab === name)\r\n        return\r\n\r\n    let lastTab = page.tags[page.tags.length - 1]\r\n    page.popPage(lastTab)\r\n    setTab(name)\r\n    page.setPage([name])\r\n}\r\n\r\nfunction Tabs(props) {\r\n    let tab = props.page.currentTags[props.page.currentTags.length - 1]\r\n    let setTab = props.setTab //Redacted\r\n    let page = props.page\r\n    let setContent = props.setContent\r\n\r\n    if (tab === 'home') {\r\n        return (<></>)\r\n    }\r\n    else if (tab === 'competition' || tab === 'team' || tab === 'fixture') {\r\n        return (\r\n            <div id=\"navigation-tab\">\r\n                <div onClick={() => { tabClick(tab, setTab, page, 'competition') }} className=\"tab\"><p className={tab === 'competition' ? 'dark' : 'light'}>COMPETITIONS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, 'team') }} className=\"tab\"><p className={tab === 'team' ? 'dark' : 'light'}>TEAMS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, 'fixture') }} className=\"tab\"><p className={tab === 'fixture' ? 'dark' : 'light'}>IN-PLAY</p></div>\r\n            </div>\r\n        )\r\n    }\r\n    else if (tab.includes('_competition_result') || tab.includes('_competition_fixture') || tab.includes('_competition_inplay') || tab.includes('_competition_team')) {\r\n        let currentPage = tab.split('_')[0]\r\n\r\n        return (\r\n            <div id=\"navigation-tab\">\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_team`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_team') ? 'dark' : 'light'}>TEAMS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_inplay`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_inplay') ? 'dark' : 'light'}>IN-PLAY</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_result`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_result') ? 'dark' : 'light'}>RESULTS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_competition_fixture`); setContent(false) }} className=\"tab\"><p className={tab.includes('_competition_fixture') ? 'dark' : 'light'}>FIXTURES</p></div>\r\n            </div>\r\n        )\r\n    }\r\n    else if (tab.includes('_team_result') || tab.includes('_team_fixture') || tab.includes('_team_inplay')) {\r\n        let currentPage = tab.split('_')[0]\r\n\r\n        return (\r\n            <div id=\"navigation-tab\">\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_team_result`); setContent(false) }} className=\"tab\"><p className={tab.includes('_team_result') ? 'dark' : 'light'}>RESULTS</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_team_fixture`); setContent(false) }} className=\"tab\"><p className={tab.includes('_team_fixture') ? 'dark' : 'light'}>FIXTURES</p></div>\r\n                <div onClick={() => { tabClick(tab, setTab, page, `${currentPage}_team_inplay`); setContent(false) }} className=\"tab\"><p className={tab.includes('_team_inplay') ? 'dark' : 'light'}>IN-PLAY</p></div>\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        return null\r\n    }\r\n}\r\n\r\nfunction NavigationBody(props) {\r\n\r\n    let setContent = props.setContent\r\n    let page = props.page\r\n    let tab = page.currentTags[page.currentTags.length - 1]//props.tab\r\n    let leagues = props.leagues\r\n    let teams = props.teams\r\n    let fixtures = props.fixtures\r\n    let selectFixtureTab = props.selectFixtureTab\r\n\r\n    const [teamFixtures, setTeamFixtures] = useState([])\r\n\r\n    useEffect(() => {\r\n        //Get results when searched\r\n        (async () => {\r\n            let lastTag = page.currentTags[page.currentTags.length - 1]\r\n            if (!lastTag) return\r\n\r\n            if (lastTag.includes('_team_result')) {\r\n                setLoadScreen(true)\r\n                let result = await GetTeamMatches(lastTag.split('_')[0])\r\n                setTeamFixtures(result.data)\r\n                setLoadScreen(false)\r\n            } else if (lastTag.includes('_competition_result')) {\r\n                setLoadScreen(true)\r\n                let result = await GetFixturesInLeagueByName(lastTag.split('_')[0])\r\n                updateFixtures(result.data)\r\n                setLoadScreen(false)\r\n            }\r\n            else if (lastTag.includes('_fixture_details')) {\r\n                let secondLastTab = page.tags[page.tags.length - 2]\r\n                if (!secondLastTab) return\r\n\r\n                setLoadScreen(true)\r\n                let result = await GetFixturesInLeagueByName(secondLastTab.split('_')[0]) //Getting second-last tag\r\n                updateFixtures(result.data)\r\n                setLoadScreen(false)\r\n            }\r\n        })()\r\n\r\n    }, [page.searchTerm])\r\n\r\n    //console.log(page.tags)\r\n\r\n    function competitionFixtureResolver(statusArray, icon) {\r\n        let click = async (fixture) => {\r\n            backButtonListenerStack.push(() => {\r\n                selectFixtureTab(1)\r\n                page.popPage(`${fixture.fixture_id}_fixture_details`)\r\n                setContent(false)\r\n                updateTab(tab)\r\n            })\r\n\r\n            setContent(true)\r\n            currentMatch = fixture\r\n            page.setPage([`${fixture.fixture_id}_fixture_details`]) //fixture.homeTeam.team_name, fixture.awayTeam.team_name\r\n            updateTab(`${fixture.fixture_id}_fixture_details`)\r\n            ShowContentPage(true, fixture)\r\n        }\r\n\r\n        let filtered = fixtures.filter((fixture) => statusArray.includes(fixture.statusShort))\r\n\r\n        if(filtered.length == 0)\r\n            return <InfoTile clicked={() => {}} name=\"NO RESULTS FOUND\"></InfoTile>\r\n\r\n        return (filtered.map(fixture => (\r\n            <Tile icon={icon} clicked={() => { click(fixture) }} key={fixture.fixture_id} name={`${fixture.homeTeam.team_name} VS ${fixture.awayTeam.team_name}`} id={fixture.fixture_id}></Tile>\r\n        ))\r\n        )\r\n    }\r\n\r\n    function teamFixtureResolver(statusArray, icon) {\r\n        let click = async (fixture) => {\r\n\r\n            backButtonListenerStack.push(() => {\r\n                selectFixtureTab(1)\r\n                page.popPage(`${fixture.fixture_id}_fixture_details`)\r\n                setContent(false)\r\n                updateTab(tab)\r\n            })\r\n\r\n            setContent(true)\r\n            currentMatch = fixture\r\n            console.log(currentMatch)\r\n            page.setPage([`${fixture.fixture_id}_fixture_details`]) //fixture.homeTeam.team_name, fixture.awayTeam.team_name\r\n            updateTab(`${fixture.fixture_id}_fixture_details`)\r\n            ShowContentPage(true, fixture)\r\n        }\r\n\r\n        let filtered = teamFixtures.filter((fixture) => statusArray.includes(fixture.statusShort))\r\n\r\n        if(filtered.length == 0)\r\n            return <InfoTile clicked={() => {}} name=\"NO RESULTS FOUND\"></InfoTile>\r\n\r\n        return (filtered.map(fixture => (\r\n            <Tile icon={icon} clicked={() => { click(fixture) }} key={fixture.fixture_id} name={`${fixture.homeTeam.team_name} VS ${fixture.awayTeam.team_name}`} id={fixture.fixture_id}></Tile>\r\n        ))\r\n        )\r\n    }\r\n\r\n    if (tab === 'home') { //Sports Selection\r\n\r\n        function click() {\r\n            let lastTab = page.tags[page.tags.length - 1]\r\n\r\n            updateTab('competition')\r\n            page.setPage(['competition'])\r\n\r\n            backButtonListenerStack.push(() => {\r\n                page.popPage(lastTab)\r\n                updateTab('home')\r\n            })\r\n        }\r\n\r\n        return (\r\n            <Tile name=\"SOCCER\" clicked={() => { click() }}></Tile>\r\n        )\r\n    }\r\n    else if (tab === 'competition') { //Competition\r\n\r\n        let click = async (league) => {\r\n            setLoadScreen(true)\r\n            let result = await GetFixturesInLeague(league.leagueId)\r\n            setLoadScreen(false)\r\n\r\n            if (result.status === \"failure\") {\r\n                showNotification(result.message)\r\n                return\r\n            }\r\n\r\n            updateFixtures(result.data)\r\n            updateTab(`${league.name}_competition_result`)\r\n\r\n            page.setPage([`${league.name}_competition_result`])\r\n\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n\r\n                page.popPage(lastTab)\r\n                updateTab('competition')\r\n            })\r\n        }\r\n\r\n        console.log(leagues)\r\n\r\n        return (\r\n            leagues.map(league => (\r\n                <Tile icon={league.countryCode != null ? `fp ${league.countryCode.toLowerCase()}` : null} key={league._id} name={league.name} clicked={() => { click(league) }}></Tile>\r\n            ))\r\n        )\r\n    }\r\n    else if (tab === 'team') { //Teams\r\n\r\n        async function click(team) {\r\n            setLoadScreen(true)\r\n            let result = await GetTeamMatches(team.name)\r\n            setTeamFixtures(result.data)\r\n            setLoadScreen(false)\r\n\r\n            if (result.status === \"failure\") {\r\n                showNotification(result.message)\r\n                return\r\n            }\r\n\r\n            page.setPage([`${team.name}_team_result`])\r\n            updateTab(`${team.name}_team_result`)\r\n\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n\r\n                page.popPage(lastTab)\r\n                updateTab('team')\r\n            })\r\n        }\r\n\r\n        return (\r\n            teams.map(team => (\r\n                <Tile clicked={() => { click(team) }} key={team._id} name={team.name}> id={team.teamId}</Tile>\r\n            ))\r\n        )\r\n    }\r\n    else if (tab.includes('_competition_result')) { //In-League Matches\r\n        return competitionFixtureResolver([\"FT\", \"AET\", \"PEN\"], 'fas fa-calendar-alt')\r\n    }\r\n    else if (tab.includes('_competition_fixture')) {\r\n        return competitionFixtureResolver([\"NS\"], 'fas fa-calendar-alt')\r\n    }\r\n    else if (tab.includes('_competition_inplay')) {\r\n        return competitionFixtureResolver([\"1H\", \"HT\", \"2H\", \"ET\", \"P\", \"BT\"], 'fas fa-stopwatch')\r\n    }\r\n    else if (tab.includes('_competition_team')) {\r\n        let selectedCompetition = tab.split('_')[0]\r\n\r\n        function click(team) {\r\n\r\n            page.setPage([`${team.name}_team_result`])\r\n            updateTab(`${team.name}_team_result`)\r\n\r\n            backButtonListenerStack.push(() => {\r\n                let lastTab = page.tags[page.tags.length - 1]\r\n\r\n                page.popPage(lastTab)\r\n                updateTab('team')\r\n            })\r\n        }\r\n\r\n        return teams.filter(team => team.leagueName == selectedCompetition).map(team => (\r\n            <Tile clicked={() => { click(team) }} key={team._id} name={team.name}> id={team.teamId}</Tile>\r\n        ))\r\n\r\n        // return (\r\n        //     teams.map(team => (\r\n        //         <Tile clicked={() => { click(team) }} key={team._id} name={team.name}> id={team.teamId}</Tile>\r\n        //     ))\r\n        // )\r\n    }\r\n    else if (tab.includes('_team_result')) {\r\n        return teamFixtureResolver([\"FT\", \"AET\", \"PEN\"], 'fas fa-calendar-alt')\r\n    }\r\n    else if (tab.includes('_team_fixture')) {\r\n        return teamFixtureResolver([\"NS\"], 'fas fa-calendar-alt')\r\n    }\r\n    else if (tab.includes('_team_inplay')) {\r\n        return teamFixtureResolver([\"1H\", \"HT\", \"2H\", \"ET\", \"P\", \"BT\"], 'fas fa-stopwatch')\r\n    }\r\n    else if (tab.includes('user_profile')) {\r\n\r\n        return <ProfileDesktop username={profileUsername}></ProfileDesktop>\r\n    }\r\n    else {\r\n        return null\r\n    }\r\n}\r\n\r\nfunction Tile(props) {\r\n    return (\r\n        <div className=\"team-tile\" onClick={props.clicked}>\r\n            {\r\n                props.icon != null ? <i className={props.icon}></i> : <i className=\"logo fas fa-globe-europe\"></i>\r\n            }\r\n            <div className=\"divider\"></div>\r\n            <p className=\"name\">{props.name}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction InfoTile(props){\r\n    return (\r\n        <div className=\"team-tile\" onClick={props.clicked}>\r\n            <p className=\"name\">{props.name}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RightMenu","import React, { useState, useContext, useEffect, useRef } from 'react'\r\nimport { setLoginModalVisibility, setFeedbackModalVisibility } from './Modal'\r\nimport { User, Page } from '../Config'\r\nimport { Dropdown } from './Dropdown'\r\nimport { RegisterPage, enablePage } from './RegisterPage'\r\nimport { logOut } from '../Utils'\r\nimport { openUserProfile } from './Profile'\r\nimport { showUserProfile } from './RightMenu'\r\n\r\nfunction LeftMenu(props) {\r\n\r\n  // if (!props.activated)\r\n  //   return null\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"leftmenu\" style={{ display: props.activated ? 'flex' : 'none' }}>\r\n        <CredentialBar nameClass={\"credential-bar\"}></CredentialBar>\r\n        <RegisterPage></RegisterPage>\r\n        <MenuColumn></MenuColumn>\r\n        <div id=\"menu-divider\">\r\n          <div className=\"line\"></div>\r\n          <p className=\"divider-text\">FOLLOWING</p>\r\n          <div className=\"line\"></div>\r\n        </div>\r\n        <FollowingContainer></FollowingContainer>\r\n      </div>\r\n      <div className=\"leftmenu desktop\">\r\n        <CredentialBar nameClass={\"credential-bar\"}></CredentialBar>\r\n        <RegisterPage></RegisterPage>\r\n        <MenuColumn></MenuColumn>\r\n        <div id=\"menu-divider\">\r\n          <div className=\"line\"></div>\r\n          <p className=\"divider-text\">FOLLOWING</p>\r\n          <div className=\"line\"></div>\r\n        </div>\r\n        <FollowingContainer></FollowingContainer>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function CredentialBar(props) { //Returns Register/login or profile/notification\r\n  return (\r\n    <User.Consumer>\r\n      {user => {\r\n        if (user.username == null) {\r\n          return (<div className={`${props.nameClass}`}>\r\n            <div className=\"button fixed\" onClick={() => { enablePage() }}>\r\n              <div className=\"items\">\r\n                <div className=\"leading\">\r\n                  <div className=\"icon dot\"></div>\r\n                  <p className=\"text\">REGISTER</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"shadow\"></div>\r\n            </div>\r\n            <div className=\"button fixed\" onClick={() => { setLoginModalVisibility(true) }}>\r\n              <div className=\"items\">\r\n                <div className=\"leading\">\r\n                  <div className=\"icon dot\"></div>\r\n                  <p className=\"text\">LOGIN</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"shadow\"></div>\r\n            </div>\r\n          </div>)\r\n        } else {\r\n          return (\r\n            <div className={`${props.nameClass}`}>\r\n              <Page.Consumer>{\r\n                page => <>\r\n                  <Dropdown zIndex={21} choices={[\r\n                    { name: 'Profile', action: () => { showUserProfile(user.username, page) } },\r\n                    { name: 'Log Out', action: () => { logOut() } }]} title={user.username}></Dropdown>\r\n                  <i className=\"notification fas fa-bell\"></i>\r\n                </>\r\n              }</Page.Consumer>\r\n            </div>)\r\n        }\r\n      }}\r\n    </User.Consumer>\r\n  )\r\n}\r\n\r\nfunction MenuColumn() {\r\n  return (\r\n    <div id=\"menu-column\">\r\n      <MenuButton onPress={() => { window.location.reload() }} title='HOME' iconClass='fas fa-home'></MenuButton>\r\n      <MenuButton onPress={() => { }} title='MODERATION' iconClass='fas fa-user-friends'></MenuButton>\r\n      <MenuButton onPress={() => { }} title='HELP' iconClass='fas fa-question-circle'></MenuButton>\r\n      <MenuButton onPress={() => { setFeedbackModalVisibility(true) }} title='FEEDBACK' iconClass='fas fa-comments'></MenuButton>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction FollowingContainer() {\r\n  return (\r\n    <div id=\"following-container\">\r\n      <User.Consumer>\r\n        {\r\n          user => {\r\n            return (<>\r\n              <FollowingButton title={\"SPORTS\"} items={user.followingSports}></FollowingButton>\r\n              <FollowingButton title={\"COMPETITIONS\"} items={user.followingCompetitions}></FollowingButton>\r\n              <FollowingButton title={\"TEAMS\"} items={user.followingTeams}></FollowingButton>\r\n            </>)\r\n          }\r\n        }\r\n      </User.Consumer>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction MenuButton(props) {\r\n  return (\r\n    <div className=\"button gap\" onClick={() => { props.onPress() }}>\r\n      <div className=\"items\">\r\n        <div className=\"leading\">\r\n          <i className={`icon ${props.iconClass}`}></i>\r\n          <p className=\"text\">{props.title}</p>\r\n        </div>\r\n        <div className=\"dot\"></div>\r\n      </div>\r\n      <div className=\"shadow\"></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction FollowingButton(props) {\r\n\r\n  const [style, setStyle] = useState('')\r\n\r\n  return (\r\n    <div className=\"button gap\" onClick={() => { style == '' ? setStyle('open') : setStyle('') }}>\r\n      <div className=\"items\">\r\n        <div className=\"leading\">\r\n          <p className=\"text\">{props.title}</p>\r\n        </div>\r\n        <i className=\"trailing fas fa-plus-circle\"></i>\r\n      </div>\r\n      <div className={`follow-body ${style}`}>\r\n        {\r\n          props.items.map(item => <p className=\"follow-item\" key={item}>{item[1]}</p>)\r\n        }\r\n      </div>\r\n      <div className=\"shadow\"></div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// function EntryHolder(props){\r\n//   return()\r\n// }\r\n\r\nexport default LeftMenu","import React, { useState, useEffect } from 'react'\nimport LeftMenu from './components/LeftMenu'\nimport {PostContainer, SearchBar} from './components/MainPage'\nimport RightMenu from './components/RightMenu'\nimport ContentPage from './components/ContentPage'\nimport { AcceptModal, LoginModal, RegisterModal, CreatePostModal, FeedbackModal } from './components/Modal'\nimport { NotificationBar } from './components/NoticationBar'\nimport { User, Page } from './Config'\nimport { isAuthenticated } from './Utils'\nimport { GetSelfInfo } from './Communicator'\nimport { LoadScreen } from './components/LoadDialog'\nimport { Profile } from './components/Profile'\nimport { PostPage } from './components/PostPage'\nimport './style.css'\nimport { CredentialBar } from './components/LeftMenu'\n\nlet setDiv\n\nfunction App(props) {\n\n  const [menu, setMenu] = useState(0)\n  const [division, setDivision] = useState('postlist') //Change to context\n\n  setDiv = setDivision\n\n  useEffect(() => {\n\n    async function getUser() {\n      if (isAuthenticated()) {\n        let result = await GetSelfInfo()\n        props.user.editUser({\n          username: result.data.username,\n          followingSports: result.data.followedSports,\n          followingCompetitions: result.data.followedCompetitions,\n          followingTeams: result.data.followedTeams,\n          followers: result.data.followers,\n          following: result.data.following\n        })\n      }\n    }\n\n    getUser()\n  }, [])\n\n  return (\n    <>\n      <User.Consumer>\n        {user =>\n          <div className=\"main-root\">\n            <NavBar changeMenu={setMenu} menu={menu}></NavBar>\n            {/* <Profile></Profile> */} {/* REMOVED FULL SCREEN PROFILE TO IMMPLEMENT RIGHT BAR STYLE*/}\n            <LoadScreen></LoadScreen>\n            <AcceptModal></AcceptModal>\n            <LoginModal></LoginModal>\n            <CreatePostModal></CreatePostModal>\n            <FeedbackModal></FeedbackModal>\n            <div id=\"desktop-container\">\n              <LeftMenu activated={menu === 1 ? true : false}></LeftMenu>\n              <Division division={division} user={user} setDivision={setDivision}></Division>\n              <RightMenu activated={menu === 2 ? true : false}></RightMenu>\n            </div>\n            <NotificationBar></NotificationBar>\n          </div>\n        }\n      </User.Consumer>\n    </>\n  )\n}\n\nfunction Division(props) {\n\n  if (props.division == 'postlist') {\n    return <Page.Consumer>\n      {page =>\n        <PostContainer page={page} user={props.user} setDivision={props.setDivision}></PostContainer>\n      }\n    </Page.Consumer>\n  }\n  else if (props.division == 'post') {\n    return <PostPage setDivision={props.setDivision}></PostPage>\n  }\n}\n\nfunction NavBar(props) {\n\n  const onMenuClick = (val) => {\n\n    if (props.menu === val) {\n      props.changeMenu(0)\n      return\n    }\n\n    props.changeMenu(val)\n  }\n\n  return (\n    <div id=\"navbar\">\n      <i className=\"menu-selector fas fa-bars\" onClick={() => { onMenuClick(1) }}></i>\n      <img alt=\"logo\" src=\"./media/logo.png\" onClick={() => { window.location.reload() }} />\n      <Page.Consumer>\n        {\n          page => <SearchBar page={page}></SearchBar>\n        }\n      </Page.Consumer>      \n      <i className=\"menu-selector fas fa-bars\" onClick={() => { onMenuClick(2) }}></i>\n      <CredentialBar nameClass={\"credential-bar desktop\"}></CredentialBar>\n    </div>)\n}\n\nexport function SetDivision(type){\n  setDiv(type)\n}\n\nexport default App\n","import React, { useState } from 'react'\r\nimport { MakeComment, GetPostComments } from '../Communicator'\r\nimport { EmbedLink } from '../Utils'\r\nimport { User } from '../Config'\r\n\r\nlet changeVisibility = null\r\nlet currentPost = null\r\n\r\nexport function PostPage(props) {\r\n    //get postdata\r\n    //getcomments\r\n\r\n    const [visibility, setVisibility] = useState(false)\r\n    const [typedComment, textInput] = CommentInput()\r\n\r\n    changeVisibility = setVisibility\r\n\r\n    if (!visibility)\r\n        return null\r\n\r\n    let tree = renderTree(currentPost.commentArray, currentPost.commentDictionary)\r\n\r\n    return (\r\n        <div id=\"post-page\">\r\n            <i className=\"exit fas fa-times-circle\" onClick={() => { props.setDivision('postlist') }}></i>\r\n            <div className=\"main-post-container\">\r\n                <p className=\"main-post-user\">{currentPost.username}</p>\r\n                <p className=\"main-post-title\">{currentPost.title}</p>\r\n                {/* <p className=\"main-post-description\">{currentPost.body}</p> */}\r\n                {\r\n                    EmbedLink(currentPost.embedUrl)\r\n                }\r\n                <div className=\"details\">\r\n                    <p className=\"date\">{currentPost.date}</p>\r\n                    <div className=\"votes\">\r\n                        <div className=\"column\">\r\n                            <i onClick={() => { }} className=\"upvote fas fa-caret-up\"></i>\r\n                            <p className=\"votes\">{currentPost.totalVotes}</p>\r\n                            <i onClick={() => { }} className=\"downvote fas fa-caret-down\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/* <div className=\"toolbar\">\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                    <i className=\"emblem fas fa-fire\"></i>\r\n                </div> */}\r\n            </div>\r\n            <div className=\"reply-bar\">\r\n                {textInput}\r\n                <i className=\"fas fa-paper-plane\" onClick={() => { MakeComment(typedComment, false, currentPost._id) }}></i>\r\n            </div>\r\n            <div className=\"comment-section\">\r\n                {\r\n                    tree.map(root => <Comment childrenTree={root} isLeaf={root[0][0].isLeaf} level={1} parentId={root[0][0]._id} username={root[0][0].username} description={root[0][0].description}></Comment>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction renderTree(commentArray, commentDictionary) {\r\n\r\n    function transformToObject(item, parentId) {\r\n        return {\r\n            id: item._id,\r\n            isLeaf: item.isLeaf,\r\n            username: item.username,\r\n            description: item.description,\r\n            parentId: parentId\r\n        }\r\n    }\r\n\r\n    function search(childrenIds, parentId) { //breadth first\r\n        let childrenTree = []\r\n        let rowStack = []\r\n\r\n        let firstRow = []\r\n\r\n        for (let childId of childrenIds) {\r\n            firstRow.push(transformToObject(commentDictionary[childId], parentId))\r\n\r\n            for (let id of commentDictionary[childId].childrenIds) {\r\n                rowStack.push({ id: id, parentId: childId })\r\n            }\r\n        }\r\n\r\n        childrenTree.push(firstRow)\r\n\r\n        while (rowStack.length != 0) {\r\n            let row = []\r\n            let newChildRow = []\r\n\r\n            for (let child of rowStack) {\r\n                row.push(transformToObject(commentDictionary[child.id], child.parentId))\r\n\r\n                for (let id of commentDictionary[child.id].childrenIds) {\r\n                    newChildRow.push({ id: id, parentId: child.id })\r\n                }\r\n            }\r\n\r\n            rowStack = newChildRow\r\n            childrenTree.push(row)\r\n        }\r\n\r\n        return childrenTree\r\n    }\r\n\r\n    let tree = []\r\n\r\n    for (let item of commentArray) {\r\n        if (item.isChild)\r\n            continue\r\n\r\n        let branch = search(item.childrenIds, item._id) //is tree\r\n\r\n        if (branch[0].length == 0) {\r\n            tree.push([[item]])\r\n        } else {\r\n            branch.unshift([item])\r\n            tree.push(branch)\r\n        }\r\n\r\n    }\r\n    return tree\r\n}\r\n\r\nfunction makeCommentTree(comments) {\r\n    let tree = {}\r\n\r\n    for (let index in comments) {\r\n        if (!comments[index].isLeaf)\r\n            continue\r\n\r\n        let branch = {}\r\n        let node = comments[index]\r\n        branch[node._id] = node\r\n        let isRoot = !node.isChild\r\n\r\n\r\n        while (!isRoot) {\r\n            node.parent = comments[node.parentId]\r\n            node = node.parent\r\n            isRoot = !node.isChild\r\n\r\n            // if(isRoot){\r\n            //     node.parent = node = node.parent\r\n            // }\r\n        }\r\n\r\n        //console.log(branch)\r\n        Object.assign(tree, branch)\r\n    }\r\n\r\n    console.log(tree)\r\n}\r\n\r\nfunction Comment({ childrenTree, level, parentId, username, description, isLeaf }) {\r\n    //childrenTree[level].forEach(val => console.log(val.id, val.parentId, parentId))\r\n    //if(childrenTree.length > 1 )console.log(description ,childrenTree[level][0].isLeaf)\r\n    const [replySelected, setReplySelected] = useState(false)\r\n    const [reply, setReply] = useState('')\r\n\r\n    return (\r\n        <div className=\"comment\">\r\n            <div className=\"main-section\">\r\n                <div className=\"top\">\r\n                    <p className=\"comment-user\">{username}</p>\r\n                    <p className=\"comment-description\">{description}</p>\r\n\r\n                    <div className=\"votes\">\r\n                        <div className=\"column\">\r\n                            <i onClick={() => { }} className=\"upvote fas fa-caret-up\"></i>\r\n                            <p className=\"votes\">0</p>\r\n                            <i onClick={() => { }} className=\"downvote fas fa-caret-down\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <User.Consumer>{\r\n                    user => user.username == null ? <></> : <div className=\"reply-section\">\r\n                        {\r\n                            !replySelected ? <p onClick={() => { setReplySelected(true) }}>REPLY</p> :\r\n                                <div>\r\n                                    <textarea onChange={(e) => { setReply(e.target.value) }}></textarea>\r\n                                    <p onClick={() => { MakeComment(reply, true, parentId) }}>SEND</p>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                }\r\n                </User.Consumer>\r\n            </div>\r\n\r\n            <div className={!isLeaf ? \"children\" : \"\"}>\r\n                {\r\n                    level >= childrenTree.length ? <></> : childrenTree[level].filter(child => child.parentId == parentId).map(child => <Comment isLeaf={child.isLeaf} username={child.username} parentId={child.id} description={child.description} level={level + 1} childrenTree={childrenTree}></Comment>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction CommentInput() {\r\n    const [input, setInput] = useState('')\r\n    const textInput = <textarea onChange={(e) => { setInput(e.target.value) }}></textarea>\r\n\r\n    return [input, textInput]\r\n}\r\n\r\nexport async function showPostPage(visibility, post) {\r\n    if (!visibility)\r\n        return changeVisibility(false)\r\n\r\n    //show loading\r\n    let result = await GetPostComments(post._id)\r\n\r\n    let commentArray = Object.values(result.data)\r\n    post.commentArray = commentArray\r\n    post.commentDictionary = result.data\r\n\r\n    currentPost = post\r\n    changeVisibility(true)\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { DoVote, GetUserInfo, DeletePost } from '../Communicator'\r\nimport { showPostPage } from './PostPage'\r\nimport { EmbedLink } from '../Utils'\r\nimport { User } from '../Config'\r\nimport { openUserProfile } from \"./Profile\"\r\nimport {showUserProfile} from './RightMenu'\r\n\r\nexport default function Post(props) {\r\n\r\n  let timeVal = parseInt(props.time)\r\n  let date = new Date(timeVal)\r\n\r\n  const [votes, setVotes] = useState(0)\r\n  const [menuOpen, setMenuOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n\r\n    let totalVotes = 0\r\n\r\n    for (let i = props.votes.length - 1; i >= 0; i--) {\r\n      totalVotes += props.votes[i].votes\r\n\r\n      if (props.votes[i].tag === props.page.currentTags)\r\n        break\r\n    }\r\n\r\n    setVotes(totalVotes)\r\n  }, [props.page.currentTags])\r\n\r\n  async function openProfile(username) {\r\n    //loadscreen\r\n    //let result = await GetUserInfo(username)\r\n\r\n    openUserProfile(true, username)\r\n  }\r\n\r\n  async function deletePost(id) {\r\n    let result = await DeletePost(id)\r\n    if (result.status == 'success') {\r\n      props.setPosts(state => state.filter(p => p._id != id))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={props.viewType == 0 ? 'post' : 'post-compact'} onClick={() => { let newPost = props.post; newPost.totalVotes = votes; newPost.date = date.toLocaleString(); props.setDivision('post'); showPostPage(true, newPost) }}>\r\n      <div className=\"header\">\r\n        <h1>{props.title}</h1>\r\n        <User.Consumer>\r\n          {\r\n            user => user.username == null || user.username != props.username ? <></> :\r\n              <i className=\"fas fa-ellipsis-v\" onClick={(e) => { e.stopPropagation(); setMenuOpen(state => !state) }}>\r\n                {\r\n                  !menuOpen ? <></> : <div className=\"dropdown\">\r\n                    <p onClick={(e) => { e.stopPropagation(); deletePost(props.post._id) }}>DELETE</p>\r\n                  </div>\r\n                }\r\n              </i>\r\n          }\r\n        </User.Consumer>\r\n      </div>\r\n      <div className=\"compact-container\">\r\n        {\r\n          props.post.isEmbed ? EmbedLink(props.post.embedUrl, props.viewType) : <p className=\"description\">{props.body}</p>\r\n        }\r\n        <div className=\"divider\"></div>\r\n        <div className=\"row\">\r\n          <div className=\"column\">\r\n            <div className=\"user-details\" onClick={(e) => { e.stopPropagation(); showUserProfile(props.username, props.page) }}>\r\n              <p className=\"username\">{props.username}</p>\r\n              <div className=\"circle\"></div>\r\n              <i className=\"emblem fas fa-fire\"></i>\r\n            </div>\r\n            <div className=\"timestamp\">\r\n              <p>{date.toLocaleString()}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"voter\">\r\n            <div className=\"column\">\r\n              <i onClick={(e) => { e.stopPropagation(); likePost(props.id, props.page.currentTags, () => { setVotes(votes + 1) }) }} className=\"upvote fas fa-caret-up\"></i>\r\n              <p className=\"votes\">{votes}</p>\r\n              <i onClick={(e) => { e.stopPropagation(); dislikePost(props.id, props.page.currentTags, () => { setVotes(votes - 1) }) }} className=\"downvote fas fa-caret-down\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction likePost(id, tag, callback) {\r\n  DoVote('add', tag, id)\r\n    .then((resp) => {\r\n      if (resp.status === \"success\")\r\n        callback()\r\n    })\r\n}\r\n\r\nfunction dislikePost(id, tag, callback) {\r\n  DoVote('subtract', tag, id)\r\n    .then((resp) => {\r\n      if (resp.status === \"success\")\r\n        callback()\r\n    })\r\n}","/* eslint-disable eqeqeq */\r\nimport React, { useEffect, useState, useRef } from 'react'\r\nimport Post from './Post'\r\nimport { GetPosts, FollowTag, QuickSearch, GetPostsByUser, PageSearch } from '../Communicator'\r\nimport { setCreatePostModalVisibility } from './Modal'\r\nimport { isAuthenticated, isEmptyOrSpaces } from '../Utils'\r\nimport { Page, User } from '../Config'\r\nimport { showPostPage } from './PostPage'\r\nimport { addToBackButtonStack, showUserProfile } from './RightMenu'\r\nimport { showNotification } from './NoticationBar'\r\nimport { SetDivision } from '../App'\r\n\r\nexport function PostContainer(props) {\r\n\r\n  const [posts, setPosts] = useState([])\r\n  const [filter, setFilter] = useState('new')\r\n  const [viewType, setViewType] = useState(0)\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      if (props.page.tags[props.page.tags.length - 1].includes('_user_profile')) {\r\n        let username = props.page.tags[props.page.tags.length - 1].split('_')[0]\r\n        let posts = await GetPostsByUser(username)\r\n\r\n        if (posts.status == 'failure') return showNotification('Could not get Posts')\r\n\r\n        return setPosts(posts.data)\r\n      }\r\n\r\n      let tagsToGet = props.username != null && props.page.tags.length == 1 ?\r\n        [...props.page.currentTags, ...props.user.followingSports, ...props.user.followingCompetitions, ...props.user.followingTeams] : props.page.currentTags\r\n      let posts = await GetPosts(tagsToGet, filter)\r\n      setPosts(posts.data.posts)\r\n    }\r\n\r\n    fetchData()\r\n  }, [props.page.currentTags, filter])\r\n\r\n  function followText(user) {\r\n    function execute(array) {\r\n      let isUsed = false\r\n\r\n      for (let item of array) {\r\n        if (item[0] == props.page.currentTags[0]) {\r\n          isUsed = true\r\n          break\r\n        }\r\n      }\r\n\r\n      return <div id=\"follow-btn\" onClick={() => { isUsed ? followClicked(user, false) : followClicked(user, true) }}>{isUsed ? <p>Unfollow</p> : <p>Follow this!</p>}</div>\r\n    }\r\n\r\n    if (props.page.currentTags[0].includes('_team_result'))\r\n      return execute(user.followingTeams)\r\n    else\r\n      return execute(user.followingCompetitions)\r\n  }\r\n\r\n  async function followClicked(user, isAdded) {\r\n    let name, type\r\n\r\n    if (props.page.currentTags[0].includes('_team_result')) {\r\n      name = props.page.currentTags[0].split('_')[0]\r\n      type = 'team'\r\n    }\r\n    else if (props.page.currentTags[0].includes('_competition_result')) {\r\n      name = props.page.currentTags[0].split('_')[0]\r\n      type = 'competition'\r\n    }\r\n    else {\r\n      return\r\n    }\r\n\r\n    let result = await FollowTag(props.page.currentTags, name, type, isAdded)\r\n\r\n    if (result.status == 'success') {\r\n      if (type == 'team') {\r\n        if (isAdded)\r\n          user.editTeams([props.page.currentTags[0], name], 'add')\r\n        else\r\n          user.editTeams([props.page.currentTags[0], name], 'remove')\r\n      } else {\r\n        if (isAdded)\r\n          user.editCompetitions([props.page.currentTags[0], name], 'add')\r\n        else\r\n          user.editCompetitions([props.page.currentTags[0], name], 'remove')\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"main-holder\">\r\n      {\r\n        <div id=\"post-container\">\r\n          {/* <SearchBar></SearchBar> */}\r\n          <CreatePostBar></CreatePostBar>\r\n          <User.Consumer>\r\n            {user =>\r\n              isAuthenticated() && props.page.tags.length > 1 &&\r\n                (props.page.currentTags[0].includes('_team_result') || props.page.currentTags[0].includes('_competition_result')) ?\r\n                followText(user)\r\n                : <></>\r\n            }\r\n          </User.Consumer>\r\n          <FilterBar viewType={viewType} setViewType={setViewType} setFilter={setFilter}></FilterBar>\r\n          <CreatePostButton></CreatePostButton>\r\n          <Page.Consumer>\r\n            {page =>\r\n              posts.map(post => (\r\n                <Post\r\n                  setDivision={props.setDivision}\r\n                  setPosts={setPosts}\r\n                  page={page}\r\n                  viewType={viewType}\r\n                  post={post}\r\n                  key={post._id}\r\n                  id={post._id}\r\n                  votes={post.votes}\r\n                  username={post.username}\r\n                  title={post.title}\r\n                  body={post.body}\r\n                  time={post.time}></Post>\r\n              ))\r\n            }\r\n          </Page.Consumer>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction CreatePostBar() {\r\n  if (!isAuthenticated())\r\n    return null\r\n\r\n  return (\r\n    <div id=\"create-post-bar\">\r\n      <i className=\"fas fa-newspaper\"></i>\r\n      <input placeholder=\"Create post...\" onClick={() => { setCreatePostModalVisibility(true) }}></input>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function SearchBar(props) {\r\n\r\n  const [typingTimer, setTypingTimer] = useState(null)\r\n  const [activated, setActivation] = useState(false)\r\n  const [searchResults, setSearchResults] = useState({ teams: [], posts: [], competitions: [], fixtures: [], users: [] })\r\n  const [term, setTerm] = useState('')\r\n\r\n  function inputChanged(term) {\r\n\r\n    if (typingTimer)\r\n      clearInterval(typingTimer)\r\n\r\n    setTypingTimer(setTimeout(async () => {\r\n      if (isEmptyOrSpaces(term)) {\r\n        setActivation(false)\r\n        return setSearchResults({ teams: [], posts: [], competitions: [], fixtures: [], users: [] })\r\n      }\r\n\r\n      setTerm(term)\r\n\r\n      let result = await QuickSearch(term)\r\n      if (result.status == 'success') {\r\n        setSearchResults(result.data)\r\n        setActivation(true)\r\n      }\r\n    }, 1000))\r\n  }\r\n\r\n  return (\r\n    <div className=\"searchbar\" onChange={(e) => { inputChanged(e.target.value) }} onClick={() => { }}>\r\n      <i className=\"fas fa-search\"></i>\r\n      <input placeholder=\"Search...\"></input>\r\n      <SearchPage term={term} setSearchResults={setSearchResults} pageProvider={props.page} setVisibility={setActivation} activated={activated} searchResults={searchResults}></SearchPage>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction SearchPage(props) {\r\n  const searchPage = useRef(null)\r\n\r\n  function documentClick(e){\r\n    if (searchPage.current && !searchPage.current.contains(e.target)) {\r\n        props.setVisibility(false)\r\n    }\r\n}\r\n\r\nuseEffect(() => {\r\n    document.addEventListener('mousedown', documentClick)\r\n    return () => {\r\n        document.removeEventListener('mousedown', documentClick)\r\n    }\r\n}, [])\r\n\r\n  if (!props.activated)\r\n    return null\r\n\r\n  let searchResults = props.searchResults\r\n\r\n  async function TeamSearched(team) {\r\n    props.pageProvider.setTags(['home', 'team', `${team}_team_result`])\r\n    addToBackButtonStack(2, props.pageProvider, 1)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function FixtureSearched(fixture) {\r\n    props.pageProvider.setTags(['home', 'competition', `${fixture.league.name}_competition_result`, `${fixture.fixture_id}_fixture_details`])\r\n    addToBackButtonStack(3, props.pageProvider, 2, fixture)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function CompetitionSearched(competition) {\r\n    props.pageProvider.setTags(['home', 'competition', `${competition}_competition_result`])\r\n    addToBackButtonStack(2, props.pageProvider, 1)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function UserSearched(user) {\r\n    showUserProfile(user.username, props.pageProvider)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function PostSearched(post) {\r\n    post.totalVotes = post.votes.reduce((prev, curr) => prev.votes + curr.votes, { votes: 0 })\r\n    let timeVal = parseInt(post.time)\r\n    let date = new Date(timeVal)\r\n    post.date = date.toLocaleString()\r\n    SetDivision('post')\r\n    showPostPage(true, post)\r\n    props.setVisibility(false)\r\n  }\r\n\r\n  async function SearchInPage(tag, term) {\r\n    let result = await PageSearch(term, tag)\r\n    if (result.status == 'failure')\r\n      return showNotification(\"Could not find anything\")\r\n\r\n    props.setSearchResults({ teams: [], posts: result.data, competitions: [], fixtures: [], users: [] })\r\n  }\r\n\r\n  let isEmpty = true\r\n\r\n  for(let item in searchResults){\r\n    if(searchResults[item].length > 0)\r\n      isEmpty = false\r\n  }\r\n\r\n  return (\r\n    <div id=\"search-page\" ref={searchPage}>\r\n      <div className=\"header\">\r\n        {\r\n          props.pageProvider.tags.length > 2 ? <p className=\"extra-search\" onClick={() => { SearchInPage(props.pageProvider.currentTags[props.pageProvider.currentTags.length - 1], props.term) }}>Search on this page only</p> : <></>\r\n        }\r\n      </div>\r\n      {\r\n        isEmpty ? <p>No items found.</p> : <></>\r\n      }\r\n      {searchResults.teams.length == 0 ? <></> :\r\n        <div className=\"team-search section\">\r\n          <p className=\"title\">Teams</p>\r\n          <div className=\"divider\"></div>\r\n          {\r\n            [...new Set(searchResults.teams.map(item => item.name))].map(item => <p onClick={() => { TeamSearched(item) }} className=\"result\" key={item}>{item}</p>)\r\n          }\r\n        </div>\r\n      }\r\n      {\r\n        searchResults.fixtures.length == 0 ? <></> :\r\n          <div className=\"fixture-search section\">\r\n            <p className=\"title\">Fixtures</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.fixtures)].map(item => <p onClick={() => { FixtureSearched(item) }} className=\"result\" key={item.fixture_id}>{`${item.homeTeam.team_name} v ${item.awayTeam.team_name}`}</p>)\r\n            }\r\n          </div>\r\n      }\r\n      {\r\n        searchResults.competitions.length == 0 ? <></> :\r\n          <div className=\"competition-search section\">\r\n            <p className=\"title\">Competitions</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.competitions.map(item => item.name))].map(item => <p onClick={() => { CompetitionSearched(item) }} className=\"result\" key={item}>{item}</p>)\r\n            }\r\n          </div>\r\n      }\r\n      {\r\n        searchResults.users.length == 0 ? <></> :\r\n          <div className=\"user-search section\">\r\n            <p className=\"title\">Users</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.users)].map(item => <p onClick={() => { UserSearched(item) }} className=\"result\" key={item.username}>{item.username}</p>)\r\n            }\r\n          </div>\r\n      }\r\n      {\r\n        searchResults.posts.length == 0 ? <></> :\r\n          <div className=\"post-search section\">\r\n            <p className=\"title\">Posts</p>\r\n            <div className=\"divider\"></div>\r\n            {\r\n              [...new Set(searchResults.posts)].map(item => <p onClick={() => { PostSearched(item) }} className=\"result\" key={item.title}>{item.title}</p>)\r\n            }\r\n          </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction FilterBar(props) {\r\n\r\n  const [dropdownVisibility, setDropdownVisibility] = useState(false)\r\n  const [buttonDisplayData, setButtonDisplayData] = useState(['NEW', 'fas fa-certificate'])\r\n  const dropdown = useRef(null)\r\n\r\n  function dropdownSelect(filter, icon) {\r\n    props.setFilter(filter)\r\n    setButtonDisplayData([filter.toUpperCase(), icon])\r\n    setDropdownVisibility(false)\r\n  }\r\n\r\n  function documentClick(e) {\r\n    if (dropdown.current && !dropdown.current.contains(e.target) && dropdownVisibility) {\r\n      setDropdownVisibility(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', documentClick)\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', documentClick)\r\n    }\r\n  }, [dropdownVisibility])\r\n\r\n  return (\r\n    <div id=\"filterbar\">\r\n      <div id=\"filter-selector\" ref={dropdown} onClick={() => { setDropdownVisibility(state => !state) }}>\r\n        <i className={buttonDisplayData[1]}></i>\r\n        <div className=\"divider\"></div>\r\n        <p>{buttonDisplayData[0]}</p>\r\n        {\r\n          !dropdownVisibility ? <></> : <div className=\"dropdown\" onClick={(e) => { e.stopPropagation() }}>\r\n            <p onClick={() => { dropdownSelect('Top', 'fas fa-chart-line') }}>Top</p>\r\n            <p onClick={() => { dropdownSelect('Hot', 'fas fa-burn') }}>Hot</p>\r\n            <p onClick={() => { dropdownSelect('Trending', 'fab fa-red-river') }}>Trending</p>\r\n            <p onClick={() => { dropdownSelect('New', 'fas fa-certificate') }}>New</p>\r\n            <p onClick={() => { dropdownSelect('Controvertial', 'fas fa-skull-crossbones') }}>Controvertial</p>\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n      <div id=\"view-selector\">\r\n        <p>VIEW</p>\r\n        <div className=\"divider\"></div>\r\n        <i onClick={() => { props.setViewType(0) }} className=\"fas fa-th-list\"></i>\r\n        <i onClick={() => { props.setViewType(1) }} className=\"fas fa-stream\"></i>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction CreatePostButton() {\r\n\r\n  if (!isAuthenticated())\r\n    return null\r\n\r\n  return (\r\n    <div id=\"create-post-btn\" onClick={() => { setCreatePostModalVisibility(true) }}>\r\n      <div className=\"row\">\r\n        <i className=\"icon fas fa-envelope\"></i>\r\n        <p>CREATE POST</p>\r\n      </div>\r\n      <div className=\"shadow\">\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport App from './App';\nimport UserProvider, { User, PageProvider } from './Config'\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n      <PageProvider>\n        <User.Consumer>{\n          user => <App user={user} />\n        }\n        </User.Consumer>\n      </PageProvider>\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}